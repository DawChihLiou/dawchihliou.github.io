{"pageProps":{"post":{"title":"Using WebP for Better User Experience","publishedAt":"October 6, 2020","description":"WebP is a modern image format that provides outstanding image quality with smaller image size. I'll show you how much you can benefit from it and how to setup your project for optimal developer experience.","cover":"/optimized/articles/use-webp-for-better-ux/hero.png","category":"Performance","coverWidth":"1411","coverHeight":"682","body":{"raw":"\n## TL;DR\n\n- [WebP](https://developers.google.com/speed/webp) is a modern image format that provides amazing [lossless and lossy compression](https://www.keycdn.com/support/lossy-vs-lossless).\n- WebP makes images richer and smaller.\n- WebP makes web faster.\n- We don't have to convert our images to WebP ourselves. We have tools for that.\n- [Not all browsers support WebP format](https://caniuse.com/?search=webp) so you'll need fallback images.\n- Check out [source code](https://github.com/DawChihLiou/dawchihliou.github.io) on GitHub.\n\n---\n\n## What Is Wrong?\n\nAs I'm re-making [my portfolio](https://dawchihliou.github.io/), there is something nagging that bothers me.\nI have a `128x128` portait photo displayed on the top of my portfolio that is `251.35KB`.\nIt's way too big for its size and takes too long to download and that has a direct impact on my Lighthouse report.\n\nIt might not seem like a big deal. Afterall, a lot of people are enjoying high-speed WIFI and modern browsers.\nBut I want my portfolio to be [**mobile-first**](https://www.uxpin.com/studio/blog/a-hands-on-guide-to-mobile-first-design/).\nIt's important to me that my content can reach to audience that are using cellular data and mobile devices with ease.\n\n## next-gen Image Format\n\nThere are many ways to tackle image delivery and optimization such as using services like [Cloudinary](https://cloudinary.com/).\nWhat I'm looking for is a way to serve self-hosted static assets to reduce complexity of the project and a process that would work with release workflow.\n\n> So I want to generate optimized images in [next-gen format](https://web.dev/uses-webp-images/) during build time.\n\nAmond all the format options, [WebP is the most widely supported](https://caniuse.com/?search=webp). So let's see how to make it work!\n\n## Integrate WebP Image in Project\n\n---\n\nYou can find the [source code on GitHub](https://github.com/DawChihLiou/dawchihliou.github.io).\nThere are code snippets in this article and you could always reference them in the source code if you're interested.\n\n---\n\nWe can first [follow the instruction](https://web.dev/codelab-serve-images-webp/) to generate WebP images with command line.\n\n```bash\ncwebp -q 75 raw/portrait.png -o optimized/portrait.webp\n```\n\nLet's compare the file size.\n\n- Raw PNG image: `251.35KB`\n- Generated WebP image: `5.3KB`\n\nThat's a `97.89%` reduction right off the bat. Let's have a look at the image quality.\n\n<img\n  src=\"/optimized/webp-comparison.png\"\n  alt=\"PNG and WebP comparison\"\n  width=\"100%\"\n/>\n\nIf we zoom in a little, we can actually see the difference between the two compression algorithms.\nThe WebP format overall quality is very desirable, even with the quality of `75` (`0` is the worst, `100` is the best).\n\nNow we can use the generated image in the code.\n\n```jsx\n// components/Intro\n\n<img src=\"optimized/raw/portrait.webp\" alt=\"Daw-Chih's portait\" />\n```\n\nWe can have a look at the download time from Network.\n\n<img\n  src=\"/optimized/articles/use-webp-for-better-ux/network.png\"\n  alt=\"WebP in Network\"\n  width=\"100%\"\n/>{' '}\n\nIt takes about 1 millisecond to download the image. We just proved how effective WebP can be for our web performance.\n\n## Do We Have to Use The Command?\n\nIt's not very convenient to convert images with the command.\nWhat we are looking for is to host all the images in `/raw` directory and output WebP images in `/optimized` directory.\nLuckly I found something cool. [`imagemin`](https://github.com/imagemin/imagemin) is a npm library that minifies images.\nIt offers a handy [WebP imagemin plugin](https://www.npmjs.com/package/imagemin-webp) and all we need to do is to create a JavaScript file,\n\n```ts\n// lib/webp.js\n\nconst imagemin = require('imagemin')\nconst imageminWebp = require('imagemin-webp')\n\n/**\n * generate webp images inside of destination directory\n */\nimagemin(['raw/*.{jpg,png}'], {\n  destination: 'optimized',\n  plugins: [imageminWebp({ quality: 75 })],\n})\n```\n\nand run\n\n```bash\nnode lib/webp.js\n```\n\nto take all the raw images and generate WebP images in `/optimized`.\n\n## Not All Browsers Support WebP Format\n\nSo we need fallback images to support wider range of browsers. Let's first optimize our raw images with their original formats.\nThere are two `imagemin plugins` we can use:\n\n- [`imagemin-pngquant`](https://www.npmjs.com/package/imagemin-pngquant): for PNG images\n- [`imagemin-jpegtran`](https://github.com/imagemin/imagemin-jpegtran): for JPEG images\n\n```ts\n// lib/webp.js\n\nconst imageminJpegtran = require('imagemin-jpegtran')\nconst imageminPngquant = require('imagemin-pngquant')\n\n/**\n * generate optimized fallback images\n */\nimagemin(['raw/*.{jpg,png}'], {\n  destination: 'optimized',\n  plugins: [\n    imageminJpegtran(),\n    imageminPngquant({\n      quality: [0.6, 0.8],\n    }),\n  ],\n})\n```\n\nNow we are ready to add fallback images.\n\n```jsx\n// components/Intro\n\n<picture>\n  <source srcSet=\"optimized/portrait.webp\" type=\"image/webp\" />\n  <source srcSet=\"optimized/portrait.png\" type=\"image/png\" />\n  <img src=\"optimized/portrait.png\" alt=\"Daw-Chih's portait\" />\n</picture>\n```\n\nAt this point, we can really compare all image qualities.\n\n##### PNG (left) and optimized PNG (right) comparison\n\n<img\n  src=\"/optimized/articles/use-webp-for-better-ux/png-comparison.png\"\n  alt=\"PNG and optimized PNG comparison\"\n  width=\"100%\"\n/>\n\n##### PNG (left) and WebP (right) comparison\n\n<img\n  src=\"/optimized/articles/use-webp-for-better-ux/webp-comparison.png\"\n  alt=\"PNG and WebP comparison\"\n  width=\"100%\"\n/>\n\nIf you are looking for optimizing SVG files, you can achieve it with [`imagemin-svgo`](https://www.npmjs.com/package/imagemin-svgo).\n\n```ts\n// lib/webp.js\n\nconst imageminSvgo = require('imagemin-svgo')\n\n/**\n * generate optimized svg files\n */\nimagemin(['public/raw/*.svg'], {\n  destination: 'optimized',\n  plugins: [imageminSvgo({ removeViewBox: false })],\n})\n```\n\n## We Are Ready to Integrate with Workflow Automation\n\nIn our `package.json`, add the following scripts.\n\n```ts\n\"scripts\": {\n  \"image\": \"node lib/webp.js\",\n  \"prepare\": \"yarn image\",\n}\n```\n\nThe `prepare` script will execute after installation. This will allow us to build our image assets in the workflows of our choice.\n\nFor example, to deploy my portfolio with GitHub Actions to GitHub Pages as a static site, a workflow looks like this.\n\n```yml\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Install dependencies üê•\n        run: yarn install\n\n      - name: Export static assets üì¶\n        run: yarn build && yarn export\n\n      - name: Deploy to GitHub Pages üöÄ\n        uses: JamesIves/github-pages-deploy-action@3.6.2\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          BRANCH: gh-pages\n          FOLDER: out # contains all static assets\n```\n\nIn the \"Install dependencies\" step, the job installs the dependencies, and then generate the optimized images.\nThe images will be deployed alongside with the other assets in `/out` directory.\n\n## To Sum up\n\nWebP is designed for web. The image quality and size is very desirable especially for mobile users.\nWith the right tooling, generating WebP image can work seemlessly with automation.\nAs long as we make sure that the fallback images are in place, our audience can benefit tremendously from the boost of speed and better enjoy our content.\n\n##### Lighthouse report with optimized WebP images\n\n<img\n  src=\"/optimized/articles/use-webp-for-better-ux/lighthouse-report.png\"\n  alt=\"Lighthouse report\"\n  width=\"100%\"\n/>\n\n---\n\nHere you have it! Thanks for reading through.\n\nI hope I made it as straight forward as possible to grasp.\nIf you have thoughts or there‚Äôs something not clear to you, feel free to drop a comment below, or connect with me on [twitter](https://twitter.com/dawchihliou)!\n\nIf you're wondering how to test Redux Observable, I wrote an ariticle [\"Writing Better Marble Tests for Redux Observable and TypeScript\"](https://itnext.io/better-marble-test-70c7676a1e2) just for you.\nIt's a comprehensive guide to walk you through the thought process.\n\nIf you‚Äôre a fan of functional programming, check out [this article that I wrote about Transducers](https://medium.com/@dawchihliou/intuitive-transducer-in-javascript-f358d3fe53d).\nIt‚Äôs a step by step reasoning on writing a transducer and it touches on key ideas about functional programming.\n\nHappy coding!\n","code":"var Component=(()=>{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var i=a=>t(a,\"__esModule\",{value:!0});var u=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),N=(a,e)=>{i(a);for(var s in e)t(a,s,{get:e[s],enumerable:!0})},k=(a,e,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of d(e))!m.call(a,c)&&c!==\"default\"&&t(a,c,{get:()=>e[c],enumerable:!(s=p(e,c))||s.enumerable});return a},g=a=>k(i(t(a!=null?r(h(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u((v,l)=>{l.exports=_jsx_runtime});var f={};N(f,{default:()=>b});var n=g(o());function w(a={}){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",hr:\"hr\",p:\"p\",code:\"code\",strong:\"strong\",blockquote:\"blockquote\",pre:\"pre\",h5:\"h5\"},a.components),{wrapper:s}=e,c=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"tldr\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#tldr\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developers.google.com/speed/webp\",children:\"WebP\"}),\" is a modern image format that provides amazing \",(0,n.jsx)(e.a,{href:\"https://www.keycdn.com/support/lossy-vs-lossless\",children:\"lossless and lossy compression\"}),\".\"]}),`\n`,(0,n.jsx)(e.li,{children:\"WebP makes images richer and smaller.\"}),`\n`,(0,n.jsx)(e.li,{children:\"WebP makes web faster.\"}),`\n`,(0,n.jsx)(e.li,{children:\"We don't have to convert our images to WebP ourselves. We have tools for that.\"}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://caniuse.com/?search=webp\",children:\"Not all browsers support WebP format\"}),\" so you'll need fallback images.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Check out \",(0,n.jsx)(e.a,{href:\"https://github.com/DawChihLiou/dawchihliou.github.io\",children:\"source code\"}),\" on GitHub.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-is-wrong\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#what-is-wrong\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What Is Wrong?\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"As I'm re-making \",(0,n.jsx)(e.a,{href:\"https://dawchihliou.github.io/\",children:\"my portfolio\"}),`, there is something nagging that bothers me.\nI have a `,(0,n.jsx)(e.code,{children:\"128x128\"}),\" portait photo displayed on the top of my portfolio that is \",(0,n.jsx)(e.code,{children:\"251.35KB\"}),`.\nIt's way too big for its size and takes too long to download and that has a direct impact on my Lighthouse report.`]}),`\n`,(0,n.jsxs)(e.p,{children:[`It might not seem like a big deal. Afterall, a lot of people are enjoying high-speed WIFI and modern browsers.\nBut I want my portfolio to be `,(0,n.jsx)(e.a,{href:\"https://www.uxpin.com/studio/blog/a-hands-on-guide-to-mobile-first-design/\",children:(0,n.jsx)(e.strong,{children:\"mobile-first\"})}),`.\nIt's important to me that my content can reach to audience that are using cellular data and mobile devices with ease.`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"next-gen-image-format\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#next-gen-image-format\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"next-gen Image Format\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"There are many ways to tackle image delivery and optimization such as using services like \",(0,n.jsx)(e.a,{href:\"https://cloudinary.com/\",children:\"Cloudinary\"}),`.\nWhat I'm looking for is a way to serve self-hosted static assets to reduce complexity of the project and a process that would work with release workflow.`]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"So I want to generate optimized images in \",(0,n.jsx)(e.a,{href:\"https://web.dev/uses-webp-images/\",children:\"next-gen format\"}),\" during build time.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Amond all the format options, \",(0,n.jsx)(e.a,{href:\"https://caniuse.com/?search=webp\",children:\"WebP is the most widely supported\"}),\". So let's see how to make it work!\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"integrate-webp-image-in-project\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#integrate-webp-image-in-project\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Integrate WebP Image in Project\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can find the \",(0,n.jsx)(e.a,{href:\"https://github.com/DawChihLiou/dawchihliou.github.io\",children:\"source code on GitHub\"}),`.\nThere are code snippets in this article and you could always reference them in the source code if you're interested.`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"We can first \",(0,n.jsx)(e.a,{href:\"https://web.dev/codelab-serve-images-webp/\",children:\"follow the instruction\"}),\" to generate WebP images with command line.\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"cwebp -q \",(0,n.jsx)(e.span,{className:\"token number\",children:\"75\"}),` raw/portrait.png -o optimized/portrait.webp\n`]})})}),`\n`,(0,n.jsx)(e.p,{children:\"Let's compare the file size.\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Raw PNG image: \",(0,n.jsx)(e.code,{children:\"251.35KB\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Generated WebP image: \",(0,n.jsx)(e.code,{children:\"5.3KB\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"That's a \",(0,n.jsx)(e.code,{children:\"97.89%\"}),\" reduction right off the bat. Let's have a look at the image quality.\"]}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/webp-comparison.png\",alt:\"PNG and WebP comparison\",width:\"100%\"}),`\n`,(0,n.jsxs)(e.p,{children:[`If we zoom in a little, we can actually see the difference between the two compression algorithms.\nThe WebP format overall quality is very desirable, even with the quality of `,(0,n.jsx)(e.code,{children:\"75\"}),\" (\",(0,n.jsx)(e.code,{children:\"0\"}),\" is the worst, \",(0,n.jsx)(e.code,{children:\"100\"}),\" is the best).\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Now we can use the generated image in the code.\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"language-jsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// components/Intro\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"optimized/raw/portrait.webp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"alt\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"Daw-Chih\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"'\"}),\"s portait\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"We can have a look at the download time from Network.\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/use-webp-for-better-ux/network.png\",alt:\"WebP in Network\",width:\"100%\"}),`\n`,\" \",`\n`,(0,n.jsx)(e.p,{children:\"It takes about 1 millisecond to download the image. We just proved how effective WebP can be for our web performance.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"do-we-have-to-use-the-command\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#do-we-have-to-use-the-command\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Do We Have to Use The Command?\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`It's not very convenient to convert images with the command.\nWhat we are looking for is to host all the images in `,(0,n.jsx)(e.code,{children:\"/raw\"}),\" directory and output WebP images in \",(0,n.jsx)(e.code,{children:\"/optimized\"}),` directory.\nLuckly I found something cool. `,(0,n.jsx)(e.a,{href:\"https://github.com/imagemin/imagemin\",children:(0,n.jsx)(e.code,{children:\"imagemin\"})}),` is a npm library that minifies images.\nIt offers a handy `,(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/imagemin-webp\",children:\"WebP imagemin plugin\"}),\" and all we need to do is to create a JavaScript file,\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// lib/webp.js\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" imagemin \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'imagemin'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" imageminWebp \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'imagemin-webp'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment\",children:`/**\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment\",children:` * generate webp images inside of destination directory\n`})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\" */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"imagemin\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'raw/*.{jpg,png}'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  destination\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'optimized'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  plugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"imageminWebp\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" quality\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"75\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"and run\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"node\"}),` lib/webp.js\n`]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"to take all the raw images and generate WebP images in \",(0,n.jsx)(e.code,{children:\"/optimized\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"not-all-browsers-support-webp-format\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#not-all-browsers-support-webp-format\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Not All Browsers Support WebP Format\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`So we need fallback images to support wider range of browsers. Let's first optimize our raw images with their original formats.\nThere are two `,(0,n.jsx)(e.code,{children:\"imagemin plugins\"}),\" we can use:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/imagemin-pngquant\",children:(0,n.jsx)(e.code,{children:\"imagemin-pngquant\"})}),\": for PNG images\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/imagemin/imagemin-jpegtran\",children:(0,n.jsx)(e.code,{children:\"imagemin-jpegtran\"})}),\": for JPEG images\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// lib/webp.js\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" imageminJpegtran \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'imagemin-jpegtran'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" imageminPngquant \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'imagemin-pngquant'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment\",children:`/**\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment\",children:` * generate optimized fallback images\n`})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\" */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"imagemin\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'raw/*.{jpg,png}'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  destination\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'optimized'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  plugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"imageminJpegtran\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token function\",children:\"imageminPngquant\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      quality\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0.6\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0.8\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"Now we are ready to add fallback images.\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"language-jsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// components/Intro\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"picture\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"source\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"srcSet\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"optimized/portrait.webp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"image/webp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"source\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"srcSet\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"optimized/portrait.png\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"image/png\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"optimized/portrait.png\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"alt\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"Daw-Chih\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"'\"}),\"s portait\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"picture\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"At this point, we can really compare all image qualities.\"}),`\n`,(0,n.jsxs)(e.h5,{id:\"png-left-and-optimized-png-right-comparison\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#png-left-and-optimized-png-right-comparison\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"PNG (left) and optimized PNG (right) comparison\"]}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/use-webp-for-better-ux/png-comparison.png\",alt:\"PNG and optimized PNG comparison\",width:\"100%\"}),`\n`,(0,n.jsxs)(e.h5,{id:\"png-left-and-webp-right-comparison\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#png-left-and-webp-right-comparison\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"PNG (left) and WebP (right) comparison\"]}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/use-webp-for-better-ux/webp-comparison.png\",alt:\"PNG and WebP comparison\",width:\"100%\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you are looking for optimizing SVG files, you can achieve it with \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/imagemin-svgo\",children:(0,n.jsx)(e.code,{children:\"imagemin-svgo\"})}),\".\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// lib/webp.js\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" imageminSvgo \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'imagemin-svgo'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment\",children:`/**\n`})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token comment\",children:` * generate optimized svg files\n`})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\" */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"imagemin\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'public/raw/*.svg'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  destination\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'optimized'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  plugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"imageminSvgo\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" removeViewBox\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"we-are-ready-to-integrate-with-workflow-automation\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#we-are-ready-to-integrate-with-workflow-automation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"We Are Ready to Integrate with Workflow Automation\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"In our \",(0,n.jsx)(e.code,{children:\"package.json\"}),\", add the following scripts.\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token string-property property\",children:'\"scripts\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string-property property\",children:'\"image\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"node lib/webp.js\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string-property property\",children:'\"prepare\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"yarn image\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"prepare\"}),\" script will execute after installation. This will allow us to build our image assets in the workflows of our choice.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"For example, to deploy my portfolio with GitHub Actions to GitHub Pages as a static site, a workflow looks like this.\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-yml\",children:(0,n.jsxs)(e.code,{className:\"language-yml code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"jobs\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"deploy\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"runs-on\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" ubuntu\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`latest\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"steps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` actions/checkout@v2\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" Install dependencies \",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"front-facing baby chick\",children:\"\\u{1F425}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),` yarn install\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" Export static assets \",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"package\",children:\"\\u{1F4E6}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"run\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" yarn build \",(0,n.jsx)(e.span,{className:\"token important\",children:\"&&\"}),` yarn export\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\" \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"name\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" Deploy to GitHub Pages \",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"rocket\",children:\"\\u{1F680}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"uses\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" JamesIves/github\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"pages\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),\"deploy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`action@3.6.2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"with\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"GITHUB_TOKEN\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" $\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" secrets.GITHUB_TOKEN \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"BRANCH\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" gh\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"-\"}),`pages\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"FOLDER\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" out \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"# contains all static assets\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[`In the \"Install dependencies\" step, the job installs the dependencies, and then generate the optimized images.\nThe images will be deployed alongside with the other assets in `,(0,n.jsx)(e.code,{children:\"/out\"}),\" directory.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"to-sum-up\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#to-sum-up\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"To Sum up\"]}),`\n`,(0,n.jsx)(e.p,{children:`WebP is designed for web. The image quality and size is very desirable especially for mobile users.\nWith the right tooling, generating WebP image can work seemlessly with automation.\nAs long as we make sure that the fallback images are in place, our audience can benefit tremendously from the boost of speed and better enjoy our content.`}),`\n`,(0,n.jsxs)(e.h5,{id:\"lighthouse-report-with-optimized-webp-images\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#lighthouse-report-with-optimized-webp-images\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Lighthouse report with optimized WebP images\"]}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/use-webp-for-better-ux/lighthouse-report.png\",alt:\"Lighthouse report\",width:\"100%\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"Here you have it! Thanks for reading through.\"}),`\n`,(0,n.jsxs)(e.p,{children:[`I hope I made it as straight forward as possible to grasp.\nIf you have thoughts or there\\u2019s something not clear to you, feel free to drop a comment below, or connect with me on `,(0,n.jsx)(e.a,{href:\"https://twitter.com/dawchihliou\",children:\"twitter\"}),\"!\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you're wondering how to test Redux Observable, I wrote an ariticle \",(0,n.jsx)(e.a,{href:\"https://itnext.io/better-marble-test-70c7676a1e2\",children:'\"Writing Better Marble Tests for Redux Observable and TypeScript\"'}),` just for you.\nIt's a comprehensive guide to walk you through the thought process.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you\\u2019re a fan of functional programming, check out \",(0,n.jsx)(e.a,{href:\"https://medium.com/@dawchihliou/intuitive-transducer-in-javascript-f358d3fe53d\",children:\"this article that I wrote about Transducers\"}),`.\nIt\\u2019s a step by step reasoning on writing a transducer and it touches on key ideas about functional programming.`]}),`\n`,(0,n.jsx)(e.p,{children:\"Happy coding!\"})]});return s?(0,n.jsx)(s,Object.assign({},a,{children:c})):c}var b=w;return f;})();\n;return Component.default;"},"_id":"articles/use-webp-for-better-ux.mdx","_raw":{"sourceFilePath":"articles/use-webp-for-better-ux.mdx","sourceFileName":"use-webp-for-better-ux.mdx","sourceFileDir":"articles","bodyType":"mdx","flattenedPath":"articles/use-webp-for-better-ux"},"type":"Article","readingTime":{"text":"6 min read","minutes":5.465,"time":327900,"words":1093},"wordCount":1095,"slug":"use-webp-for-better-ux"}},"__N_SSG":true}