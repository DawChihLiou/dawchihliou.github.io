angular.module("app",["ngRoute","ngAnimate","duParallax"]).config(function(e){e.when("/",{controller:"defaultController",templateUrl:"views/default.html"}).otherwise({redirectTo:"/"})}).controller("defaultController",function(e,t,n,o,i,r){e.loaded=!1,e.background=r.createAnimator(-.3),e.selected=-1,n.innerWidth>2e3?o(function(){e.loaded=!0},12500):n.innerWidth>1600&&n.innerWidth<=2e3?o(function(){e.loaded=!0},11e3):n.innerWidth>768&&n.innerWidth<=1600?o(function(){e.loaded=!0},9500):o(function(){e.loaded=!0},8e3),e.flip=function(t){-1===e.selected&&e.selected!==t?e.selected=t:-1!==e.selected&&e.selected!==t?(e.selected=-1,o(function(){e.selected=t},400)):e.selected=-1},e.sendMsg=function(){if(void 0===e.cName||""===e.cName.trim())alert("Your name please.");else if(void 0===e.cEmail||""===e.cEmail.trim())alert("How do I respond to your message?");else if(void 0===e.cContent||""===e.cContent.trim())alert("Zero message makes zero sense!");else{var n="php/message.php?name="+e.cName+"&comment="+e.cContent+"&email="+e.cEmail;t({method:"GET",url:n}).success(function(e,t){console.log("XHR status: "+t),alert("Thanks for the message!")}).error(function(){return void alert("Something's wrong.")})}}}).factory("Contents",function(e,t,n){console.log("Screen Width: "+n.innerWidth);var o="data/data.json";t({method:"GET",url:o}).success(function(t){e.name=t.name,e.email=t.email,e.scrollText=t.scroll_text,e.submitText=t.submit_text,e.linkedIn=t.linkedIn,e.landingPicture=t.landing_pic,e.portfolioItems=t.works,e.aboutMe=t.aboutMe,e.landingCaption=t.landing_caption,e.scene=t.scene,e.photoPath=n.innerWidth>2e3?t.photo_path.xb:n.innerWidth>1600&&n.innerWidth<=2e3?t.photo_path.bg:n.innerWidth>768&&n.innerWidth<=1600?t.photo_path.md:t.photo_path.sm}).error(function(){return void alert("Something's wrong when retrieving data.")})}).directive("scrolly",function(e,t){function n(e){try{return e.offset()}catch(t){}var n=e[0],o=0,i=0,r=document.documentElement||document.body,a=window.pageXOffset||r.scrollLeft,l=window.pageYOffset||r.scrollTop;return o=n.getBoundingClientRect().left+a,i=n.getBoundingClientRect().top+l,{left:o,top:i}}return{restrict:"A",link:function(o){angular.element(t).bind("scroll",function(){for(var t=$(".item"),i=0;i<t.length;i++){var r=$(t[i]);window.pageYOffset>.86*n(r).top&&window.pageYOffset<2*n(r).top?e.addClass(r,"animate"):e.removeClass(r,"animate")}o.$apply()})}}});