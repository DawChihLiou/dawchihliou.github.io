{"pageProps":{"post":{"title":"Building Better Next.js Static Sites with MDX and Contentlayer","publishedAt":"February 4, 2022","description":"Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how.","cover":"/optimized/articles/nextjs-mdx-contentlayer/hero.webp","category":"Frontend","coverWidth":"1400","coverHeight":"600","body":{"raw":"\n## TL;DR\n\n- 💨 Contentlayer reduces a lot of friction in publishing the content on my static website.\n- 😍 MDX with remark and rehype plugins is awesomely convenient and powerful.\n- 🍵 Next.js jells very well with Contentlayer and MDX\n\n---\n\nThis article is also available on\n\n- [Better Programming](https://betterprogramming.pub/building-better-next-js-static-sites-with-mdx-and-contentlayer-9a06ca84e7f7)\n- [Hacker Noon](https://hackernoon.com/build-faster-nextjs-static-sites-using-mdx-and-contentlayer)\n\nFeel free to read it on your favorite platform✨\n\n---\n\nI fully embraced [Static Site Generation](https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one) (SSG) for my website to optimize the site speed and scaling in the future.\n\nRecently I've been researching on reducing the effort to create a new article on my website.\nThere were many touch points in my [Next.js](https://nextjs.org/) project setup in order to:\n\n- publish a new article\n- estimate reading time\n- update [the list of articles](/articles)\n- create a new RSS feed\n- update sitemap\n\n## What Was The Problem?\n\nI analyzed a little more and found out the friction was in my MDX usage.\nMy file structure looked like this:\n\n```bash\nmy-blog\n├── public\n├── data\n│   └── blogs.json\n├── components\n│   └── Blog.tsx\n└── pages\n    ├── blogs\n    │   ├── blog-one.mdx\n    │   ├── blog-two.mdx\n    │   └── blog-three.mdx\n    └── index.tsx\n```\n\nIt is the [standard setup](https://nextjs.org/docs/advanced-features/using-mdx) recommended by Next.js.\nI was using [@mdx-js/loader](https://github.com/mdx-js/mdx/tree/main/packages/loader) and [@next/mdx](https://www.npmjs.com/package/@next/mdx) to transform MDX into pages.\n\nTake `pages/blogs/blog-one.mdx` for example, the content looked like this:\n\n```jsx:pages/blogs/blog-one.mdx\nimport Blog from '../../components/Blog'\n\nexport const meta = {\n  title: 'Blog One🚀',\n  publishedAt: 'February 4, 2022'\n  description: \"Learn how to build a Next.js blog with MDX and Contentlayer!\",\n  cover: '/optimized/articles/blog-one/hero.webp',\n}\n\nexport default ({ children }) => (\n  <Blog\n    title={meta.title}\n    description={meta.description}\n    cover={meta.cover}\n    publishedAt={meta.publishedAt}\n  >\n    {children}\n  </Blog>\n)\n\nHey There👋\n\nWelcome to Blog one✨ Let's learn together!\n```\n\n`blog-one.mdx` named-exported a meta data.\nIt was picked up by the the default component that took care of the layout and rendered the meta data.\n\nThe `<Blog />` component looked like this:\n\n```tsx:components/Blog.tsx\nimport { BlogProps } from './types'\n\nexport default function Blog(props: BlogProps) {\n  return (\n    <article>\n      <h1>{props.title}</h1>\n      <h2>{props.description}</h2>\n      <p>\n        {props.publishedAt}\n      </p>\n      <img alt={props.title} src={props.cover} width=\"100%\" loading=\"lazy\" />\n      {props.children}\n    </article>\n  )\n}\n```\n\nI was treating MDX files as pages.\n\nBecause the `meta` data in each MDX file was trapped in the page, I duplicated all the meta data and aggregated them in `data/blogs.json`.\nI used it to maintain the list of articles on my website, the RSS feed, and the [sitemap](https://developers.google.com/search/docs/advanced/sitemaps/overview) for SEO.\n\n> It would be much better if I could treat the MDX files as data, and generate pages based on the data.\n\nThis way, **I could use the MDX files as data points and page content at the same time**.\nPublishing a new article ideally could be much more frictionless.\n\nI came across [Lee Robinson's website](https://leerob.io/) and found out he was using a alpha library called [Contentlayer](https://github.com/contentlayerdev/contentlayer) to solve the problem.\n\n## What is Contentlayer\n\n[Contentlayer](https://github.com/contentlayerdev/contentlayer) is an library in its early stage that turns content into data.\nIt works roughly like this:\n\n- It takes in headless CMS or local content in YAML, JSON, MDX, or Markdown as source.\n- It transforms the content into TypeScript types and data files in JSON that includes the original content, meta data, and any derived data we specified.\n- It aggregates all the data in JSON and exports them as [ESM](https://nodejs.org/api/esm.html#modules-ecmascript-modules).\n\nFor my use case, I can use the aggregated data generated by Contentlayer to replace my previous manual process:\n\n- I use the generated data to build the new page for an article.\n- I use the generated data to render [the list of articles](https://dawchihliou.github.io/articles).\n- I use the generated data to create a new RSS feed.\n- I use the new file structure to generate a new sitemap.\n- All automatic!\n\nContentlayer offers easy integration with Next.js.\nI'll show you how in the next sections.\n\n## Using MDX as Data\n\nLet's first explore how to use MDX as a data point.\n\nMDX offers [YAML frontmatter](https://mdxjs.com/guides/frontmatter/) support with custom parsers.\nYou can express the meta data like this:\n\n```md:data/blogs/blog-one.mdx\n---\ntitle: 'Blog One🚀'\npublishedAt: 'February 4, 2022'\ndescription: 'Learn how to build a Next.js blog with MDX and Contentlayer!'\ncover: '/optimized/articles/blog-one/hero.webp'\n---\n\nHey There👋\n\nWelcome to Blog One✨ Let's learn together!\n```\n\nYou can see the meta data in YAML syntax is inside the `---` block, and the body of the content follows in MDX syntax.\nComparing to the [old setup](#what-was-the-problem) where MDX file were treated as pages, the new MDX file contains only meta data and content.\n\nThe next thing we need to do is to generate the blog page that renders the meta data and the content with the layout from `<Blog />` component.\n\n## Integrating Contentlayer in Next.js\n\nNow that we updated the MDX files to contain only data and content, Let's move them into the `data` directory.\n\nThe new file structure looks like this:\n\n```bash\nmy-blog\n├── public\n├── components\n│   └── Blog.tsx\n├── pages\n│   ├── blogs\n│   │   └── [slug].tsx\n│   └── index.tsx\n└── data\n    └──blogs\n       ├── blog-one.mdx\n       ├── blog-two.mdx\n       └── blog-three.mdx\n```\n\nNotice that we replaced the MDX files in `pages/blogs` directory with a [dynamic route](https://nextjs.org/docs/routing/dynamic-routes) `[slug].tsx`.\nWe'll use this page to statically generate the blog pages [later](#using-contentlayer-data-for-static-site-generation).\n\n### Configuring Contentlayer\n\nContentlayer offers seamless integration with Next.js.\n\nTo install the dependencies:\n\n```bash\nyarn add contentlayer next-contentlayer\n```\n\nContentlayer reads the configuration from `contentlayer.config.ts`.\nLet's create one.\n\n```bash\ntouch contentlayer.config.ts\n```\n\nInside the `contentlayer.config.ts`, we need to add instructions to tell Contentlayer how to parse:\n\n- `name`: namespace\n- `filePathPattern`: input files\n- `bodyType`: content body type for parsing\n- `fields`: meta data fields\n- `computedFields`: derived meta data fields\n\n```ts:contentlayer.config.ts\nimport { defineDocumentType, makeSource } from 'contentlayer/source-files'\nimport readingTime from 'reading-time'\n\nexport const Blog = defineDocumentType(() => ({\n  name: 'Blog',\n  filePathPattern: 'blogs/*.mdx',\n  bodyType: 'mdx',\n  fields: {\n    title: { type: 'string', required: true },\n    publishedAt: { type: 'string', required: true },\n    description: { type: 'string', required: true },\n    cover: { type: 'string', required: true },\n  },\n  computedFields: {\n    readingTime: {\n      type: 'json',\n      resolve: (doc) => readingTime(doc.body.raw)\n    },\n    slug: {\n      type: 'string',\n      resolve: (doc) => doc._raw.sourceFileName.replace('.mdx', ''),\n    },\n  },\n}))\n\nexport default makeSource({\n  contentDirPath: 'data',\n  documentTypes: [Blog],\n  mdx: {\n    remarkPlugins: [],\n    rehypePlugins: [],\n  },\n})\n```\n\nIn the `computedFields`, we can compute data like `readingTime` from the content body🤩.\nI'm using [`reading-time`](https://github.com/ngryman/reading-time) for calculating the reading time based on word count.\nThe `slug` field is for generating the dynamic route later in the `[slug].tsx` page.\n\nUnder the hood, Contentlayer uses [`mdx-bundler`](https://github.com/kentcdodds/mdx-bundler) to parse MDX and YAML frontmatter and extract the content and data.\nIf you're interested in the magic behind it, you can read more about [`gray-matter`](https://github.com/jonschlinkert/gray-matter) and [`remark-mdx-frontmatter`](https://github.com/remcohaszing/remark-mdx-frontmatter).\nThese are the libraries `mdx-bundler` uses internally.\n\nAt the end of the configuration, `makeSource` will then look for files that match `blogs/*.mdx` pattern under `data` directory and generate the blog data in `.contentlayer` directory at your project root.\n\nLastly, wrap your Next.js configuration with `next-contentlayer` to integrate with Next.js's live-reload and build process.\n\n```js:next.config.js\nconst { withContentlayer } = require('next-contentlayer')\n\nmodule.exports = withContentlayer()({\n  // ... your Next.js config\n})\n```\n\n### Using Contentlayer data for Static Site Generation\n\nWe are ready to use the generated data from Contentlayer and build the static pages🤩\n\nAll we need to do is to use `allBlogs` from `.contentlayer/data` to build the dynamic routes with [`getStaticPaths`](https://nextjs.org/docs/api-reference/data-fetching/get-static-paths) and use [`getStaticProps`](https://nextjs.org/docs/api-reference/data-fetching/get-static-props) to pass the blog data to the `[slug].tsx` page.\n\n```tsx:pages/blogs/[slug].tsx\nimport { useMDXComponent } from 'next-contentlayer/hooks'\nimport { allBlogs } from '.contentlayer/data'\nimport type { Blog } from '.contentlayer/types'\nimport BlogLayout from '../../../components/Blog'\n\ntype BlogProps = {\n  blog: Blog\n}\n\nexport default function Blog({ blog }: BlogProps) {\n  const Component = useMDXComponent(post.body.code)\n\n  return (\n    <BlogLayout {...blog}>\n      <Component />\n    </BlogLayout>\n  )\n}\n\nexport async function getStaticPaths() {\n  return {\n    paths: allBlogs.map((blog) => ({ params: { slug: blog.slug } })),\n    fallback: false,\n  }\n}\n\nexport async function getStaticProps({ params }) {\n  const blog = allBlogs.find((blog) => blog.slug === params.slug)\n  return { props: { blog } }\n}\n```\n\nAfter the project is built, you'll see the blogs available at `/blogs/blog-one`, `/blogs/blog-two`, and `/blogs/blog-three`✨\n\n### Bonus: remark & rehype Plugins\n\nThere are a lot more we can do with MDX by leveraging remark and rehype plugins in the `contentlayer.config.ts`.\n\n- [remark](https://github.com/remarkjs/remark) is an awesome plugin ecosystem that transforms markdown.\n- [rehype](https://github.com/rehypejs/rehype) is another powerful plugin ecosystem that transforms HTML.\n\nThey are two separate ecosystems but we can convert remark to rehype and generate HTML markup.\nThe transformation looks like this:\n\n```bash\nMDX ----> remark AST ------> rehype AST --------> HTML\n    parse            convert            stringify\n```\n\nContentlayer takes care of the flow.\nAll we need to do is adding the plugins to provide instruction for the transformations.\nI'm using the following plugins:\n\n- [`remark-gfm`](https://github.com/remarkjs/remark-gfm) to support [GitHub Flavored Markdown](https://github.github.com/gfm/).\n- [`rehype-slug`](https://github.com/rehypejs/rehype-slug) and [`rehype-autolink-headings`](https://github.com/rehypejs/rehype-autolink-headings) to render heading links.\n- [`rehype-prism-plus`](https://github.com/timlrx/rehype-prism-plus) to render syntax highlighting in code blocks.\n- [`rehype-code-titles`](https://github.com/rockchalkwushock/rehype-code-titles) to render code block titles.\n- [`rehype-accessible-emojis`](https://www.npmjs.com/package/rehype-accessible-emojis) to provide accessibility to emojis.\n\n```diff:contentlayer.config.ts\n+ import remarkGfm from 'remark-gfm'\n+ import rehypeSlug from 'rehype-slug'\n+ import rehypeAutolinkHeadings from 'rehype-autolink-headings'\n+ import rehypeCodeTitles from 'rehype-code-titles'\n+ import rehypePrism from 'rehype-prism-plus'\n+ import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis'\n\n// ...\n\nexport default makeSource({\n  mdx: {\n-    remarkPlugins: [],\n+    remarkPlugins: [remarkGfm],\n-    rehypePlugins: [],\n+    rehypePlugins: [\n+      rehypeSlug,\n+      rehypeCodeTitles,\n+      rehypePrism,\n+      rehypeAutolinkHeadings,\n+      rehypeAccessibleEmojis,\n    ],\n  },\n})\n```\n\n## Contentlayer Applications\n\nThere are more things we can do with the data.\n\n### Application #1: RSS Feed\n\nI can now write a script to generate a RSS feed base on the `allBlogs` data!\n\n```js:scripts/rss.mjs\nimport { writeFileSync } from 'fs'\nimport RSS from 'rss'\nimport { allBlogs } from '.contentlayer/data'\n\nconst feed = new RSS({\n  title: \"My Blogs\",\n  feed_url: 'localhost:3000/rss.xml',\n  site_url: 'localhost:3000',\n})\n\nallBlogs.map((blog) => ({\n  title: blog.title,\n  description: blog.description,\n  url: `localhost:3000/blogs/${blog.slug}`\n  date: blog.publishedAt,\n})).forEach((item) => {\n  feed.item(item)\n})\n\nwriteFileSync('./public/rss.xml', feed.xml({ indent: true }))\n```\n\n### Application #2: XML Sitemap\n\nIt's easier to write a script for sitemap generation.\nAll we need is the file structure in the `data` and `page` directories.\n\n```js:scripts/sitemap.mjs\nimport { writeFileSync } from 'fs'\nimport { globby } from 'globby'\nimport prettier from 'prettier'\n\nconst pages = await globby([\n  'pages/*.tsx',\n  'data/**/*.mdx',\n  '!pages/_*.tsx',\n])\n\nconst urlTags = pages\n  .map((file) =>\n    file\n      .replace('pages', '')\n      .replace('data/content', '')\n      .replace('.tsx', '')\n      .replace('.mdx', '')\n  )\n  .map((path) => (path === '/index' ? '/' : path))\n  .map(\n    (path) => `\n      <url>\n          <loc>localhost:3000${path}</loc>\n      </url>\n    `\n  )\n  .join('')\n\nconst sitemap = `\n  <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n  <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n      ${urlTags}\n  </urlset>\n`\n\nconst prettierConfig = await prettier.resolveConfig('./prettierrc')\nconst formatted = prettier.format(sitemap, {\n  ...prettierConfig,\n  parser: 'html',\n})\n\nwriteFileSync('public/sitemap.xml', formatted)\n```\n\nRun both scripts after building the project and automatically generate a new RSS feed and sitemap.\n\n```diff:package.json\n\"scripts\": {\n+    \"sitemap\": \"node scripts/sitemap.mjs\",\n+    \"rss\": \"node scripts/rss.mjs\",\n+    \"postbuild\": \"yarn sitemap && yarn rss\",\n  },\n```\n\n## Final Thoughts\n\nBuilding Static sites with Next.js becomes so effortless with MDX and Contentlayer.\n\nMDX combines with remark and rehype ecosystem enriches the possibility of building consistent pages with Markdown.\nContentlayer makes data and content in MDX files available to consume in Next.js projects.\n\nIf you're exploring ways to build your own static sites, checkout the libraries mentioned earlier.\nIt not only reduces the time to market, but also is a lot of fun to build!🦄\n\n## References\n\n- [GitHub: Contentlayer](https://github.com/contentlayerdev/contentlayer)\n- [GitHub: rss](https://github.com/dylang/node-rss)\n- [GitHub: remark](https://github.com/remarkjs/remark)\n- [GitHub: rehype](https://github.com/rehypejs/rehype)\n- [GitHub: rehype-slug](https://github.com/rehypejs/rehype-slug)\n- [GitHub: rehype-autolink-headings](https://github.com/rehypejs/rehype-autolink-headings)\n- [GitHub: rehype-prism-plus](https://github.com/timlrx/rehype-prism-plus)\n- [GitHub: rehype-code-titles](https://github.com/rockchalkwushock/rehype-code-titles)\n- [GitHub: @mdx-js/loader](https://github.com/mdx-js/mdx/tree/main/packages/loader)\n- [GitHub: reading-time](https://github.com/ngryman/reading-time)\n- [GitHub: remark-gfm](https://github.com/remarkjs/remark-gfm)\n- [GitHub: mdx-bundler](https://github.com/kentcdodds/mdx-bundler)\n- [GitHub: gray-matter](https://github.com/jonschlinkert/gray-matter)\n- [GitHub: remark-mdx-frontmatter](https://github.com/remcohaszing/remark-mdx-frontmatter)\n- [GitHub: rss](https://github.com/dylang/node-rss)\n- [GitHub: globby](https://github.com/sindresorhus/globby)\n- [npm: @next/mdx](https://www.npmjs.com/package/@next/mdx)\n- [npm: rehype-accessible-emojis](https://www.npmjs.com/package/rehype-accessible-emojis)\n- [Website: Lee Robinson's portfolio](https://leerob.io/)\n- [Website: MDX](https://mdxjs.com/)\n- [Website: Using MDX with Next.js](https://nextjs.org/docs/advanced-features/using-mdx)\n- [Website: Next.js](https://nextjs.org/)\n- [Website: Next.js Dynamic Routes](https://nextjs.org/docs/routing/dynamic-routes)\n- [Website: Next.js getStaticPaths](https://nextjs.org/docs/api-reference/data-fetching/get-static-paths)\n- [Website: Next.js getStaticProps](https://nextjs.org/docs/api-reference/data-fetching/get-static-props)\n- [Website: Frontmatter](https://mdxjs.com/guides/frontmatter/)\n- [Website: URI Fragment](https://en.wikipedia.org/wiki/URI_fragment)\n- [Website: Learn about sitemaps](https://developers.google.com/search/docs/advanced/sitemaps/overview)\n- [Website: ESMAScript modules](https://nodejs.org/api/esm.html#modules-ecmascript-modules)\n- [Website: GitHub Flavored Markdown Spec](https://github.github.com/gfm)\n- [Website: Abstract Syntax Tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)\n- [Website: What is a Static Site Generator? And 3 ways to find the best one](https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one)\n- [Website: Prettier](https://prettier.io/)\n\n---\n\n💬 See comments on [Reddit](https://www.reddit.com/r/learnjavascript/comments/smz0fs/building_better_nextjs_static_sites_with_mdx_and/?utm_source=share&utm_medium=web2x&context=3).\n\n---\n\nHere you have it! Thanks for reading through🙌\n\nIf you find it useful, please share this article to help more people in their engineering journey.\n\nFeel free to connect with me on [twitter](https://twitter.com/dawchihliou)!\n\nIn my previous article [\"From Frontend Developer to Principal Software Engineer\"](/articles/from-frontend-developer-to-principal-software-engineer), I shared 50+ books and online resources that helped me in my engineering journey.\n\nIf you're interested in implementing Binary Trees in Rust, my previous article [\"Binary Tree Insertion in Rust\"](/articles/binary-tree-insertion-in-rust) shared my struggle when I was implementing a Binary Tree.\nIt took me some time to have a grasp on Rust's ownership.\n\nIf you're interested in Unicode in Rust and JavaScript, I wrote an article [\"Indexing Strings in Rust and TypeScript: A Case Study of String\"](/articles/indexing-strings-in-rust-and-typescript).\nThere we discussed how Rust and JavaScript handle strings with a classic algorithm.\n\nHappy coding!\n","code":"var Component=(()=>{var o=Object.create;var l=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var t=a=>l(a,\"__esModule\",{value:!0});var u=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),N=(a,e)=>{t(a);for(var s in e)l(a,s,{get:e[s],enumerable:!0})},k=(a,e,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of p(e))!m.call(a,c)&&c!==\"default\"&&l(a,c,{get:()=>e[c],enumerable:!(s=d(e,c))||s.enumerable});return a},g=a=>k(t(l(a!=null?o(h(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var r=u((x,i)=>{i.exports=_jsx_runtime});var b={};N(b,{default:()=>f});var n=g(r());function y(a={}){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",hr:\"hr\",p:\"p\",pre:\"pre\",code:\"code\",div:\"div\",blockquote:\"blockquote\",strong:\"strong\",h3:\"h3\"},a.components),{wrapper:s}=e,c=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"tldr\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#tldr\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"dashing away\",children:\"\\u{1F4A8}\"}),\" Contentlayer reduces a lot of friction in publishing the content on my static website.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"smiling face with heart-eyes\",children:\"\\u{1F60D}\"}),\" MDX with remark and rehype plugins is awesomely convenient and powerful.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"teacup without handle\",children:\"\\u{1F375}\"}),\" Next.js jells very well with Contentlayer and MDX\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"This article is also available on\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://betterprogramming.pub/building-better-next-js-static-sites-with-mdx-and-contentlayer-9a06ca84e7f7\",children:\"Better Programming\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://hackernoon.com/build-faster-nextjs-static-sites-using-mdx-and-contentlayer\",children:\"Hacker Noon\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Feel free to read it on your favorite platform\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"})]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"I fully embraced \",(0,n.jsx)(e.a,{href:\"https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one\",children:\"Static Site Generation\"}),\" (SSG) for my website to optimize the site speed and scaling in the future.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Recently I've been researching on reducing the effort to create a new article on my website.\nThere were many touch points in my `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"Next.js\"}),\" project setup in order to:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"publish a new article\"}),`\n`,(0,n.jsx)(e.li,{children:\"estimate reading time\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"update \",(0,n.jsx)(e.a,{href:\"/articles\",children:\"the list of articles\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"create a new RSS feed\"}),`\n`,(0,n.jsx)(e.li,{children:\"update sitemap\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-was-the-problem\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#what-was-the-problem\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What Was The Problem?\"]}),`\n`,(0,n.jsx)(e.p,{children:`I analyzed a little more and found out the friction was in my MDX usage.\nMy file structure looked like this:`}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`my-blog\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 public\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 data\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 blogs.json\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 components\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 Blog.tsx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 pages\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u251C\\u2500\\u2500 blogs\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2502   \\u251C\\u2500\\u2500 blog-one.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2502   \\u251C\\u2500\\u2500 blog-two.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2502   \\u2514\\u2500\\u2500 blog-three.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2514\\u2500\\u2500 index.tsx\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"It is the \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/advanced-features/using-mdx\",children:\"standard setup\"}),` recommended by Next.js.\nI was using `,(0,n.jsx)(e.a,{href:\"https://github.com/mdx-js/mdx/tree/main/packages/loader\",children:\"@mdx-js/loader\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/@next/mdx\",children:\"@next/mdx\"}),\" to transform MDX into pages.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Take \",(0,n.jsx)(e.code,{children:\"pages/blogs/blog-one.mdx\"}),\" for example, the content looked like this:\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"pages/blogs/blog-one.mdx\"}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"language-jsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../../components/Blog'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" meta \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string\",children:[\"'Blog One\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"rocket\",children:\"\\u{1F680}\"}),\"'\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'February 4, 2022'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Learn how to build a Next.js blog with MDX and Contentlayer!\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/optimized/articles/blog-one/hero.webp'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" children \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Blog\"})]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"title\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"description\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"cover\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"publishedAt\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"children\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Blog\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Hey\"}),\" \",(0,n.jsxs)(e.span,{className:\"token maybe-class-name\",children:[\"There\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"waving hand\",children:\"\\u{1F44B}\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Welcome\"}),\" to \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"}),\" one\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Let\"}),\"'s learn together\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"blog-one.mdx\"}),` named-exported a meta data.\nIt was picked up by the the default component that took care of the layout and rendered the meta data.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"<Blog />\"}),\" component looked like this:\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"components/Blog.tsx\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./types'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Blog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"article\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"h2\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"h2\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"p\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"p\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"img\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"alt\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"100%\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"loading\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"lazy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"children\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"article\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"I was treating MDX files as pages.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Because the \",(0,n.jsx)(e.code,{children:\"meta\"}),\" data in each MDX file was trapped in the page, I duplicated all the meta data and aggregated them in \",(0,n.jsx)(e.code,{children:\"data/blogs.json\"}),`.\nI used it to maintain the list of articles on my website, the RSS feed, and the `,(0,n.jsx)(e.a,{href:\"https://developers.google.com/search/docs/advanced/sitemaps/overview\",children:\"sitemap\"}),\" for SEO.\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"It would be much better if I could treat the MDX files as data, and generate pages based on the data.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This way, \",(0,n.jsx)(e.strong,{children:\"I could use the MDX files as data points and page content at the same time\"}),`.\nPublishing a new article ideally could be much more frictionless.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"I came across \",(0,n.jsx)(e.a,{href:\"https://leerob.io/\",children:\"Lee Robinson's website\"}),\" and found out he was using a alpha library called \",(0,n.jsx)(e.a,{href:\"https://github.com/contentlayerdev/contentlayer\",children:\"Contentlayer\"}),\" to solve the problem.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-is-contentlayer\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#what-is-contentlayer\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What is Contentlayer\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/contentlayerdev/contentlayer\",children:\"Contentlayer\"}),` is an library in its early stage that turns content into data.\nIt works roughly like this:`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"It takes in headless CMS or local content in YAML, JSON, MDX, or Markdown as source.\"}),`\n`,(0,n.jsx)(e.li,{children:\"It transforms the content into TypeScript types and data files in JSON that includes the original content, meta data, and any derived data we specified.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"It aggregates all the data in JSON and exports them as \",(0,n.jsx)(e.a,{href:\"https://nodejs.org/api/esm.html#modules-ecmascript-modules\",children:\"ESM\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"For my use case, I can use the aggregated data generated by Contentlayer to replace my previous manual process:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"I use the generated data to build the new page for an article.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"I use the generated data to render \",(0,n.jsx)(e.a,{href:\"https://dawchihliou.github.io/articles\",children:\"the list of articles\"}),\".\"]}),`\n`,(0,n.jsx)(e.li,{children:\"I use the generated data to create a new RSS feed.\"}),`\n`,(0,n.jsx)(e.li,{children:\"I use the new file structure to generate a new sitemap.\"}),`\n`,(0,n.jsx)(e.li,{children:\"All automatic!\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:`Contentlayer offers easy integration with Next.js.\nI'll show you how in the next sections.`}),`\n`,(0,n.jsxs)(e.h2,{id:\"using-mdx-as-data\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#using-mdx-as-data\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Using MDX as Data\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's first explore how to use MDX as a data point.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"MDX offers \",(0,n.jsx)(e.a,{href:\"https://mdxjs.com/guides/frontmatter/\",children:\"YAML frontmatter\"}),` support with custom parsers.\nYou can express the meta data like this:`]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"data/blogs/blog-one.mdx\"}),(0,n.jsx)(e.pre,{className:\"language-md\",children:(0,n.jsxs)(e.code,{className:\"language-md code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token front-matter-block\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"---\"}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string\",children:[\"'Blog One\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"rocket\",children:\"\\u{1F680}\"}),\"'\"]}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'February 4, 2022'\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Learn how to build a Next.js blog with MDX and Contentlayer!'\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token front-matter-block\",children:[(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/optimized/articles/blog-one/hero.webp'\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"---\"})}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Hey There\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"waving hand\",children:\"\\u{1F44B}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Welcome to Blog One\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"}),` Let's learn together!\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can see the meta data in YAML syntax is inside the \",(0,n.jsx)(e.code,{children:\"---\"}),` block, and the body of the content follows in MDX syntax.\nComparing to the `,(0,n.jsx)(e.a,{href:\"#what-was-the-problem\",children:\"old setup\"}),\" where MDX file were treated as pages, the new MDX file contains only meta data and content.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The next thing we need to do is to generate the blog page that renders the meta data and the content with the layout from \",(0,n.jsx)(e.code,{children:\"<Blog />\"}),\" component.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"integrating-contentlayer-in-nextjs\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#integrating-contentlayer-in-nextjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Integrating Contentlayer in Next.js\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Now that we updated the MDX files to contain only data and content, Let's move them into the \",(0,n.jsx)(e.code,{children:\"data\"}),\" directory.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The new file structure looks like this:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`my-blog\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 public\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 components\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 Blog.tsx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 pages\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 blogs\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\\u2502   \\u2502   \\u2514\\u2500\\u2500 \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"slug\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`.tsx\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 index.tsx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 data\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2514\\u2500\\u2500blogs\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`       \\u251C\\u2500\\u2500 blog-one.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`       \\u251C\\u2500\\u2500 blog-two.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`       \\u2514\\u2500\\u2500 blog-three.mdx\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Notice that we replaced the MDX files in \",(0,n.jsx)(e.code,{children:\"pages/blogs\"}),\" directory with a \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/routing/dynamic-routes\",children:\"dynamic route\"}),\" \",(0,n.jsx)(e.code,{children:\"[slug].tsx\"}),`.\nWe'll use this page to statically generate the blog pages `,(0,n.jsx)(e.a,{href:\"#using-contentlayer-data-for-static-site-generation\",children:\"later\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"configuring-contentlayer\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#configuring-contentlayer\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Configuring Contentlayer\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Contentlayer offers seamless integration with Next.js.\"}),`\n`,(0,n.jsx)(e.p,{children:\"To install the dependencies:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` contentlayer next-contentlayer\n`]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Contentlayer reads the configuration from \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),`.\nLet's create one.`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"touch\"}),` contentlayer.config.ts\n`]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Inside the \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),\", we need to add instructions to tell Contentlayer how to parse:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"name\"}),\": namespace\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"filePathPattern\"}),\": input files\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"bodyType\"}),\": content body type for parsing\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"fields\"}),\": meta data fields\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"computedFields\"}),\": derived meta data fields\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"contentlayer.config.ts\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" defineDocumentType\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" makeSource \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'contentlayer/source-files'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" readingTime \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'reading-time'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" Blog \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"defineDocumentType\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  name\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Blog'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  filePathPattern\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'blogs/*.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  bodyType\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  fields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    publishedAt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    description\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    cover\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  computedFields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    readingTime\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'json'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function-variable function\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"readingTime\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"raw\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    slug\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function-variable function\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=>\"}),\" doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_raw\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sourceFileName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  contentDirPath\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'data'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  documentTypes\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"Blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  mdx\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    remarkPlugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    rehypePlugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"In the \",(0,n.jsx)(e.code,{children:\"computedFields\"}),\", we can compute data like \",(0,n.jsx)(e.code,{children:\"readingTime\"}),\" from the content body\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F929}\"}),`.\nI'm using `,(0,n.jsx)(e.a,{href:\"https://github.com/ngryman/reading-time\",children:(0,n.jsx)(e.code,{children:\"reading-time\"})}),` for calculating the reading time based on word count.\nThe `,(0,n.jsx)(e.code,{children:\"slug\"}),\" field is for generating the dynamic route later in the \",(0,n.jsx)(e.code,{children:\"[slug].tsx\"}),\" page.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Under the hood, Contentlayer uses \",(0,n.jsx)(e.a,{href:\"https://github.com/kentcdodds/mdx-bundler\",children:(0,n.jsx)(e.code,{children:\"mdx-bundler\"})}),` to parse MDX and YAML frontmatter and extract the content and data.\nIf you're interested in the magic behind it, you can read more about `,(0,n.jsx)(e.a,{href:\"https://github.com/jonschlinkert/gray-matter\",children:(0,n.jsx)(e.code,{children:\"gray-matter\"})}),\" and \",(0,n.jsx)(e.a,{href:\"https://github.com/remcohaszing/remark-mdx-frontmatter\",children:(0,n.jsx)(e.code,{children:\"remark-mdx-frontmatter\"})}),`.\nThese are the libraries `,(0,n.jsx)(e.code,{children:\"mdx-bundler\"}),\" uses internally.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"At the end of the configuration, \",(0,n.jsx)(e.code,{children:\"makeSource\"}),\" will then look for files that match \",(0,n.jsx)(e.code,{children:\"blogs/*.mdx\"}),\" pattern under \",(0,n.jsx)(e.code,{children:\"data\"}),\" directory and generate the blog data in \",(0,n.jsx)(e.code,{children:\".contentlayer\"}),\" directory at your project root.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Lastly, wrap your Next.js configuration with \",(0,n.jsx)(e.code,{children:\"next-contentlayer\"}),\" to integrate with Next.js's live-reload and build process.\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"next.config.js\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" withContentlayer \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'next-contentlayer'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"withContentlayer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ... your Next.js config\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"using-contentlayer-data-for-static-site-generation\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#using-contentlayer-data-for-static-site-generation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Using Contentlayer data for Static Site Generation\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We are ready to use the generated data from Contentlayer and build the static pages\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F929}\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"All we need to do is to use \",(0,n.jsx)(e.code,{children:\"allBlogs\"}),\" from \",(0,n.jsx)(e.code,{children:\".contentlayer/data\"}),\" to build the dynamic routes with \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-paths\",children:(0,n.jsx)(e.code,{children:\"getStaticPaths\"})}),\" and use \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-props\",children:(0,n.jsx)(e.code,{children:\"getStaticProps\"})}),\" to pass the blog data to the \",(0,n.jsx)(e.code,{children:\"[slug].tsx\"}),\" page.\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"pages/blogs/[slug].tsx\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useMDXComponent \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next-contentlayer/hooks'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" allBlogs \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.contentlayer/data'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.contentlayer/types'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogLayout\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../../../components/Blog'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BlogProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  blog\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Blog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" blog \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Component\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useMDXComponent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"post\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"body\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"code\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BlogLayout\"})]}),\" \",(0,n.jsxs)(e.span,{className:\"token spread\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Component\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BlogLayout\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getStaticPaths\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    paths\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" allBlogs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" params\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" slug\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fallback\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getStaticProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" params \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" blog \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" allBlogs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" params\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" blog \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"After the project is built, you'll see the blogs available at \",(0,n.jsx)(e.code,{children:\"/blogs/blog-one\"}),\", \",(0,n.jsx)(e.code,{children:\"/blogs/blog-two\"}),\", and \",(0,n.jsx)(e.code,{children:\"/blogs/blog-three\"}),(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"})]}),`\n`,(0,n.jsxs)(e.h3,{id:\"bonus-remark--rehype-plugins\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#bonus-remark--rehype-plugins\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Bonus: remark & rehype Plugins\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"There are a lot more we can do with MDX by leveraging remark and rehype plugins in the \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),\".\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark\",children:\"remark\"}),\" is an awesome plugin ecosystem that transforms markdown.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype\",children:\"rehype\"}),\" is another powerful plugin ecosystem that transforms HTML.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:`They are two separate ecosystems but we can convert remark to rehype and generate HTML markup.\nThe transformation looks like this:`}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"MDX ----\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),\" remark AST ------\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),\" rehype AST --------\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),` HTML\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    parse            convert            stringify\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:`Contentlayer takes care of the flow.\nAll we need to do is adding the plugins to provide instruction for the transformations.\nI'm using the following plugins:`}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark-gfm\",children:(0,n.jsx)(e.code,{children:\"remark-gfm\"})}),\" to support \",(0,n.jsx)(e.a,{href:\"https://github.github.com/gfm/\",children:\"GitHub Flavored Markdown\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-slug\",children:(0,n.jsx)(e.code,{children:\"rehype-slug\"})}),\" and \",(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-autolink-headings\",children:(0,n.jsx)(e.code,{children:\"rehype-autolink-headings\"})}),\" to render heading links.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/timlrx/rehype-prism-plus\",children:(0,n.jsx)(e.code,{children:\"rehype-prism-plus\"})}),\" to render syntax highlighting in code blocks.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/rockchalkwushock/rehype-code-titles\",children:(0,n.jsx)(e.code,{children:\"rehype-code-titles\"})}),\" to render code block titles.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/rehype-accessible-emojis\",children:(0,n.jsx)(e.code,{children:\"rehype-accessible-emojis\"})}),\" to provide accessibility to emojis.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"contentlayer.config.ts\"}),(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import remarkGfm from 'remark-gfm'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypeSlug from 'rehype-slug'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypeAutolinkHeadings from 'rehype-autolink-headings'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypeCodeTitles from 'rehype-code-titles'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypePrism from 'rehype-prism-plus'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis'\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`// ...\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`export default makeSource({\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:` mdx: {\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token unchanged\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    remarkPlugins: [],\n`})]})]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    remarkPlugins: [remarkGfm],\n`})]})]}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    rehypePlugins: [],\n`})]})]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    rehypePlugins: [\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeSlug,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeCodeTitles,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypePrism,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeAutolinkHeadings,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeAccessibleEmojis,\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:`   ],\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:` },\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token unchanged\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),`})\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"contentlayer-applications\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#contentlayer-applications\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Contentlayer Applications\"]}),`\n`,(0,n.jsx)(e.p,{children:\"There are more things we can do with the data.\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"application-1-rss-feed\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#application-1-rss-feed\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Application #1: RSS Feed\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"I can now write a script to generate a RSS feed base on the \",(0,n.jsx)(e.code,{children:\"allBlogs\"}),\" data!\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"scripts/rss.mjs\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" writeFileSync \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'fs'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"RSS\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'rss'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" allBlogs \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.contentlayer/data'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" feed \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"RSS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"My Blogs\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"feed_url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'localhost:3000/rss.xml'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"site_url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'localhost:3000'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"allBlogs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"blog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"localhost:3000/blogs/\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"date\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"item\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  feed\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"item\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"writeFileSync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'./public/rss.xml'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" feed\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"xml\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"indent\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"application-2-xml-sitemap\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#application-2-xml-sitemap\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Application #2: XML Sitemap\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`It's easier to write a script for sitemap generation.\nAll we need is the file structure in the `,(0,n.jsx)(e.code,{children:\"data\"}),\" and \",(0,n.jsx)(e.code,{children:\"page\"}),\" directories.\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"scripts/sitemap.mjs\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" writeFileSync \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'fs'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" globby \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'globby'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"prettier\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'prettier'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" pages \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"globby\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'pages/*.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'data/**/*.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'!pages/_*.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" urlTags \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` pages\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"file\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    file\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'pages'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'data/content'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"path \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/index'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      <url>\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"          <loc>localhost:3000\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"path\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:`</loc>\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      </url>\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"    \"}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"join\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" sitemap \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"urlTags\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  </urlset>\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\"}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" prettierConfig \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" prettier\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"resolveConfig\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'./prettierrc'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" formatted \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" prettier\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"format\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sitemap\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"prettierConfig\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"parser\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'html'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"writeFileSync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'public/sitemap.xml'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" formatted\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"Run both scripts after building the project and automatically generate a new RSS feed and sitemap.\"}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"package.json\"}),(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`\"scripts\": {\n`}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    \"sitemap\": \"node scripts/sitemap.mjs\",\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    \"rss\": \"node scripts/rss.mjs\",\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    \"postbuild\": \"yarn sitemap && yarn rss\",\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:` },\n`})]})]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"final-thoughts\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#final-thoughts\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Final Thoughts\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Building Static sites with Next.js becomes so effortless with MDX and Contentlayer.\"}),`\n`,(0,n.jsx)(e.p,{children:`MDX combines with remark and rehype ecosystem enriches the possibility of building consistent pages with Markdown.\nContentlayer makes data and content in MDX files available to consume in Next.js projects.`}),`\n`,(0,n.jsxs)(e.p,{children:[`If you're exploring ways to build your own static sites, checkout the libraries mentioned earlier.\nIt not only reduces the time to market, but also is a lot of fun to build!`,(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"unicorn face\",children:\"\\u{1F984}\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"references\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#references\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"References\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/contentlayerdev/contentlayer\",children:\"GitHub: Contentlayer\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/dylang/node-rss\",children:\"GitHub: rss\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark\",children:\"GitHub: remark\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype\",children:\"GitHub: rehype\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-slug\",children:\"GitHub: rehype-slug\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-autolink-headings\",children:\"GitHub: rehype-autolink-headings\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/timlrx/rehype-prism-plus\",children:\"GitHub: rehype-prism-plus\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rockchalkwushock/rehype-code-titles\",children:\"GitHub: rehype-code-titles\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/mdx-js/mdx/tree/main/packages/loader\",children:\"GitHub: @mdx-js/loader\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/ngryman/reading-time\",children:\"GitHub: reading-time\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark-gfm\",children:\"GitHub: remark-gfm\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/kentcdodds/mdx-bundler\",children:\"GitHub: mdx-bundler\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/jonschlinkert/gray-matter\",children:\"GitHub: gray-matter\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/remcohaszing/remark-mdx-frontmatter\",children:\"GitHub: remark-mdx-frontmatter\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/dylang/node-rss\",children:\"GitHub: rss\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/sindresorhus/globby\",children:\"GitHub: globby\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/@next/mdx\",children:\"npm: @next/mdx\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/rehype-accessible-emojis\",children:\"npm: rehype-accessible-emojis\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://leerob.io/\",children:\"Website: Lee Robinson's portfolio\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://mdxjs.com/\",children:\"Website: MDX\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/advanced-features/using-mdx\",children:\"Website: Using MDX with Next.js\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"Website: Next.js\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/routing/dynamic-routes\",children:\"Website: Next.js Dynamic Routes\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-paths\",children:\"Website: Next.js getStaticPaths\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-props\",children:\"Website: Next.js getStaticProps\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://mdxjs.com/guides/frontmatter/\",children:\"Website: Frontmatter\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/URI_fragment\",children:\"Website: URI Fragment\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developers.google.com/search/docs/advanced/sitemaps/overview\",children:\"Website: Learn about sitemaps\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nodejs.org/api/esm.html#modules-ecmascript-modules\",children:\"Website: ESMAScript modules\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.github.com/gfm\",children:\"Website: GitHub Flavored Markdown Spec\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\",children:\"Website: Abstract Syntax Tree\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one\",children:\"Website: What is a Static Site Generator? And 3 ways to find the best one\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://prettier.io/\",children:\"Website: Prettier\"})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"speech balloon\",children:\"\\u{1F4AC}\"}),\" See comments on \",(0,n.jsx)(e.a,{href:\"https://www.reddit.com/r/learnjavascript/comments/smz0fs/building_better_nextjs_static_sites_with_mdx_and/?utm_source=share&utm_medium=web2x&context=3\",children:\"Reddit\"}),\".\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"Here you have it! Thanks for reading through\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"raising hands\",children:\"\\u{1F64C}\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"If you find it useful, please share this article to help more people in their engineering journey.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Feel free to connect with me on \",(0,n.jsx)(e.a,{href:\"https://twitter.com/dawchihliou\",children:\"twitter\"}),\"!\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"In my previous article \",(0,n.jsx)(e.a,{href:\"/articles/from-frontend-developer-to-principal-software-engineer\",children:'\"From Frontend Developer to Principal Software Engineer\"'}),\", I shared 50+ books and online resources that helped me in my engineering journey.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you're interested in implementing Binary Trees in Rust, my previous article \",(0,n.jsx)(e.a,{href:\"/articles/binary-tree-insertion-in-rust\",children:'\"Binary Tree Insertion in Rust\"'}),` shared my struggle when I was implementing a Binary Tree.\nIt took me some time to have a grasp on Rust's ownership.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you're interested in Unicode in Rust and JavaScript, I wrote an article \",(0,n.jsx)(e.a,{href:\"/articles/indexing-strings-in-rust-and-typescript\",children:'\"Indexing Strings in Rust and TypeScript: A Case Study of String\"'}),`.\nThere we discussed how Rust and JavaScript handle strings with a classic algorithm.`]}),`\n`,(0,n.jsx)(e.p,{children:\"Happy coding!\"})]});return s?(0,n.jsx)(s,Object.assign({},a,{children:c})):c}var f=y;return b;})();\n;return Component.default;"},"_id":"articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer.mdx","_raw":{"sourceFilePath":"articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer.mdx","sourceFileName":"build-better-nextjs-static-sites-with-mdx-and-contentlayer.mdx","sourceFileDir":"articles","bodyType":"mdx","flattenedPath":"articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer"},"type":"Article","readingTime":{"text":"11 min read","minutes":10.665,"time":639900,"words":2133},"wordCount":2135,"slug":"build-better-nextjs-static-sites-with-mdx-and-contentlayer"}},"__N_SSG":true}