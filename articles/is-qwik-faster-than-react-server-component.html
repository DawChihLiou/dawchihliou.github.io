<!DOCTYPE html><html lang="en"><head><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/svg" sizes="32x32" href="/favicon.svg"/><link rel="icon" type="image/svg" sizes="16x16" href="/favicon.svg"/><link rel="mask-icon" href="/favicon.svg" color="#ffffff"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><meta name="msapplication-TileColor" content="#007cf0"/><meta name="theme-color" content="#ffff"/><title>Is Qwik Faster than React Server Component?</title><meta name="description" content="A benchmark comparison and analysis between Qwik and Next.js 13."/><meta name="robots" content="follow, index"/><link rel="canonical" href="https://dawchihliou.github.io/articles/is-qwik-faster-than-react-server-component"/><meta itemProp="name" content="Is Qwik Faster than React Server Component?"/><meta itemProp="description" content="A benchmark comparison and analysis between Qwik and Next.js 13."/><meta itemProp="image" content="https://dawchihliou.github.io/optimized/articles/qwik-vs-next/hero.png"/><meta property="og:title" content="Is Qwik Faster than React Server Component?"/><meta property="og:type" content="website"/><meta property="og:url" content="https://dawchihliou.github.io/articles/is-qwik-faster-than-react-server-component"/><meta property="og:description" content="A benchmark comparison and analysis between Qwik and Next.js 13."/><meta property="og:image" content="https://dawchihliou.github.io/optimized/articles/qwik-vs-next/hero.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="1400"/><meta property="og:image:height" content="600"/><meta property="og:image:alt" content="A benchmark comparison and analysis between Qwik and Next.js 13."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@dawchihliou"/><meta name="twitter:creator" content="@dawchihliou"/><meta name="twitter:title" content="Is Qwik Faster than React Server Component?"/><meta name="twitter:description" content="A benchmark comparison and analysis between Qwik and Next.js 13."/><meta name="twitter:image" content="https://dawchihliou.github.io/optimized/articles/qwik-vs-next/hero.webp"/><meta property="article:published_time" content="2023-01-26T00:00:00.000Z"/><meta property="article:section" content="Article Section"/><meta property="article:tag" content="Article Tag"/><meta name="next-head-count" content="34"/><link rel="preload" href="/_next/static/css/f4214c3b71874d65.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f4214c3b71874d65.css" data-n-g=""/><link rel="preload" href="/_next/static/css/54ba867c7255694d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/54ba867c7255694d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-010ff0b6bbe5ac8f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5784eb5f9f6cd23e.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-9a8f919cad4c24e6.js" defer=""></script><script src="/_next/static/y-e3puPuwO-eJNSWh-cCe/_buildManifest.js" defer=""></script><script src="/_next/static/y-e3puPuwO-eJNSWh-cCe/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div id="outer-container"><header><div><div class="bm-overlay" style="position:fixed;z-index:1000;width:100%;height:100%;background:rgba(0, 0, 0, 0.3);opacity:0;-moz-transform:translate3d(100%, 0, 0);-ms-transform:translate3d(100%, 0, 0);-o-transform:translate3d(100%, 0, 0);-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);transition:opacity 0.3s, transform 0s 0.3s"></div><div><div class="bm-burger-button" style="z-index:1000"><button id="react-burger-menu-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer">Open Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-icon" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><div id="" class="bm-menu-wrap" style="position:fixed;right:inherit;z-index:1100;width:300px;height:100%;-moz-transform:translate3d(-100%, 0, 0);-ms-transform:translate3d(-100%, 0, 0);-o-transform:translate3d(-100%, 0, 0);-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);transition:all 0.5s" aria-hidden="true"><div class="bm-menu" style="height:100%;box-sizing:border-box;overflow:auto"><nav class="bm-item-list" style="height:100%"><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/"><button class="Nav_button__YJwKE" tabindex="-1">Home</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/articles"><button class="Nav_button__YJwKE" tabindex="-1">Articles</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/work"><button class="Nav_button__YJwKE" tabindex="-1">Work</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/now"><button class="Nav_button__YJwKE" tabindex="-1">Now</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/expertise"><button class="Nav_button__YJwKE" tabindex="-1">Expertise</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/contact"><button class="Nav_button__YJwKE" tabindex="-1">Contact</button></a><span class="bm-item Nav_pusher__93Gc6" style="display:block" tabindex="-1"></span><span class="bm-item Nav_divider__QD8Pt" style="display:block" tabindex="-1"></span><div class="bm-item Nav_profile__Kf2nU" style="display:block" tabindex="-1"><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Linkedin profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M20.45175,20.45025 L16.89225,20.45025 L16.89225,14.88075 C16.89225,13.5525 16.86975,11.844 15.04275,11.844 C13.191,11.844 12.90825,13.2915 12.90825,14.7855 L12.90825,20.45025 L9.3525,20.45025 L9.3525,8.997 L12.765,8.997 L12.765,10.563 L12.81375,10.563 C13.2885,9.66225 14.4495,8.71275 16.18125,8.71275 C19.78575,8.71275 20.45175,11.08425 20.45175,14.169 L20.45175,20.45025 Z M5.33925,7.4325 C4.1955,7.4325 3.27375,6.50775 3.27375,5.36775 C3.27375,4.2285 4.1955,3.30375 5.33925,3.30375 C6.47775,3.30375 7.4025,4.2285 7.4025,5.36775 C7.4025,6.50775 6.47775,7.4325 5.33925,7.4325 L5.33925,7.4325 Z M7.11975,20.45025 L3.5565,20.45025 L3.5565,8.997 L7.11975,8.997 L7.11975,20.45025 Z M23.00025,0 L1.0005,0 C0.44775,0 0,0.44775 0,0.99975 L0,22.9995 C0,23.55225 0.44775,24 1.0005,24 L23.00025,24 C23.55225,24 24,23.55225 24,22.9995 L24,0.99975 C24,0.44775 23.55225,0 23.00025,0 L23.00025,0 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="Link to Daw-Chih&#x27;s GitHub profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou" aria-label="Link to Daw-Chih&#x27;s Medium profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2.84593838,5.88685595 C2.87575654,5.59224254 2.76340763,5.30104995 2.54341737,5.10276397 L0.302521008,2.4032473 L0.302521008,2 L7.2605042,2 L12.6386555,13.7949836 L17.3669469,2 L24,2 L24,2.4032473 L22.0840336,4.2402628 C21.9188563,4.36617057 21.8369199,4.57310892 21.8711485,4.77792587 L21.8711485,18.2755093 C21.8369199,18.4803262 21.9188563,18.6872645 22.0840336,18.8131723 L23.9551821,20.6501878 L23.9551821,21.0534351 L14.5434174,21.0534351 L14.5434174,20.6501878 L16.4817928,18.7683671 C16.6722689,18.5779447 16.6722689,18.5219382 16.6722689,18.2307041 L16.6722689,7.32062416 L11.2829132,21.0086299 L10.5546219,21.0086299 L4.28011204,7.32062416 L4.28011204,16.4945003 C4.22779746,16.8801958 4.35589372,17.2685069 4.62745097,17.5474239 L7.14845938,20.6053826 L7.14845938,21.0086299 L0,21.0086299 L0,20.6053826 L2.5210084,17.5474239 C2.79058848,17.2680445 2.91121535,16.8771576 2.84593838,16.4945003 L2.84593838,5.88685595 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Hackernoon profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M5.701 0v6.223H8.85V4.654h1.576v7.842H12V4.654h1.574v1.569h3.15V0zm11.024 6.223v3.136h1.574V6.223zm1.574 3.136v4.705h1.576v-1.568h1.574v-1.568h-1.574V9.359zm0 4.705h-1.574v3.137h1.574zm-1.574 3.137h-3.15v1.569H8.85V17.2H5.7V24h11.024zm-11.024 0v-3.137H4.125v3.137zm-1.576-3.137V9.36H2.551v4.705zm0-4.705h1.576V6.223H4.125Z"></path></svg><span hidden="">Link to Daw-Chih&#x27;s Hacker Noon profile</span></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Twitter profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M24,4.3086 C23.117,4.7006 22.168,4.9646 21.172,5.0836 C22.188,4.4746 22.969,3.5096 23.337,2.3596 C22.386,2.9246 21.332,3.3336 20.21,3.5556 C19.312,2.5976 18.032,1.9996 16.616,1.9996 C13.897,1.9996 11.692,4.2046 11.692,6.9236 C11.692,7.3096 11.736,7.6856 11.82,8.0456 C7.728,7.8406 4.099,5.8806 1.671,2.9006 C1.247,3.6286 1.004,4.4736 1.004,5.3766 C1.004,7.0846 1.873,8.5926 3.195,9.4756 C2.388,9.4486 1.628,9.2276 0.964,8.8596 L0.964,8.9206 C0.964,11.3066 2.661,13.2966 4.914,13.7486 C4.501,13.8626 4.065,13.9216 3.617,13.9216 C3.299,13.9216 2.991,13.8906 2.69,13.8336 C3.317,15.7896 5.135,17.2136 7.29,17.2536 C5.604,18.5736 3.481,19.3606 1.175,19.3606 C0.777,19.3606 0.385,19.3376 0,19.2926 C2.179,20.6886 4.767,21.5046 7.548,21.5046 C16.605,21.5046 21.557,14.0016 21.557,7.4946 C21.557,7.2816 21.552,7.0696 21.543,6.8586 C22.505,6.1636 23.34,5.2966 24,4.3086"></path></svg></a></div><div class="DarkmodeSwitch_container__uFGHQ" tabindex="-1"><div class="DarkmodeSwitch_wrap__e71_4"></div></div></nav></div><div><div class="bm-cross-button" style="position:absolute;width:24px;height:24px;right:8px;top:8px"><button id="react-burger-cross-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer" tabindex="-1">Close Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-cross" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div></div></div></header><div class="Menubar_menubar__gvU4b"><a class="styles_anchor__g18qA Menubar_hireMe__zuAig" href="/contact"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>Hire Me</a><div class="DarkmodeSwitch_container__uFGHQ" tabindex="0"><div class="DarkmodeSwitch_wrap__e71_4"></div></div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="See more Daw-Chih&#x27;s work on GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a></div><div id="page-wrap"><article><div class="Article_container__q__L3"><div class="Article_wrap__LZypL"><h1>Is Qwik Faster than React Server Component?</h1><div class="Article_info__bOKys"><div class="Article_author__grS8U"><img alt="Daw-Chih Liou" src="/optimized/raw/portrait-sm.webp" loading="lazy"/><p>Daw-Chih Liou</p></div><p>Jan 26, 2023<!-- --> · 9 min read</p></div><img alt="Is Qwik Faster than React Server Component?" src="/optimized/articles/qwik-vs-next/hero.webp" width="100%" class="rounded centered" loading="lazy"/><div class="article-content"><h2 id="tldr"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#tldr"><span class="icon icon-link"></span></a>TL;DR</h2>
<ul>
<li><span role="img" aria-label="fire">🔥</span> We&#x27;ll find out whether the trending framework Qwik is faster than Next.js</li>
<li><span role="img" aria-label="robot face">🤖</span> We&#x27;ll look at a demo that generates with OpenAI&#x27;s DALL-E and its performance benchmark.</li>
<li><span role="img" aria-label="rocket">🚀</span> We&#x27;ll discuss how Next.js leverages React server component to achieve fast SSR.</li>
</ul>
<hr/>
<p>This article is also available on</p>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://medium.com/better-programming/is-qwik-faster-than-react-server-component-822030a0b0e">Better Programming</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/qwik-vs-nextjs-speed-comparison">Hacker Noon</a></li>
</ul>
<p>Feel free to read it on your favorite platform<span role="img" aria-label="sparkles">✨</span></p>
<hr/>
<p>Page speed matters. Faster website results in <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://web.dev/tags/case-study/">better UX, better SEO, and more profit</a>. The <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://web.dev/rakuten/">latest research done by Rekuten 24</a> shows that optimizing <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://web.dev/vitals/">Core Web Vitals</a> leads to:</p>
<blockquote>
<ul>
<li>53.37% in revenue per visitor.</li>
<li>33.13% in conversion rate.</li>
<li>15.20% in average order value.</li>
<li>9.99% in average time spent.</li>
<li>A 35.12% reduction in exit rate.</li>
</ul>
</blockquote>
<p>The modern frameworks and frontend libraries address speed and help developers ship better user experience to the users. We&#x27;ll be discussing two of the modern frameworks: <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io">Qwik</a> and <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org">Next.js</a>. We&#x27;ll see an experiment benchmark and look into how each framework achieves optimal performance.</p>
<p>Let&#x27;s go.</p>
<h2 id="how-the-experiment-is-set-up"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#how-the-experiment-is-set-up"><span class="icon icon-link"></span></a>How The Experiment Is Set Up</h2>
<ul>
<li>qwik v0.16</li>
<li>Next.js v13</li>
<li>React v18</li>
</ul>
<h2 id="lets-peek-the-result"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#lets-peek-the-result"><span class="icon icon-link"></span></a>Let&#x27;s Peek The Result</h2>
<p>I built two identical applications with Qwik and Next.js and measured the performances. The demo look like this:</p>
<img src="/articles/qwik-vs-next/demo.gif" alt="DALL-E web app demo" width="100%" class="rounded centered" loading="lazy"/>
<blockquote>
<p>You can find <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou/qwik-vs-next">the demo on GitHub</a>. Feel free to take a look at the repo and try it out<span role="img" aria-label="sparkles">✨</span></p>
</blockquote>
<p>The application lets users enter prompts to <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://openai.com/dall-e-2/">DALL·E</a>, an AI image generator, and displays the generated AI images in the page. It also displays the latest Twitter feed about DALL·E.</p>
<p>The key features are:</p>
<ul>
<li>Server Side rendering the application.</li>
<li>Client side fetching the image results with <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.openai.com/docs/api-reference/images/create">DALL·E&#x27;s REST API</a>.</li>
<li>Server side fetching the Twitter feed with <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.twitter.com/en/docs/twitter-api">Twitter&#x27;s REST API</a>.</li>
</ul>
<p>Here&#x27;s the core Web Vitals by Lighthouse for Qwik:</p>
<img src="/optimized/articles/qwik-vs-next/qwik-lighthouse.webp" alt="Qwik Lighthouse score" width="100%" class="rounded centered" loading="lazy"/>
<p>Comparing to Next.js&#x27;s Web Vitals:</p>
<img src="/optimized/articles/qwik-vs-next/sc-lighthouse.webp" alt="Next with server component Lighthouse score" width="100%" class="rounded centered" loading="lazy"/>
<p>We can observe the following:</p>
<ul>
<li>Qwik&#x27;s <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/en/docs/lighthouse/performance/speed-index/">speed index</a> is 0.5 s faster than Next.js.</li>
<li>Qwik&#x27;s <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/interactive/">time to interactive</a> is 0.3 s faster than Next.js.</li>
<li>Next.js has a 0 ms <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/lighthouse-total-blocking-time/">total blocking time</a>, comparing to Qwik&#x27;s 160 ms.</li>
<li>Next.js has a slightly higher overall <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/performance-scoring/">performance score</a> by 5 points.</li>
<li>Next.js&#x27;s <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/lighthouse-largest-contentful-paint/">largest contentful paint</a> is 0.8 s faster than Qwik.</li>
</ul>
<p>Let&#x27;s take a closer look at the how the application in each framework is set up.</p>
<h2 id="qwik-server-side-rendering"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#qwik-server-side-rendering"><span class="icon icon-link"></span></a>Qwik Server Side Rendering</h2>
<p>The component structure:</p>
<div class="rehype-code-title">qwik/src/routes/index.tsx</div><pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> onGet<span class="token operator">:</span> <span class="token maybe-class-name">RequestHandler</span><span class="token operator">&lt;</span><span class="token maybe-class-name">TwitterResponse</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchTweets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> data<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">component$</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> tweets <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useEndpoint</span><span class="token generic class-name"><span class="token operator">&lt;</span>TwitterResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DallePromptAndResult</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Resource</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tweets<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onResolved</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SSRTwitterCarousel</span></span> <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span></span></span><span class="code-line"><span class="token tag"><span class="token script language-javascript">        <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StaticPromptRecommendation</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<p>When the Qwik server receives a page request, it starts the rendering process on the server. The &quot;useEndPoint&quot; function invokes the &quot;onGet&quot; function on the server and fetches the twitter feed. The &quot;Resource&quot; component will pause the rendering until the twitter data is resolved or rejected. Once the rendering is completed, the server responds to the client with rendered HTML.</p>
<p>We can observe the server side rendering behavior in the performance profile:</p>
<img src="/optimized/articles/qwik-vs-next/qwik-perf.webp" alt="Qwik performance" width="100%" class="rounded centered" loading="lazy"/>
<p>The lead time to respond to the client is blocked by the server side data fetching and component rendering.</p>
<h2 id="nextjs-ssr-and-streaming"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#nextjs-ssr-and-streaming"><span class="icon icon-link"></span></a>Next.js SSR and Streaming</h2>
<p>The component structure:</p>
<div class="rehype-code-title">next/app/page.tsx</div><pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> tweets <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchTweets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">DallePromptAndResult</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Skeleton</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SSRTwitterCarousel</span></span> <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>tweets<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StaticPromptRecommendation</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>The &quot;Page&quot; component is a server component. It looks just like a normal component but it supports async/await.</p>
<p>When the Next.js server receives a page request, it starts the rendering process and <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.nextjs.org/docs/data-fetching/streaming-and-suspense">streaming</a> the rendering result to the client so that the client can progressively render and display the UI to the users. While the server is fetching twitter feeds, React renders the suspense placeholder to indicate the pending state. Once the data is resolved or rejected, React reveals the suspense boundary and displays the final UI.</p>
<img src="/optimized/articles/qwik-vs-next/sc-perf.webp" alt="Next with server component performance" width="100%" class="rounded centered" loading="lazy"/>
<p>You can see the client starts rendering while the server is streaming. It reduces the lead time for the users to start seeing the page.</p>
<h2 id="resumability-vs-react-server-component"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#resumability-vs-react-server-component"><span class="icon icon-link"></span></a>Resumability v.s. React Server Component</h2>
<blockquote>
<p>Qwik embraces the &quot;Get HTML and render&quot; mental model.</p>
</blockquote>
<p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io/docs/concepts/resumable/">Resumability</a> is Qwik&#x27;s innovation. It allows an application to be rendered as much as possible on the server and resumes the rest of the rendering on the client.</p>
<p>The framework looks like this:</p>
<img src="/optimized/articles/qwik-vs-next/qwik.webp" alt="Next with server component performance" width="100%" class="rounded centered" loading="lazy"/>
<p>When receiving a request, the Qwik server starts the rendering process and generate</p>
<ul>
<li>serialized application state,</li>
<li>serialized event handlers,</li>
<li>component HTMLs,</li>
<li>and component code chunks.</li>
</ul>
<p>The server then responds to the client with the page HTML and the serialized state.</p>
<img src="/optimized/articles/qwik-vs-next/qwik-network.webp" alt="Next with server component performance" width="100%" class="rounded centered" loading="lazy"/>
<p>On the client, the browser processes the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path">critical rendering path</a> and displays the UI. Qwik deserializes the state after the page HTML is loaded. The state contains all the local states of each component. The lazy loaded components are able to be dynamically imported independently without knowing the parent&#x27;s state because they can refer to the deserialized state for their local states when they are rendering on the client.</p>
<p>Qwik also serializes event handlers.</p>
<img src="/optimized/articles/qwik-vs-next/qwik-serd.webp" alt="Qwik serialization" width="100%" class="rounded centered" loading="lazy"/>
<p>In the server-generated HTML, the event handlers are referenced as dynamic JavaScript chunks. When users interact with an interactive element, Qwik uses the reference to dynamically download the chunk from the server and fire the event with the event handler inside the chunk.</p>
<img src="/articles/qwik-vs-next/qwik-dynamic-import.gif" alt="Qwik dynamic import" width="100%" class="rounded centered" loading="lazy"/>
<p>On the other hand, Next.js has a different approach to server side rendering.</p>
<blockquote>
<p>Next.js and React server component promotes the &quot;Render while fetching&quot; mental model.</p>
</blockquote>
<p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.nextjs.org/docs/rendering/server-and-client-components">Next.js 13 introduces React server component as an experimental feature</a>. <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md">Server component</a> is a special type of component that can only be rendered on the server. Combining with Suspense and Streaming, the framework is able to progressively render interactive UI while avoiding long data requests from blocking the page rendering.</p>
<p>The framework looks like this:</p>
<img src="/optimized/articles/qwik-vs-next/next.webp" alt="Next.js and React Server Component" width="100%" class="rounded centered" loading="lazy"/>
<p>When Next.js server receives a request, it delegates React to handle rendering. On the server, React renders the component tree into a UI description in JSON instead of native HTML. The UI description describes the entire component tree. For the client components, React describes them as components for the client to handle with serialized props. For the server components, React renders them to native HTMLs and places them in the UI description.</p>
<p>On the client, React receives and reconciles the UI description in the response stream to progressively render the UI. When React sees a suspense boundary, it renders the suspense placeholder until the pending data is resolved and reveals the suspense boundary.</p>
<p>Because React receives a UI description instead of native HTML on the client, it needs to construct the component tree, render the UI, and attach event handlers on the client. It&#x27;s known as hydration.</p>
<img src="/optimized/articles/qwik-vs-next/sc-perf-2.webp" alt="Next.js and React Server Component" width="100%" class="rounded centered" loading="lazy"/>
<h2 id="final-thoughts"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#final-thoughts"><span class="icon icon-link"></span></a>Final Thoughts</h2>
<p>Qwik&#x27;s concept of <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.builder.io/blog/hydration-is-pure-overhead">serializing states and event handlers</a> is very innovative. The client is able to render the page with just HTML and minimal JavaScript. It reduces the amount of JavaScript the client needs to download for the initial load and leverages dynamic import to download event handlers and components on the fly. We can clearly observe the benefit from the benchmark and performance profile.</p>
<p>However, the combination of React server component, suspense, and streaming has a profound impact on user experience. Users are able to see and interact with the content of the page without waiting for server side data fetching to complete.</p>
<p>The result of the experiment is not conclusive to me. Both frameworks performed well in the benchmarks. The differences in First Content Paint, Largest Content Paint, and Cumulative Layout Shift are likely a result of different Twitter images.</p>
<h2 id="references"><a class="styles_anchor__g18qA anchor" href="/articles/is-qwik-faster-than-react-server-component#references"><span class="icon icon-link"></span></a>References</h2>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.openai.com/docs/api-reference/images/create">API Reference: Create image</a> - OpenAI</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://web.dev/tags/case-study/">Case Study</a> - web.dev</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path">Critical rendering path</a> - MDN</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://openai.com/dall-e-2/">DALL·E 2</a> - OpenAI</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.nextjs.org/docs/data-fetching/fundamentals#fetching-data-with-server-components">Data Fetching Fundamentals</a> - Next.js</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md#seamless-integration-with-javascript-ecosystem">First class support for promises</a> - Andrew Clark</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://web.dev/rakuten/">How Rakuten 24&#x27;s investment in Core Web Vitals increased revenue per visitor by 53.37% and conversion rate by 33.13%</a> - web.dev</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.builder.io/blog/hydration-is-pure-overhead">Hydration is Pure Overhead</a> - Builder.io</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/performance-scoring/">Lighthouse performance scoring</a> - Chrome Developers</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading">Lazy loading</a> - MDN</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org">Next.js</a> - Vercel</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.openai.com/docs/libraries/node-js-library">Node.js library</a> - OpenAI</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work">Populating the page: how browsers work</a> - MDN</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io/docs/concepts/progressive/">Progressively</a> - Builder.io</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io">qwik</a> - Builder.io</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou/qwik-vs-next">qwik-vs-next</a> - Daw-Chih Liou</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md">RFC: React Server Components</a> - React Community</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io/docs/concepts/resumable/">Resumable vs. Hydration</a> - Builder.io</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io/docs/concepts/reactivity/">Reactivity</a> - Builder.io</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://beta.nextjs.org/docs/rendering/server-and-client-components">Server and Client Components</a> - Next.js</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Learn/Performance/why_web_performance">The &quot;why&quot; of web performance</a> - MDN</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://qwik.builder.io/docs/think-qwik/">Think Qwik</a> - Builder.io</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/interactive/">Time to Interfactive</a> - Chrome Developers</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/lighthouse-total-blocking-time/">Total Blocking Time</a> - Chrome Developers</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.twitter.com/en/docs/twitter-api">Twitter API v2</a> - Twitter Developer Aplatform</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://web.dev/vitals/">Web Vitals</a> - web.dev</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/en/docs/lighthouse/performance/speed-index/">Speed Index</a> - Chrome Developers</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.chrome.com/docs/lighthouse/performance/lighthouse-largest-contentful-paint/">Largest Contentful Paint</a> - Chrome Developers</li>
</ul>
<p>Here you have it! Thanks for reading through<span role="img" aria-label="raising hands">🙌</span>
If you find this article useful, please share it to help more people in their engineering journey.</p>
<p><span role="img" aria-label="bird">🐦</span> Feel free to connect with me on <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">twitter</a>!</p>
<p>⏭ Ready for the next article? <span role="img" aria-label="backhand index pointing right">👉</span> <a class="styles_anchor__g18qA undefined" href="/articles/tired-of-slow-code-reviews"><strong>Tired of Slow Code Reviews? Read this</strong></a></p>
<p>Happy coding!</p></div><article class="Author_wrap__s8DeE"><img src="/optimized/raw/portrait-sm.webp" alt="Daw-Chih Liou" class="Author_avatar__j6KIn" loading="lazy"/><div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://dawchihliou.github.io">Daw-Chih Liou</a><p>Daw-Chih is a software engineer, UX advocate, and creator who is dedicated to Web engineering. His background in Human Centered Computing has led him to work with startups and public companies across North America, Asia, and Europe. He is passionate about meeting business trajectory with user journey and utilizing engineering architecture and performance monitoring to provide optimal user experience.</p></div></article></div></div></article><footer class="Footer_footer__1IwEk"><div class="Footer_wrap__FVCTX"><div class="Footer_resources__fG_vu"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">💚</span>This site is built with</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org">Next.js</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://react-icons.github.io/react-icons">React Icons</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com">MDX</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://unifiedjs.com">unified</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">Contentlayer</a></div><div class="Footer_contact__9GJn6"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">🦄</span>Where to find me</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Linkedin</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou">GitHub</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">Twitter</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou">Medium</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou">Hacker Noon</a><a class="styles_anchor__g18qA undefined" href="/rss.xml">RSS Feed <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div><div class="Footer_sitemap__92ono"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">🗺</span>Sitemap</p><a class="styles_anchor__g18qA undefined" href="/">Home</a><a class="styles_anchor__g18qA undefined" href="/articles">Articles</a><a class="styles_anchor__g18qA undefined" href="/work">Work</a><a class="styles_anchor__g18qA undefined" href="/now">Now</a><a class="styles_anchor__g18qA undefined" href="/expertise">Expertise</a><a class="styles_anchor__g18qA undefined" href="/contact">Contact</a></div></div><div class="Footer_copyright__vZZRL">© <!-- -->2023<!-- --> <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Daw-Chih Liou</a></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Is Qwik Faster than React Server Component?","publishedAt":"Jan 26, 2023","description":"A benchmark comparison and analysis between Qwik and Next.js 13.","cover":"/optimized/articles/qwik-vs-next/hero.webp","category":"Frontend","coverWidth":"1400","coverHeight":"600","body":{"raw":"\n## TL;DR\n\n- 🔥 We'll find out whether the trending framework Qwik is faster than Next.js\n- 🤖 We'll look at a demo that generates with OpenAI's DALL-E and its performance benchmark.\n- 🚀 We'll discuss how Next.js leverages React server component to achieve fast SSR.\n\n---\n\nThis article is also available on\n\n- [Better Programming](https://medium.com/better-programming/is-qwik-faster-than-react-server-component-822030a0b0e)\n- [Hacker Noon](https://hackernoon.com/qwik-vs-nextjs-speed-comparison)\n\nFeel free to read it on your favorite platform✨\n\n---\n\nPage speed matters. Faster website results in [better UX, better SEO, and more profit][9]. The [latest research done by Rekuten 24][27] shows that optimizing [Core Web Vitals][21] leads to:\n\n\u003e - 53.37% in revenue per visitor.\n\u003e - 33.13% in conversion rate.\n\u003e - 15.20% in average order value.\n\u003e - 9.99% in average time spent.\n\u003e - A 35.12% reduction in exit rate.\n\nThe modern frameworks and frontend libraries address speed and help developers ship better user experience to the users. We'll be discussing two of the modern frameworks: [Qwik][3] and [Next.js][28]. We'll see an experiment benchmark and look into how each framework achieves optimal performance.\n\nLet's go.\n\n## How The Experiment Is Set Up\n\n- qwik v0.16\n- Next.js v13\n- React v18\n\n## Let's Peek The Result\n\nI built two identical applications with Qwik and Next.js and measured the performances. The demo look like this:\n\n\u003cimg\n  src=\"/articles/qwik-vs-next/demo.gif\"\n  alt=\"DALL-E web app demo\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\n\u003e You can find [the demo on GitHub][18]. Feel free to take a look at the repo and try it out✨\n\nThe application lets users enter prompts to [DALL·E][0], an AI image generator, and displays the generated AI images in the page. It also displays the latest Twitter feed about DALL·E.\n\nThe key features are:\n\n- Server Side rendering the application.\n- Client side fetching the image results with [DALL·E's REST API][1].\n- Server side fetching the Twitter feed with [Twitter's REST API][20].\n\nHere's the core Web Vitals by Lighthouse for Qwik:\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/qwik-lighthouse.webp\"\n  alt=\"Qwik Lighthouse score\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nComparing to Next.js's Web Vitals:\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/sc-lighthouse.webp\"\n  alt=\"Next with server component Lighthouse score\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nWe can observe the following:\n\n- Qwik's [speed index][22] is 0.5 s faster than Next.js.\n- Qwik's [time to interactive][24] is 0.3 s faster than Next.js.\n- Next.js has a 0 ms [total blocking time][23], comparing to Qwik's 160 ms.\n- Next.js has a slightly higher overall [performance score][10] by 5 points.\n- Next.js's [largest contentful paint][25] is 0.8 s faster than Qwik.\n\nLet's take a closer look at the how the application in each framework is set up.\n\n## Qwik Server Side Rendering\n\nThe component structure:\n\n```tsx:qwik/src/routes/index.tsx\nexport const onGet: RequestHandler\u003cTwitterResponse\u003e = async () =\u003e {\n  const data = await fetchTweets();\n  return data;\n}\n\nexport default component$(() =\u003e {\n  const tweets = useEndpoint\u003cTwitterResponse\u003e();\n  return (\n    \u003cLayout\u003e\n      \u003cDallePromptAndResult /\u003e\n      \u003cResource\n        value={tweets}\n        onResolved={(result) =\u003e (\n          \u003cSSRTwitterCarousel data={result} /\u003e\n        )}\n      /\u003e\n      \u003cStaticPromptRecommendation /\u003e\n    \u003c/Layout\u003e\n  )\n})\n```\n\nWhen the Qwik server receives a page request, it starts the rendering process on the server. The \"useEndPoint\" function invokes the \"onGet\" function on the server and fetches the twitter feed. The \"Resource\" component will pause the rendering until the twitter data is resolved or rejected. Once the rendering is completed, the server responds to the client with rendered HTML.\n\nWe can observe the server side rendering behavior in the performance profile:\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/qwik-perf.webp\"\n  alt=\"Qwik performance\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nThe lead time to respond to the client is blocked by the server side data fetching and component rendering.\n\n## Next.js SSR and Streaming\n\nThe component structure:\n\n```tsx:next/app/page.tsx\nexport default async function Page() {\n  const tweets = await fetchTweets();\n  return (\n    \u003cLayout\u003e\n      \u003cDallePromptAndResult /\u003e\n      \u003cSuspense fallback={\u003cSkeleton /\u003e}\u003e\n        \u003cSSRTwitterCarousel data={tweets} /\u003e\n      \u003c/Suspense\u003e\n      \u003cStaticPromptRecommendation /\u003e\n    \u003c/Layout\u003e\n  )\n}\n```\n\nThe \"Page\" component is a server component. It looks just like a normal component but it supports async/await.\n\nWhen the Next.js server receives a page request, it starts the rendering process and [streaming][26] the rendering result to the client so that the client can progressively render and display the UI to the users. While the server is fetching twitter feeds, React renders the suspense placeholder to indicate the pending state. Once the data is resolved or rejected, React reveals the suspense boundary and displays the final UI.\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/sc-perf.webp\"\n  alt=\"Next with server component performance\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nYou can see the client starts rendering while the server is streaming. It reduces the lead time for the users to start seeing the page.\n\n## Resumability v.s. React Server Component\n\n\u003e Qwik embraces the \"Get HTML and render\" mental model.\n\n[Resumability][6] is Qwik's innovation. It allows an application to be rendered as much as possible on the server and resumes the rest of the rendering on the client.\n\nThe framework looks like this:\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/qwik.webp\"\n  alt=\"Next with server component performance\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nWhen receiving a request, the Qwik server starts the rendering process and generate\n\n- serialized application state,\n- serialized event handlers,\n- component HTMLs,\n- and component code chunks.\n\nThe server then responds to the client with the page HTML and the serialized state.\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/qwik-network.webp\"\n  alt=\"Next with server component performance\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nOn the client, the browser processes the [critical rendering path][12] and displays the UI. Qwik deserializes the state after the page HTML is loaded. The state contains all the local states of each component. The lazy loaded components are able to be dynamically imported independently without knowing the parent's state because they can refer to the deserialized state for their local states when they are rendering on the client.\n\nQwik also serializes event handlers.\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/qwik-serd.webp\"\n  alt=\"Qwik serialization\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nIn the server-generated HTML, the event handlers are referenced as dynamic JavaScript chunks. When users interact with an interactive element, Qwik uses the reference to dynamically download the chunk from the server and fire the event with the event handler inside the chunk.\n\n\u003cimg\n  src=\"/articles/qwik-vs-next/qwik-dynamic-import.gif\"\n  alt=\"Qwik dynamic import\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nOn the other hand, Next.js has a different approach to server side rendering.\n\n\u003e Next.js and React server component promotes the \"Render while fetching\" mental model.\n\n[Next.js 13 introduces React server component as an experimental feature][13]. [Server component][14] is a special type of component that can only be rendered on the server. Combining with Suspense and Streaming, the framework is able to progressively render interactive UI while avoiding long data requests from blocking the page rendering.\n\nThe framework looks like this:\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/next.webp\"\n  alt=\"Next.js and React Server Component\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\nWhen Next.js server receives a request, it delegates React to handle rendering. On the server, React renders the component tree into a UI description in JSON instead of native HTML. The UI description describes the entire component tree. For the client components, React describes them as components for the client to handle with serialized props. For the server components, React renders them to native HTMLs and places them in the UI description.\n\nOn the client, React receives and reconciles the UI description in the response stream to progressively render the UI. When React sees a suspense boundary, it renders the suspense placeholder until the pending data is resolved and reveals the suspense boundary.\n\nBecause React receives a UI description instead of native HTML on the client, it needs to construct the component tree, render the UI, and attach event handlers on the client. It's known as hydration.\n\n\u003cimg\n  src=\"/optimized/articles/qwik-vs-next/sc-perf-2.webp\"\n  alt=\"Next.js and React Server Component\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\n## Final Thoughts\n\nQwik's concept of [serializing states and event handlers][4] is very innovative. The client is able to render the page with just HTML and minimal JavaScript. It reduces the amount of JavaScript the client needs to download for the initial load and leverages dynamic import to download event handlers and components on the fly. We can clearly observe the benefit from the benchmark and performance profile.\n\nHowever, the combination of React server component, suspense, and streaming has a profound impact on user experience. Users are able to see and interact with the content of the page without waiting for server side data fetching to complete.\n\nThe result of the experiment is not conclusive to me. Both frameworks performed well in the benchmarks. The differences in First Content Paint, Largest Content Paint, and Cumulative Layout Shift are likely a result of different Twitter images.\n\n## References\n\n- [API Reference: Create image][1] - OpenAI\n- [Case Study][9] - web.dev\n- [Critical rendering path][12] - MDN\n- [DALL·E 2][0] - OpenAI\n- [Data Fetching Fundamentals][17] - Next.js\n- [First class support for promises][19] - Andrew Clark\n- [How Rakuten 24's investment in Core Web Vitals increased revenue per visitor by 53.37% and conversion rate by 33.13%][27] - web.dev\n- [Hydration is Pure Overhead][4] - Builder.io\n- [Lighthouse performance scoring][10] - Chrome Developers\n- [Lazy loading][11] - MDN\n- [Next.js][28] - Vercel\n- [Node.js library][2] - OpenAI\n- [Populating the page: how browsers work][16] - MDN\n- [Progressively][7] - Builder.io\n- [qwik][3] - Builder.io\n- [qwik-vs-next][18] - Daw-Chih Liou\n- [RFC: React Server Components][14] - React Community\n- [Resumable vs. Hydration][6] - Builder.io\n- [Reactivity][8] - Builder.io\n- [Server and Client Components][13] - Next.js\n- [The \"why\" of web performance][15] - MDN\n- [Think Qwik][5] - Builder.io\n- [Time to Interfactive][24] - Chrome Developers\n- [Total Blocking Time][23] - Chrome Developers\n- [Twitter API v2][20] - Twitter Developer Aplatform\n- [Web Vitals][21] - web.dev\n- [Speed Index][22] - Chrome Developers\n- [Largest Contentful Paint][25] - Chrome Developers\n\n[0]: https://openai.com/dall-e-2/\n[1]: https://beta.openai.com/docs/api-reference/images/create\n[2]: https://beta.openai.com/docs/libraries/node-js-library\n[3]: https://qwik.builder.io\n[4]: https://www.builder.io/blog/hydration-is-pure-overhead\n[5]: https://qwik.builder.io/docs/think-qwik/\n[6]: https://qwik.builder.io/docs/concepts/resumable/\n[7]: https://qwik.builder.io/docs/concepts/progressive/\n[8]: https://qwik.builder.io/docs/concepts/reactivity/\n[9]: https://web.dev/tags/case-study/\n[10]: https://developer.chrome.com/docs/lighthouse/performance/performance-scoring/\n[11]: https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading\n[12]: https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path\n[13]: https://beta.nextjs.org/docs/rendering/server-and-client-components\n[14]: https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md\n[15]: https://developer.mozilla.org/en-US/docs/Learn/Performance/why_web_performance\n[16]: https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work\n[17]: https://beta.nextjs.org/docs/data-fetching/fundamentals#fetching-data-with-server-components\n[18]: https://github.com/DawChihLiou/qwik-vs-next\n[19]: https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md#seamless-integration-with-javascript-ecosystem\n[20]: https://developer.twitter.com/en/docs/twitter-api\n[21]: https://web.dev/vitals/\n[22]: https://developer.chrome.com/en/docs/lighthouse/performance/speed-index/\n[23]: https://developer.chrome.com/docs/lighthouse/performance/lighthouse-total-blocking-time/\n[24]: https://developer.chrome.com/docs/lighthouse/performance/interactive/\n[25]: https://developer.chrome.com/docs/lighthouse/performance/lighthouse-largest-contentful-paint/\n[26]: https://beta.nextjs.org/docs/data-fetching/streaming-and-suspense\n[27]: https://web.dev/rakuten/\n[28]: https://nextjs.org\n\nHere you have it! Thanks for reading through🙌\nIf you find this article useful, please share it to help more people in their engineering journey.\n\n🐦 Feel free to connect with me on [twitter](https://twitter.com/dawchihliou)!\n\n⏭ Ready for the next article? 👉 [**Tired of Slow Code Reviews? Read this**](/articles/tired-of-slow-code-reviews)\n\nHappy coding!\n","code":"var Component=(()=\u003e{var d=Object.create;var i=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var N=(a,e)=\u003e()=\u003e(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=\u003e{for(var t in e)i(a,t,{get:e[t],enumerable:!0})},c=(a,e,t,r)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!k.call(a,s)\u0026\u0026s!==t\u0026\u0026i(a,s,{get:()=\u003ee[s],enumerable:!(r=p(e,s))||r.enumerable});return a};var f=(a,e,t)=\u003e(t=a!=null?d(u(a)):{},c(e||!a||!a.__esModule?i(t,\"default\",{value:a,enumerable:!0}):t,a)),w=a=\u003ec(i({},\"__esModule\",{value:!0}),a);var o=N((T,l)=\u003e{l.exports=_jsx_runtime});var y={};g(y,{default:()=\u003ex,frontmatter:()=\u003ev});var n=f(o()),v={title:\"Is Qwik Faster than React Server Component?\",publishedAt:\"Jan 26, 2023\",description:\"A benchmark comparison and analysis between Qwik and Next.js 13.\",cover:\"/optimized/articles/qwik-vs-next/hero.webp\",category:\"Frontend\",coverWidth:\"1400\",coverHeight:\"600\"};function h(a){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",hr:\"hr\",p:\"p\",blockquote:\"blockquote\",div:\"div\",pre:\"pre\",code:\"code\",strong:\"strong\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"tldr\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#tldr\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"fire\",children:\"\\u{1F525}\"}),\" We'll find out whether the trending framework Qwik is faster than Next.js\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"robot face\",children:\"\\u{1F916}\"}),\" We'll look at a demo that generates with OpenAI's DALL-E and its performance benchmark.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"rocket\",children:\"\\u{1F680}\"}),\" We'll discuss how Next.js leverages React server component to achieve fast SSR.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"This article is also available on\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://medium.com/better-programming/is-qwik-faster-than-react-server-component-822030a0b0e\",children:\"Better Programming\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://hackernoon.com/qwik-vs-nextjs-speed-comparison\",children:\"Hacker Noon\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Feel free to read it on your favorite platform\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"})]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"Page speed matters. Faster website results in \",(0,n.jsx)(e.a,{href:\"https://web.dev/tags/case-study/\",children:\"better UX, better SEO, and more profit\"}),\". The \",(0,n.jsx)(e.a,{href:\"https://web.dev/rakuten/\",children:\"latest research done by Rekuten 24\"}),\" shows that optimizing \",(0,n.jsx)(e.a,{href:\"https://web.dev/vitals/\",children:\"Core Web Vitals\"}),\" leads to:\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"53.37% in revenue per visitor.\"}),`\n`,(0,n.jsx)(e.li,{children:\"33.13% in conversion rate.\"}),`\n`,(0,n.jsx)(e.li,{children:\"15.20% in average order value.\"}),`\n`,(0,n.jsx)(e.li,{children:\"9.99% in average time spent.\"}),`\n`,(0,n.jsx)(e.li,{children:\"A 35.12% reduction in exit rate.\"}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The modern frameworks and frontend libraries address speed and help developers ship better user experience to the users. We'll be discussing two of the modern frameworks: \",(0,n.jsx)(e.a,{href:\"https://qwik.builder.io\",children:\"Qwik\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://nextjs.org\",children:\"Next.js\"}),\". We'll see an experiment benchmark and look into how each framework achieves optimal performance.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's go.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"how-the-experiment-is-set-up\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#how-the-experiment-is-set-up\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"How The Experiment Is Set Up\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"qwik v0.16\"}),`\n`,(0,n.jsx)(e.li,{children:\"Next.js v13\"}),`\n`,(0,n.jsx)(e.li,{children:\"React v18\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"lets-peek-the-result\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#lets-peek-the-result\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Let's Peek The Result\"]}),`\n`,(0,n.jsx)(e.p,{children:\"I built two identical applications with Qwik and Next.js and measured the performances. The demo look like this:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/articles/qwik-vs-next/demo.gif\",alt:\"DALL-E web app demo\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"You can find \",(0,n.jsx)(e.a,{href:\"https://github.com/DawChihLiou/qwik-vs-next\",children:\"the demo on GitHub\"}),\". Feel free to take a look at the repo and try it out\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The application lets users enter prompts to \",(0,n.jsx)(e.a,{href:\"https://openai.com/dall-e-2/\",children:\"DALL\\xB7E\"}),\", an AI image generator, and displays the generated AI images in the page. It also displays the latest Twitter feed about DALL\\xB7E.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The key features are:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Server Side rendering the application.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Client side fetching the image results with \",(0,n.jsx)(e.a,{href:\"https://beta.openai.com/docs/api-reference/images/create\",children:\"DALL\\xB7E's REST API\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Server side fetching the Twitter feed with \",(0,n.jsx)(e.a,{href:\"https://developer.twitter.com/en/docs/twitter-api\",children:\"Twitter's REST API\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Here's the core Web Vitals by Lighthouse for Qwik:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/qwik-lighthouse.webp\",alt:\"Qwik Lighthouse score\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"Comparing to Next.js's Web Vitals:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/sc-lighthouse.webp\",alt:\"Next with server component Lighthouse score\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"We can observe the following:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Qwik's \",(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/en/docs/lighthouse/performance/speed-index/\",children:\"speed index\"}),\" is 0.5 s faster than Next.js.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Qwik's \",(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/interactive/\",children:\"time to interactive\"}),\" is 0.3 s faster than Next.js.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Next.js has a 0 ms \",(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/lighthouse-total-blocking-time/\",children:\"total blocking time\"}),\", comparing to Qwik's 160 ms.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Next.js has a slightly higher overall \",(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/performance-scoring/\",children:\"performance score\"}),\" by 5 points.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Next.js's \",(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/lighthouse-largest-contentful-paint/\",children:\"largest contentful paint\"}),\" is 0.8 s faster than Qwik.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's take a closer look at the how the application in each framework is set up.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"qwik-server-side-rendering\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#qwik-server-side-rendering\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Qwik Server Side Rendering\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The component structure:\"}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"qwik/src/routes/index.tsx\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" onGet\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"RequestHandler\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"TwitterResponse\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetchTweets\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" data\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"component$\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" tweets \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token generic-function\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"useEndpoint\"}),(0,n.jsxs)(e.span,{className:\"token generic class-name\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\"TwitterResponse\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"})]})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Layout\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"DallePromptAndResult\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Resource\"})]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"value\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"tweets\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"onResolved\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]})]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token tag\",children:(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[\"          \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"SSRTwitterCarousel\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"data\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"StaticPromptRecommendation\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Layout\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:'When the Qwik server receives a page request, it starts the rendering process on the server. The \"useEndPoint\" function invokes the \"onGet\" function on the server and fetches the twitter feed. The \"Resource\" component will pause the rendering until the twitter data is resolved or rejected. Once the rendering is completed, the server responds to the client with rendered HTML.'}),`\n`,(0,n.jsx)(e.p,{children:\"We can observe the server side rendering behavior in the performance profile:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/qwik-perf.webp\",alt:\"Qwik performance\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"The lead time to respond to the client is blocked by the server side data fetching and component rendering.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"nextjs-ssr-and-streaming\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#nextjs-ssr-and-streaming\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Next.js SSR and Streaming\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The component structure:\"}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"next/app/page.tsx\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Page\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" tweets \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetchTweets\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Layout\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"DallePromptAndResult\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Suspense\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"fallback\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Skeleton\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"SSRTwitterCarousel\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"data\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"tweets\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Suspense\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"StaticPromptRecommendation\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Layout\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:'The \"Page\" component is a server component. It looks just like a normal component but it supports async/await.'}),`\n`,(0,n.jsxs)(e.p,{children:[\"When the Next.js server receives a page request, it starts the rendering process and \",(0,n.jsx)(e.a,{href:\"https://beta.nextjs.org/docs/data-fetching/streaming-and-suspense\",children:\"streaming\"}),\" the rendering result to the client so that the client can progressively render and display the UI to the users. While the server is fetching twitter feeds, React renders the suspense placeholder to indicate the pending state. Once the data is resolved or rejected, React reveals the suspense boundary and displays the final UI.\"]}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/sc-perf.webp\",alt:\"Next with server component performance\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"You can see the client starts rendering while the server is streaming. It reduces the lead time for the users to start seeing the page.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"resumability-vs-react-server-component\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#resumability-vs-react-server-component\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Resumability v.s. React Server Component\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:'Qwik embraces the \"Get HTML and render\" mental model.'}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://qwik.builder.io/docs/concepts/resumable/\",children:\"Resumability\"}),\" is Qwik's innovation. It allows an application to be rendered as much as possible on the server and resumes the rest of the rendering on the client.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The framework looks like this:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/qwik.webp\",alt:\"Next with server component performance\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"When receiving a request, the Qwik server starts the rendering process and generate\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"serialized application state,\"}),`\n`,(0,n.jsx)(e.li,{children:\"serialized event handlers,\"}),`\n`,(0,n.jsx)(e.li,{children:\"component HTMLs,\"}),`\n`,(0,n.jsx)(e.li,{children:\"and component code chunks.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"The server then responds to the client with the page HTML and the serialized state.\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/qwik-network.webp\",alt:\"Next with server component performance\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"On the client, the browser processes the \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path\",children:\"critical rendering path\"}),\" and displays the UI. Qwik deserializes the state after the page HTML is loaded. The state contains all the local states of each component. The lazy loaded components are able to be dynamically imported independently without knowing the parent's state because they can refer to the deserialized state for their local states when they are rendering on the client.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Qwik also serializes event handlers.\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/qwik-serd.webp\",alt:\"Qwik serialization\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"In the server-generated HTML, the event handlers are referenced as dynamic JavaScript chunks. When users interact with an interactive element, Qwik uses the reference to dynamically download the chunk from the server and fire the event with the event handler inside the chunk.\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/articles/qwik-vs-next/qwik-dynamic-import.gif\",alt:\"Qwik dynamic import\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"On the other hand, Next.js has a different approach to server side rendering.\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:'Next.js and React server component promotes the \"Render while fetching\" mental model.'}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://beta.nextjs.org/docs/rendering/server-and-client-components\",children:\"Next.js 13 introduces React server component as an experimental feature\"}),\". \",(0,n.jsx)(e.a,{href:\"https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md\",children:\"Server component\"}),\" is a special type of component that can only be rendered on the server. Combining with Suspense and Streaming, the framework is able to progressively render interactive UI while avoiding long data requests from blocking the page rendering.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The framework looks like this:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/next.webp\",alt:\"Next.js and React Server Component\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsx)(e.p,{children:\"When Next.js server receives a request, it delegates React to handle rendering. On the server, React renders the component tree into a UI description in JSON instead of native HTML. The UI description describes the entire component tree. For the client components, React describes them as components for the client to handle with serialized props. For the server components, React renders them to native HTMLs and places them in the UI description.\"}),`\n`,(0,n.jsx)(e.p,{children:\"On the client, React receives and reconciles the UI description in the response stream to progressively render the UI. When React sees a suspense boundary, it renders the suspense placeholder until the pending data is resolved and reveals the suspense boundary.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Because React receives a UI description instead of native HTML on the client, it needs to construct the component tree, render the UI, and attach event handlers on the client. It's known as hydration.\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/qwik-vs-next/sc-perf-2.webp\",alt:\"Next.js and React Server Component\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"final-thoughts\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#final-thoughts\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Final Thoughts\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Qwik's concept of \",(0,n.jsx)(e.a,{href:\"https://www.builder.io/blog/hydration-is-pure-overhead\",children:\"serializing states and event handlers\"}),\" is very innovative. The client is able to render the page with just HTML and minimal JavaScript. It reduces the amount of JavaScript the client needs to download for the initial load and leverages dynamic import to download event handlers and components on the fly. We can clearly observe the benefit from the benchmark and performance profile.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"However, the combination of React server component, suspense, and streaming has a profound impact on user experience. Users are able to see and interact with the content of the page without waiting for server side data fetching to complete.\"}),`\n`,(0,n.jsx)(e.p,{children:\"The result of the experiment is not conclusive to me. Both frameworks performed well in the benchmarks. The differences in First Content Paint, Largest Content Paint, and Cumulative Layout Shift are likely a result of different Twitter images.\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"references\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#references\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"References\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://beta.openai.com/docs/api-reference/images/create\",children:\"API Reference: Create image\"}),\" - OpenAI\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://web.dev/tags/case-study/\",children:\"Case Study\"}),\" - web.dev\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path\",children:\"Critical rendering path\"}),\" - MDN\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://openai.com/dall-e-2/\",children:\"DALL\\xB7E 2\"}),\" - OpenAI\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://beta.nextjs.org/docs/data-fetching/fundamentals#fetching-data-with-server-components\",children:\"Data Fetching Fundamentals\"}),\" - Next.js\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md#seamless-integration-with-javascript-ecosystem\",children:\"First class support for promises\"}),\" - Andrew Clark\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://web.dev/rakuten/\",children:\"How Rakuten 24's investment in Core Web Vitals increased revenue per visitor by 53.37% and conversion rate by 33.13%\"}),\" - web.dev\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.builder.io/blog/hydration-is-pure-overhead\",children:\"Hydration is Pure Overhead\"}),\" - Builder.io\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/performance-scoring/\",children:\"Lighthouse performance scoring\"}),\" - Chrome Developers\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading\",children:\"Lazy loading\"}),\" - MDN\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://nextjs.org\",children:\"Next.js\"}),\" - Vercel\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://beta.openai.com/docs/libraries/node-js-library\",children:\"Node.js library\"}),\" - OpenAI\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work\",children:\"Populating the page: how browsers work\"}),\" - MDN\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://qwik.builder.io/docs/concepts/progressive/\",children:\"Progressively\"}),\" - Builder.io\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://qwik.builder.io\",children:\"qwik\"}),\" - Builder.io\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/DawChihLiou/qwik-vs-next\",children:\"qwik-vs-next\"}),\" - Daw-Chih Liou\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md\",children:\"RFC: React Server Components\"}),\" - React Community\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://qwik.builder.io/docs/concepts/resumable/\",children:\"Resumable vs. Hydration\"}),\" - Builder.io\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://qwik.builder.io/docs/concepts/reactivity/\",children:\"Reactivity\"}),\" - Builder.io\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://beta.nextjs.org/docs/rendering/server-and-client-components\",children:\"Server and Client Components\"}),\" - Next.js\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Learn/Performance/why_web_performance\",children:'The \"why\" of web performance'}),\" - MDN\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://qwik.builder.io/docs/think-qwik/\",children:\"Think Qwik\"}),\" - Builder.io\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/interactive/\",children:\"Time to Interfactive\"}),\" - Chrome Developers\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/lighthouse-total-blocking-time/\",children:\"Total Blocking Time\"}),\" - Chrome Developers\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.twitter.com/en/docs/twitter-api\",children:\"Twitter API v2\"}),\" - Twitter Developer Aplatform\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://web.dev/vitals/\",children:\"Web Vitals\"}),\" - web.dev\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/en/docs/lighthouse/performance/speed-index/\",children:\"Speed Index\"}),\" - Chrome Developers\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.chrome.com/docs/lighthouse/performance/lighthouse-largest-contentful-paint/\",children:\"Largest Contentful Paint\"}),\" - Chrome Developers\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Here you have it! Thanks for reading through\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"raising hands\",children:\"\\u{1F64C}\"}),`\nIf you find this article useful, please share it to help more people in their engineering journey.`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"bird\",children:\"\\u{1F426}\"}),\" Feel free to connect with me on \",(0,n.jsx)(e.a,{href:\"https://twitter.com/dawchihliou\",children:\"twitter\"}),\"!\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\u23ED Ready for the next article? \",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"backhand index pointing right\",children:\"\\u{1F449}\"}),\" \",(0,n.jsx)(e.a,{href:\"/articles/tired-of-slow-code-reviews\",children:(0,n.jsx)(e.strong,{children:\"Tired of Slow Code Reviews? Read this\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Happy coding!\"})]})}function b(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(h,a)})):h(a)}var x=b;return w(y);})();\n;return Component;"},"_id":"articles/is-qwik-faster-than-react-server-component.mdx","_raw":{"sourceFilePath":"articles/is-qwik-faster-than-react-server-component.mdx","sourceFileName":"is-qwik-faster-than-react-server-component.mdx","sourceFileDir":"articles","contentType":"mdx","flattenedPath":"articles/is-qwik-faster-than-react-server-component"},"type":"Article","readingTime":{"text":"9 min read","minutes":8.465,"time":507900,"words":1693},"wordCount":1695,"slug":"is-qwik-faster-than-react-server-component"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"is-qwik-faster-than-react-server-component"},"buildId":"y-e3puPuwO-eJNSWh-cCe","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>