<!DOCTYPE html><html lang="en"><head><script defer="" data-domain="dawchihliou.github.io" src="https://plausible.io/js/plausible.outbound-links.js"></script><script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/svg" sizes="32x32" href="/favicon.svg"/><link rel="icon" type="image/svg" sizes="16x16" href="/favicon.svg"/><link rel="mask-icon" href="/favicon.svg" color="#ffffff"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><meta name="msapplication-TileColor" content="#007cf0"/><meta name="theme-color" content="#ffff"/><title>Indexing Strings in Rust and TypeScript: A Case Study of String</title><meta name="description" content="Text is essential in programming languages. String is the Rust&#x27;s and JavaScript&#x27;s definition to process text in written languages around the world. Through the simple concept of string indexing, we&#x27;ll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis."/><meta name="robots" content="follow, index"/><link rel="canonical" href="https://dawchihliou.github.io/articles/indexing-strings-in-rust-and-typescript"/><meta itemProp="name" content="Indexing Strings in Rust and TypeScript: A Case Study of String"/><meta itemProp="description" content="Text is essential in programming languages. String is the Rust&#x27;s and JavaScript&#x27;s definition to process text in written languages around the world. Through the simple concept of string indexing, we&#x27;ll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis."/><meta itemProp="image" content="https://dawchihliou.github.io/optimized/articles/indexing-strings-in-rust/hero.png"/><meta property="og:title" content="Indexing Strings in Rust and TypeScript: A Case Study of String"/><meta property="og:type" content="website"/><meta property="og:url" content="https://dawchihliou.github.io/articles/indexing-strings-in-rust-and-typescript"/><meta property="og:description" content="Text is essential in programming languages. String is the Rust&#x27;s and JavaScript&#x27;s definition to process text in written languages around the world. Through the simple concept of string indexing, we&#x27;ll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis."/><meta property="og:image" content="https://dawchihliou.github.io/optimized/articles/indexing-strings-in-rust/hero.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="1411"/><meta property="og:image:height" content="682"/><meta property="og:image:alt" content="Text is essential in programming languages. String is the Rust&#x27;s and JavaScript&#x27;s definition to process text in written languages around the world. Through the simple concept of string indexing, we&#x27;ll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@dawchihliou"/><meta name="twitter:creator" content="@dawchihliou"/><meta name="twitter:title" content="Indexing Strings in Rust and TypeScript: A Case Study of String"/><meta name="twitter:description" content="Text is essential in programming languages. String is the Rust&#x27;s and JavaScript&#x27;s definition to process text in written languages around the world. Through the simple concept of string indexing, we&#x27;ll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis."/><meta name="twitter:image" content="https://dawchihliou.github.io/optimized/articles/indexing-strings-in-rust/hero.webp"/><meta property="article:published_time" content="2021-12-28T00:00:00.000Z"/><meta property="article:section" content="Article Section"/><meta property="article:tag" content="Article Tag"/><meta name="next-head-count" content="36"/><link rel="preload" href="/_next/static/css/e88461a7149d5905.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e88461a7149d5905.css" data-n-g=""/><link rel="preload" href="/_next/static/css/54ba867c7255694d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/54ba867c7255694d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-2e85039026b85b70.js" defer=""></script><script src="/_next/static/chunks/framework-01395af778c6fb71.js" defer=""></script><script src="/_next/static/chunks/main-e8c39d39ad5622e4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-94718c7e6e4d96a3.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-f62544c600d1388a.js" defer=""></script><script src="/_next/static/mz502EJ6053UODAO7ZbyE/_buildManifest.js" defer=""></script><script src="/_next/static/mz502EJ6053UODAO7ZbyE/_ssgManifest.js" defer=""></script><script src="/_next/static/mz502EJ6053UODAO7ZbyE/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div id="outer-container"><header><div><div class="bm-overlay" style="position:fixed;z-index:1000;width:100%;height:100%;background:rgba(0, 0, 0, 0.3);opacity:0;-moz-transform:translate3d(100%, 0, 0);-ms-transform:translate3d(100%, 0, 0);-o-transform:translate3d(100%, 0, 0);-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);transition:opacity 0.3s, transform 0s 0.3s"></div><div><div class="bm-burger-button" style="z-index:1000"><button id="react-burger-menu-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer">Open Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-icon" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><div id="" class="bm-menu-wrap" style="position:fixed;right:inherit;z-index:1100;width:300px;height:100%;-moz-transform:translate3d(-100%, 0, 0);-ms-transform:translate3d(-100%, 0, 0);-o-transform:translate3d(-100%, 0, 0);-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);transition:all 0.5s" aria-hidden="true"><div class="bm-menu" style="height:100%;box-sizing:border-box;overflow:auto"><nav class="bm-item-list" style="height:100%"><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/"><button class="Nav_button__YJwKE" tabindex="-1">Home</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/articles"><button class="Nav_button__YJwKE" tabindex="-1">Articles</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/work"><button class="Nav_button__YJwKE" tabindex="-1">Work</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/now"><button class="Nav_button__YJwKE" tabindex="-1">Now</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/expertise"><button class="Nav_button__YJwKE" tabindex="-1">Expertise</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/contact"><button class="Nav_button__YJwKE" tabindex="-1">Contact</button></a><span class="bm-item Nav_pusher__93Gc6" style="display:block" tabindex="-1"></span><span class="bm-item Nav_divider__QD8Pt" style="display:block" tabindex="-1"></span><div class="bm-item Nav_profile__Kf2nU" style="display:block" tabindex="-1"><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Linkedin profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M20.45175,20.45025 L16.89225,20.45025 L16.89225,14.88075 C16.89225,13.5525 16.86975,11.844 15.04275,11.844 C13.191,11.844 12.90825,13.2915 12.90825,14.7855 L12.90825,20.45025 L9.3525,20.45025 L9.3525,8.997 L12.765,8.997 L12.765,10.563 L12.81375,10.563 C13.2885,9.66225 14.4495,8.71275 16.18125,8.71275 C19.78575,8.71275 20.45175,11.08425 20.45175,14.169 L20.45175,20.45025 Z M5.33925,7.4325 C4.1955,7.4325 3.27375,6.50775 3.27375,5.36775 C3.27375,4.2285 4.1955,3.30375 5.33925,3.30375 C6.47775,3.30375 7.4025,4.2285 7.4025,5.36775 C7.4025,6.50775 6.47775,7.4325 5.33925,7.4325 L5.33925,7.4325 Z M7.11975,20.45025 L3.5565,20.45025 L3.5565,8.997 L7.11975,8.997 L7.11975,20.45025 Z M23.00025,0 L1.0005,0 C0.44775,0 0,0.44775 0,0.99975 L0,22.9995 C0,23.55225 0.44775,24 1.0005,24 L23.00025,24 C23.55225,24 24,23.55225 24,22.9995 L24,0.99975 C24,0.44775 23.55225,0 23.00025,0 L23.00025,0 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="Link to Daw-Chih&#x27;s GitHub profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou" aria-label="Link to Daw-Chih&#x27;s Medium profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2.84593838,5.88685595 C2.87575654,5.59224254 2.76340763,5.30104995 2.54341737,5.10276397 L0.302521008,2.4032473 L0.302521008,2 L7.2605042,2 L12.6386555,13.7949836 L17.3669469,2 L24,2 L24,2.4032473 L22.0840336,4.2402628 C21.9188563,4.36617057 21.8369199,4.57310892 21.8711485,4.77792587 L21.8711485,18.2755093 C21.8369199,18.4803262 21.9188563,18.6872645 22.0840336,18.8131723 L23.9551821,20.6501878 L23.9551821,21.0534351 L14.5434174,21.0534351 L14.5434174,20.6501878 L16.4817928,18.7683671 C16.6722689,18.5779447 16.6722689,18.5219382 16.6722689,18.2307041 L16.6722689,7.32062416 L11.2829132,21.0086299 L10.5546219,21.0086299 L4.28011204,7.32062416 L4.28011204,16.4945003 C4.22779746,16.8801958 4.35589372,17.2685069 4.62745097,17.5474239 L7.14845938,20.6053826 L7.14845938,21.0086299 L0,21.0086299 L0,20.6053826 L2.5210084,17.5474239 C2.79058848,17.2680445 2.91121535,16.8771576 2.84593838,16.4945003 L2.84593838,5.88685595 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Hackernoon profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M5.701 0v6.223H8.85V4.654h1.576v7.842H12V4.654h1.574v1.569h3.15V0zm11.024 6.223v3.136h1.574V6.223zm1.574 3.136v4.705h1.576v-1.568h1.574v-1.568h-1.574V9.359zm0 4.705h-1.574v3.137h1.574zm-1.574 3.137h-3.15v1.569H8.85V17.2H5.7V24h11.024zm-11.024 0v-3.137H4.125v3.137zm-1.576-3.137V9.36H2.551v4.705zm0-4.705h1.576V6.223H4.125Z"></path></svg><span hidden="">Link to Daw-Chih&#x27;s Hacker Noon profile</span></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Twitter profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M24,4.3086 C23.117,4.7006 22.168,4.9646 21.172,5.0836 C22.188,4.4746 22.969,3.5096 23.337,2.3596 C22.386,2.9246 21.332,3.3336 20.21,3.5556 C19.312,2.5976 18.032,1.9996 16.616,1.9996 C13.897,1.9996 11.692,4.2046 11.692,6.9236 C11.692,7.3096 11.736,7.6856 11.82,8.0456 C7.728,7.8406 4.099,5.8806 1.671,2.9006 C1.247,3.6286 1.004,4.4736 1.004,5.3766 C1.004,7.0846 1.873,8.5926 3.195,9.4756 C2.388,9.4486 1.628,9.2276 0.964,8.8596 L0.964,8.9206 C0.964,11.3066 2.661,13.2966 4.914,13.7486 C4.501,13.8626 4.065,13.9216 3.617,13.9216 C3.299,13.9216 2.991,13.8906 2.69,13.8336 C3.317,15.7896 5.135,17.2136 7.29,17.2536 C5.604,18.5736 3.481,19.3606 1.175,19.3606 C0.777,19.3606 0.385,19.3376 0,19.2926 C2.179,20.6886 4.767,21.5046 7.548,21.5046 C16.605,21.5046 21.557,14.0016 21.557,7.4946 C21.557,7.2816 21.552,7.0696 21.543,6.8586 C22.505,6.1636 23.34,5.2966 24,4.3086"></path></svg></a></div><div class="DarkmodeSwitch_container__uFGHQ" tabindex="-1"><div class="DarkmodeSwitch_wrap__e71_4"></div></div></nav></div><div><div class="bm-cross-button" style="position:absolute;width:24px;height:24px;right:8px;top:8px"><button id="react-burger-cross-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer" tabindex="-1">Close Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-cross" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div></div></div></header><div class="Menubar_menubar__gvU4b"><a class="styles_anchor__g18qA Menubar_hireMe__zuAig" href="/contact"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>Hire Me</a><div class="DarkmodeSwitch_container__uFGHQ" tabindex="0"><div class="DarkmodeSwitch_wrap__e71_4"></div></div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="See more Daw-Chih&#x27;s work on GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a></div><div id="page-wrap"><article><div class="Article_container__q__L3"><div class="Article_wrap__LZypL"><h1>Indexing Strings in Rust and TypeScript: A Case Study of String</h1><div class="Article_info__bOKys"><div class="Article_author__grS8U"><img alt="Daw-Chih Liou" src="/optimized/raw/portrait-sm.webp" loading="lazy"/><p>Daw-Chih Liou</p></div><p>December 28, 2021<!-- --> ¬∑ 9 min read</p></div><img alt="Indexing Strings in Rust and TypeScript: A Case Study of String" src="/optimized/articles/indexing-strings-in-rust/hero.webp" width="100%" loading="lazy"/><div class="article-content"><h2 id="tldr"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#tldr"><span class="icon icon-link"></span></a>TL;DR</h2>
<ul>
<li>ü™¢ Accessing characters in strings with index is not compilable in Rust.</li>
<li><span role="img" aria-label="guitar">üé∏</span> We&#x27;ll discuss how Rust think about strings.</li>
<li><span role="img" aria-label="robot face">ü§ñ</span> We&#x27;ll discuss how JavaScript handles strings.</li>
<li><span role="img" aria-label="" aria-hidden="true">üßë</span>‚Äç<span role="img" aria-label="microscope">üî¨</span> We&#x27;ll compare a classic algorithm <code>is_palindrome</code> in Rust and TypeScript.</li>
</ul>
<hr/>
<p>Text is essential in programming languages.
String is the Rust&#x27;s and JavaScript&#x27;s definition to process text in written languages around the world.
Through the simple concept of string indexing, we&#x27;ll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis.</p>
<p>Let&#x27;s use a classic algorithm <code>is_palindrome</code> to introduce the concept of string indexing.</p>
<h2 id="is_palindrome-in-rust"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#is_palindrome-in-rust"><span class="icon icon-link"></span></a><code>is_palindrome</code> in Rust</h2>
<p>A <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Palindrome">palindrome</a>, in a very general way of explaining it, is a string that reads the same forward and backward.
&quot;<strong>Ana</strong>&quot; is a palindrome, &quot;<strong>A dog! A panic in a pagoda!</strong>&quot; is a palindrome, or even &quot;<strong>02/02/2020</strong>&quot; is a palindrome.</p>
<p>For the purpose of this article, we&#x27;ll use a more narrowed definition to keep the algorithm simple.
A palindrome here is defined as a &quot;continuous sequence of lowercase ASCII characters without whitespace&quot;.</p>
<p>One intuitive approach would be using two pointers.
One starts from the beginning of the given string moving toward the end, and the other from the end toward the beginning.
While moving the pointers, compare the pointing characters.
The given string is a palindrome if all the comparisons are equal. Like this:</p>
<pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// <span role="img" aria-label="cross mark">‚ùå</span> It won&#x27;t compile</span>
</span><span class="code-line"><span class="token keyword">fn</span> <span class="token function-definition function">is_palindrome</span><span class="token punctuation">(</span><span class="token keyword">str</span><span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">//        lp       rp</span>
</span><span class="code-line">  <span class="token comment">//        |        |</span>
</span><span class="code-line">  <span class="token comment">//        v ‚Üí    ‚Üê v</span>
</span><span class="code-line">  <span class="token comment">// str = &quot;aabbccbbaa&quot;</span>
</span><span class="code-line">  <span class="token keyword">let</span> <span class="token keyword">mut</span> lp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">let</span> <span class="token keyword">mut</span> rp <span class="token operator">=</span> <span class="token keyword">str</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">while</span> lp <span class="token operator">&lt;</span> rp <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token keyword">str</span><span class="token punctuation">[</span>lp<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">str</span><span class="token punctuation">[</span>rp<span class="token punctuation">]</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// ^^^^^^^ `String` cannot be indexed by `usize`</span>
</span><span class="code-line">      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    lp <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">    rp <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token boolean">true</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>If you try to compile the program, you&#x27;ll notice that the Rust compiler won&#x27;t let us access characters by index.
It&#x27;s a very interesting constraint because many languages like JavaScript, Go, and Python offer the feature.</p>
<p>As we dig a little deeper, there are some string methods from the standard library like <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/stable/std/string/struct.String.html#method.chars"><code>chars()</code></a> to access the characters in a string.
<code>chars()</code> returns an iterator over the <code>char</code>s of a string slice. So we&#x27;ll have to iterate through a string slice to access characters by index.
Like this:</p>
<pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token keyword">str</span><span class="token punctuation">.</span><span class="token function">as_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nth</span><span class="token punctuation">(</span>lp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>The simple task of accessing a character in a string has the time complexity of <code>O(n)</code> instead of <code>O(1)</code>.</p>
<p>Why is that?</p>
<h2 id="rusts-strings-are-in-unicode-and-utf-8-encoded"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#rusts-strings-are-in-unicode-and-utf-8-encoded"><span class="icon icon-link"></span></a>Rust&#x27;s Strings Are in Unicode And UTF-8 Encoded</h2>
<p>We can find the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation">internal representaion</a> of Rust&#x27;s String from the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/book/">official Rust book</a>.</p>
<blockquote>
<p>A String is a wrapper over a <code>Vec&lt;u8&gt;</code>.</p>
</blockquote>
<p>For strings in <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a>, each character is represented by 1 byte encoded in <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>.
However, for strings in other written languages, like <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/book/ch08-02-strings.html#bytes-and-scalar-values-and-grapheme-clusters-oh-my">&quot;‡§®‡§Æ‡§∏‡•ç‡§§‡•á&quot; in the Devanagari script</a> from the Rust book,
each character is encoded in UTF-8 with multiple <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Unicode">Unicode</a> value (code unit).</p>
<p>So in the Rust book, it says:</p>
<blockquote>
<p>Indexing into a string is often a bad idea because it‚Äôs not clear what the return type of the string-indexing operation should be: a byte value, a character, a grapheme cluster, or a string slice.</p>
</blockquote>
<p>It&#x27;s one of the reasons why the Rust compiler does not allows the direct access to characters in strings.
I really recommend you to read more about it in the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/book/ch08-02-strings.html">Rust book</a>.
It&#x27;s very easy to read and insightful<span role="img" aria-label="clapping hands">üëè</span>.</p>
<h3 id="correcting-is_palindrome"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#correcting-is_palindrome"><span class="icon icon-link"></span></a>Correcting <code>is_palindrome</code></h3>
<p>We can iterate over <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/stable/std/string/struct.String.html#method.bytes">bytes</a> and compare the first half of the string with the reversed second half.
It&#x27;s a palindrome if they were equal:</p>
<pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line"><span class="token comment">// <span role="img" aria-label="white heavy check mark">‚úÖ</span></span>
</span><span class="code-line"><span class="token keyword">fn</span> <span class="token function-definition function">is_palindrome</span><span class="token punctuation">(</span><span class="token keyword">str</span><span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">let</span> half <span class="token operator">=</span> <span class="token keyword">str</span><span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">let</span> forward <span class="token operator">=</span> <span class="token keyword">str</span><span class="token punctuation">.</span><span class="token function">bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span>half<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">let</span> backward <span class="token operator">=</span> <span class="token keyword">str</span><span class="token punctuation">.</span><span class="token function">bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rev</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span>half<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    forward<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span>backward<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token macro property">assert_eq!</span><span class="token punctuation">(</span><span class="token function">is_palindrome</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token macro property">assert_eq!</span><span class="token punctuation">(</span><span class="token function">is_palindrome</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;aabbccbbaa&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token macro property">assert_eq!</span><span class="token punctuation">(</span><span class="token function">is_palindrome</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;aabbccbbab&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>The time and space complexity:</p>
<ul>
<li>O(n) time, where n is the length of the string.</li>
<li>O(1) space.</li>
</ul>
<p>The space complexity is <code>O(1)</code> because each iterator creates a pointer and a counter.</p>
<p>Another approach would be using the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/std/iter/trait.DoubleEndedIterator.html">DoubleEndedIterator</a> trait and combining the forward and backward iterators with <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/std/iter/fn.zip.html"><code>zip()</code></a>:</p>
<pre class="language-rust"><code class="language-rust code-highlight"><span class="code-line"><span class="token keyword">fn</span> <span class="token function-definition function">is_palindrome</span><span class="token punctuation">(</span><span class="token keyword">str</span><span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">let</span> <span class="token keyword">mut</span> chars <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">while</span> <span class="token keyword">let</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>front<span class="token punctuation">,</span> back<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> chars<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">zip</span><span class="token punctuation">(</span>chars<span class="token punctuation">.</span><span class="token function">next_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">if</span> front <span class="token operator">!=</span> back <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token boolean">true</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>The time and space complexity:</p>
<ul>
<li>O(n) time, where n is the length of the string.</li>
<li>O(1) space.</li>
</ul>
<p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.reddit.com/r/programming/comments/rr9dlw/indexing_strings_in_rust_and_typescript_a_case/">This approach is suggested on Reddit</a>.
Thanks a lot!</p>
<h2 id="ispalindrome-in-typescript"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#ispalindrome-in-typescript"><span class="icon icon-link"></span></a><code>isPalindrome</code> in TypeScript</h2>
<p>JavaScript allows string index. So we can actually translate the two pointer algorithm that didn&#x27;t compile in rust.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">/*
</span></span><span class="code-line"><span class="token comment"> *  lp       rp
</span></span><span class="code-line"><span class="token comment"> *  |        |
</span></span><span class="code-line"><span class="token comment"> *  v ‚Üí    ‚Üê v
</span></span><span class="code-line"><span class="token comment"> * &quot;aabbccbbaa&quot;
</span></span><span class="code-line"><span class="token comment"> */</span>
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> lp <span class="token operator">=</span> <span class="token number">0</span>
</span><span class="code-line">  <span class="token keyword">let</span> rp <span class="token operator">=</span> str<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">while</span> <span class="token punctuation">(</span>lp <span class="token operator">&lt;</span> rp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>lp<span class="token punctuation">]</span> <span class="token operator">!==</span> str<span class="token punctuation">[</span>rp<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> <span class="token boolean">false</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    lp <span class="token operator">+=</span> <span class="token number">1</span>
</span><span class="code-line">    rp <span class="token operator">-=</span> <span class="token number">1</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token boolean">true</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</span><span class="code-line"><span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token string">&#x27;aabbccbbaa&#x27;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</span><span class="code-line"><span class="token function">isPalindrome</span><span class="token punctuation">(</span><span class="token string">&#x27;aabbccbbab&#x27;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</span></code></pre>
<p>The time and space complexity are:</p>
<ul>
<li>O(n) time, where n is the length of the string</li>
<li>O(1) space. Constant space for the two pointers.</li>
</ul>
<p>Or just compare the string forward and backward:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> str <span class="token operator">===</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>The time and space complexity:</p>
<ul>
<li>O(n) time, where n is the length of the input string</li>
<li>O(n) space, where n is the length of the input string</li>
</ul>
<p>It&#x27;s fairly easy in JavaScript. Does it mean that JavaScript treat strings differently than Rust does?</p>
<h2 id="javascript-strings-are-utf-16-encoded"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#javascript-strings-are-utf-16-encoded"><span class="icon icon-link"></span></a>JavaScript Strings are UTF-16 encoded</h2>
<p>We can find the definition of string primitive value in <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://tc39.es/ecma262/#sec-terms-and-definitions-string-value">ECMAScript Standard</a>:</p>
<blockquote>
<p>primitive value that is a finite ordered sequence of zero or more 16-bit unsigned integer values</p>
</blockquote>
<blockquote>
<p>A String value is a member of the String type. Each integer value in the sequence usually represents a single 16-bit unit of UTF-16 text.</p>
</blockquote>
<p>In other word, each JavaScript character is represented in Unicode with two bytes and it&#x27;s encoded in UTF-16.</p>
<p>Let&#x27;s have a look at some examples. We can use one or two code units to create a character:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">const</span> s1<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#x27;\u00E1&#x27;</span> <span class="token comment">// √°</span>
</span><span class="code-line"><span class="token keyword">const</span> s2<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#x27;\u0061\u0301&#x27;</span> <span class="token comment">// √°</span>
</span></code></pre>
<p>Both <code>s1</code> and <code>s2</code> makes up a <code>√°</code>. If we check the length of both strings:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</span></code></pre>
<p>The lengths are different even though they both are representing the same character.
Let&#x27;s look inside the string with string indexing to find out what are elements in the strings:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// √°</span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// a</span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//  ÃÅ</span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//  undefined</span>
</span></code></pre>
<p>We can see that <code>s2</code> is composed with two independent elements, <code>a</code> and <code> ÃÅ</code>.</p>
<p>Just by seeing the same character can be represented differently, it&#x27;s obvious that string indexing in JavaScript is not reliable either.</p>
<p>Let&#x27;s check for equality:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span> <span class="token comment">// false <span role="img" aria-label="" aria-hidden="true">üßê</span></span>
</span></code></pre>
<p>To make it even more interesting, there is another way to compose the character <code>√°</code>:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">const</span> s3<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&#x27;a\u0301&#x27;</span> <span class="token comment">// √°</span>
</span></code></pre>
<p>In <code>s3</code>, we substitute the code unit <code>\u0061</code> with its representing character <code>a</code>.
Let&#x27;s run some checks:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2 <span class="token operator">===</span> s3<span class="token punctuation">)</span> <span class="token comment">// true <span role="img" aria-label="" aria-hidden="true">üßê</span></span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s3<span class="token punctuation">)</span> <span class="token comment">// false</span>
</span></code></pre>
<p>So far what we see is that there are multiple code unit compositions to represent the same character.
The equality is defined by the code unit compositions.</p>
<p>It can be highly inconvenient so JavaScript introduced a string method <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize"><code>normalize()</code></a> to return the Unicode Normalization Form of a given string.
Let&#x27;s try it with <code>s1</code>, <code>s2</code>, and <code>s3</code>:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> s2<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</span><span class="code-line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> s3<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</span></code></pre>
<p>Let&#x27;s peek inside the normalized forms of <code>√°</code>:</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// `escape` is deprecated.</span>
</span><span class="code-line"><span class="token function">escape</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#x27;%E1&#x27;</span>
</span><span class="code-line"><span class="token function">escape</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#x27;%E1&#x27;</span>
</span><span class="code-line"><span class="token function">escape</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#x27;%E1&#x27;</span>
</span></code></pre>
<p>Note that <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape"><code>escape()</code></a> is been removed from the ECMAScript standard.</p>
<p>Thanks to the normalization, handling strings is more predictable now.</p>
<p>JavaScript actually provides an official <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/Encoding_API">Encoding API</a>.
We can use <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder">TextEncoder</a> and <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder">TextDecoder</a> to handle string encoding and decoding.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">const</span> encoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> bytes <span class="token operator">=</span> encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">&#x27;\u0061\u0301&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> <span class="token comment">// &#x27;√°&#x27;</span>
</span></code></pre>
<h2 id="to-sum-up"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#to-sum-up"><span class="icon icon-link"></span></a>To Sum up</h2>
<p>String is complicated. Rust offers a robust system to handle strings and a strict complier to encourage us to think about string handling upfront.
On the other hand, JavaScript provides convenient APIs to handle simple use cases like ASCII.
Under the hood, they both implement Unicode standard and encoding to support written languages internationally.</p>
<h2 id="reference"><a class="styles_anchor__g18qA anchor" href="/articles/indexing-strings-in-rust-and-typescript#reference"><span class="icon icon-link"></span></a>Reference</h2>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Unicode">Unicode</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/UTF-16">UTF-16</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Palindrome">Palindrome</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/book/">The Rust Programming Language</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation">Rust&#x27;s String Internal Representation</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/stable/std/string/struct.String.html#method.chars">Rust String method <code>chars()</code></a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/stable/std/string/struct.String.html#method.bytes">Rust String method <code>bytes()</code></a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/std/iter/fn.zip.html">Rust String method <code>zip()</code></a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://doc.rust-lang.org/std/iter/trait.DoubleEndedIterator.html">Rust String Trait <code>DoubleEndedIterator</code></a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://tc39.es/ecma262/#sec-terms-and-definitions-string-value">ECMAScript 2022 Language Specification</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize">JavaScript <code>normalize()</code></a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozlla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape">JavaScript <code>escape()</code></a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/Encoding_API">JavaScript Encoding API</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder">JavaScript TextEncoder</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder">JavaScript TextDecoder</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://dmitripavlutin.com/what-every-javascript-developer-should-know-about-unicode/">What every JavaScript developer should know about Unicode</a></li>
</ul>
<hr/>
<p><span role="img" aria-label="speech balloon">üí¨</span> Comments on <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.reddit.com/r/rust/comments/rrc0gg/indexing_strings_in_rust_and_typescript_a_case/">Reddit</a>.</p>
<hr/>
<p>Here you have it! Thanks for reading through<span role="img" aria-label="raising hands">üôå</span></p>
<p>If you find it useful, please share this article to help more people in their engineering journey.</p>
<p>Feel free to connect with me on <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">twitter</a>!</p>
<p>If you&#x27;re interested in writing a CLI with TypeScript and implementing a real-world CLI application with Google Lighthouse integration, check out my previous article <a class="styles_anchor__g18qA undefined" href="/articles/writing-your-own-typescript-cli">&quot;Writing Your Own TypeScript CLI&quot;</a>.</p>
<p>If you&#x27;re interested in reading more about image optimization to boost your performance score, take a look at <a class="styles_anchor__g18qA undefined" href="/articles/use-webp-for-better-ux">&quot;Using WebP for Better User Experience&quot;</a>.
There we discussed one of the modern image formats that greatly reduces the size of your images without sacrificing quality.</p>
<p>If you&#x27;re wondering how to test Redux Observable, I wrote an article <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://itnext.io/better-marble-test-70c7676a1e2">&quot;Writing Better Marble Tests for Redux Observable and TypeScript&quot;</a> just for you.
It&#x27;s a comprehensive guide to walk you through the thought process.</p>
<p>Happy coding!</p></div><article class="Author_wrap__s8DeE"><img src="/optimized/raw/portrait-sm.webp" alt="Daw-Chih Liou" class="Author_avatar__j6KIn" loading="lazy"/><div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://dawchihliou.github.io">Daw-Chih Liou</a><p>Daw-Chih is a software engineer, UX advocate, and creator who is dedicated to Web engineering. His background in Human Centered Computing has led him to work with startups and public companies across North America, Asia, and Europe. He is passionate about meeting business trajectory with user journey and utilizing engineering architecture and performance monitoring to provide optimal user experience.</p></div></article></div></div></article><footer class="Footer_footer__1IwEk"><div class="Footer_wrap__FVCTX"><div class="Footer_resources__fG_vu"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">üíö</span>This site is built with</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org">Next.js</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://react-icons.github.io/react-icons">React Icons</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com">MDX</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://unifiedjs.com">unified</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">Contentlayer</a></div><div class="Footer_contact__9GJn6"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">ü¶Ñ</span>Where to find me</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Linkedin</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou">GitHub</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">Twitter</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou">Medium</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou">Hacker Noon</a><a class="styles_anchor__g18qA undefined" href="/rss.xml">RSS Feed <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div><div class="Footer_sitemap__92ono"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">üó∫</span>Sitemap</p><a class="styles_anchor__g18qA undefined" href="/">Home</a><a class="styles_anchor__g18qA undefined" href="/articles">Articles</a><a class="styles_anchor__g18qA undefined" href="/work">Work</a><a class="styles_anchor__g18qA undefined" href="/now">Now</a><a class="styles_anchor__g18qA undefined" href="/expertise">Expertise</a><a class="styles_anchor__g18qA undefined" href="/contact">Contact</a></div></div><div class="Footer_copyright__vZZRL">¬© <!-- -->2022<!-- --> <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Daw-Chih Liou</a></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Indexing Strings in Rust and TypeScript: A Case Study of String","publishedAt":"December 28, 2021","description":"Text is essential in programming languages. String is the Rust's and JavaScript's definition to process text in written languages around the world. Through the simple concept of string indexing, we'll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis.","cover":"/optimized/articles/indexing-strings-in-rust/hero.webp","category":"Rust","coverWidth":"1411","coverHeight":"682","body":{"raw":"\n## TL;DR\n\n- ü™¢ Accessing characters in strings with index is not compilable in Rust.\n- üé∏ We'll discuss how Rust think about strings.\n- ü§ñ We'll discuss how JavaScript handles strings.\n- üßë‚Äçüî¨ We'll compare a classic algorithm `is_palindrome` in Rust and TypeScript.\n\n---\n\nText is essential in programming languages.\nString is the Rust's and JavaScript's definition to process text in written languages around the world.\nThrough the simple concept of string indexing, we'll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis.\n\nLet's use a classic algorithm `is_palindrome` to introduce the concept of string indexing.\n\n## `is_palindrome` in Rust\n\nA [palindrome](https://en.wikipedia.org/wiki/Palindrome), in a very general way of explaining it, is a string that reads the same forward and backward.\n\"**Ana**\" is a palindrome, \"**A dog! A panic in a pagoda!**\" is a palindrome, or even \"**02/02/2020**\" is a palindrome.\n\nFor the purpose of this article, we'll use a more narrowed definition to keep the algorithm simple.\nA palindrome here is defined as a \"continuous sequence of lowercase ASCII characters without whitespace\".\n\nOne intuitive approach would be using two pointers.\nOne starts from the beginning of the given string moving toward the end, and the other from the end toward the beginning.\nWhile moving the pointers, compare the pointing characters.\nThe given string is a palindrome if all the comparisons are equal. Like this:\n\n```rust\n// ‚ùå It won't compile\nfn is_palindrome(str: String) -\u003e bool {\n  //        lp       rp\n  //        |        |\n  //        v ‚Üí    ‚Üê v\n  // str = \"aabbccbbaa\"\n  let mut lp = 0;\n  let mut rp = str.len() - 1;\n\n  while lp \u003c rp {\n    if str[lp] != str[rp] {\n    // ^^^^^^^ `String` cannot be indexed by `usize`\n      return false;\n    }\n    lp += 1;\n    rp -= 1;\n  }\n\n  true\n}\n```\n\nIf you try to compile the program, you'll notice that the Rust compiler won't let us access characters by index.\nIt's a very interesting constraint because many languages like JavaScript, Go, and Python offer the feature.\n\nAs we dig a little deeper, there are some string methods from the standard library like [`chars()`](https://doc.rust-lang.org/stable/std/string/struct.String.html#method.chars) to access the characters in a string.\n`chars()` returns an iterator over the `char`s of a string slice. So we'll have to iterate through a string slice to access characters by index.\nLike this:\n\n```rust\nlet left = str.as_str().chars().nth(lp).unwrap();\n```\n\nThe simple task of accessing a character in a string has the time complexity of `O(n)` instead of `O(1)`.\n\nWhy is that?\n\n## Rust's Strings Are in Unicode And UTF-8 Encoded\n\nWe can find the [internal representaion](https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation) of Rust's String from the [official Rust book](https://doc.rust-lang.org/book/).\n\n\u003e A String is a wrapper over a `Vec\u003cu8\u003e`.\n\nFor strings in [ASCII](https://en.wikipedia.org/wiki/ASCII), each character is represented by 1 byte encoded in [UTF-8](https://en.wikipedia.org/wiki/UTF-8).\nHowever, for strings in other written languages, like [\"‡§®‡§Æ‡§∏‡•ç‡§§‡•á\" in the Devanagari script](https://doc.rust-lang.org/book/ch08-02-strings.html#bytes-and-scalar-values-and-grapheme-clusters-oh-my) from the Rust book,\neach character is encoded in UTF-8 with multiple [Unicode](https://en.wikipedia.org/wiki/Unicode) value (code unit).\n\nSo in the Rust book, it says:\n\n\u003e Indexing into a string is often a bad idea because it‚Äôs not clear what the return type of the string-indexing operation should be: a byte value, a character, a grapheme cluster, or a string slice.\n\nIt's one of the reasons why the Rust compiler does not allows the direct access to characters in strings.\nI really recommend you to read more about it in the [Rust book](https://doc.rust-lang.org/book/ch08-02-strings.html).\nIt's very easy to read and insightfulüëè.\n\n### Correcting `is_palindrome`\n\nWe can iterate over [bytes](https://doc.rust-lang.org/stable/std/string/struct.String.html#method.bytes) and compare the first half of the string with the reversed second half.\nIt's a palindrome if they were equal:\n\n```rust\n// ‚úÖ\nfn is_palindrome(str: String) -\u003e bool {\n    let half = str.len() / 2;\n    let forward = str.bytes().take(half);\n    let backward = str.bytes().rev().take(half);\n\n    forward.eq(backward)\n}\n\nfn main() {\n    assert_eq!(is_palindrome(String::from(\"\")), true);\n    assert_eq!(is_palindrome(String::from(\"aabbccbbaa\")), true);\n    assert_eq!(is_palindrome(String::from(\"aabbccbbab\")), false);\n}\n```\n\nThe time and space complexity:\n\n- O(n) time, where n is the length of the string.\n- O(1) space.\n\nThe space complexity is `O(1)` because each iterator creates a pointer and a counter.\n\nAnother approach would be using the [DoubleEndedIterator](https://doc.rust-lang.org/std/iter/trait.DoubleEndedIterator.html) trait and combining the forward and backward iterators with [`zip()`](https://doc.rust-lang.org/std/iter/fn.zip.html):\n\n```rust\nfn is_palindrome(str: String) -\u003e bool {\n    let mut chars = string.bytes();\n    while let Some((front, back)) = chars.next().zip(chars.next_back()) {\n        if front != back {\n            return false;\n        }\n    }\n    true\n}\n```\n\nThe time and space complexity:\n\n- O(n) time, where n is the length of the string.\n- O(1) space.\n\n[This approach is suggested on Reddit](https://www.reddit.com/r/programming/comments/rr9dlw/indexing_strings_in_rust_and_typescript_a_case/).\nThanks a lot!\n\n## `isPalindrome` in TypeScript\n\nJavaScript allows string index. So we can actually translate the two pointer algorithm that didn't compile in rust.\n\n```ts\n/*\n *  lp       rp\n *  |        |\n *  v ‚Üí    ‚Üê v\n * \"aabbccbbaa\"\n */\nfunction isPalindrome(str: string): boolean {\n  let lp = 0\n  let rp = str.length - 1\n\n  while (lp \u003c rp) {\n    if (str[lp] !== str[rp]) {\n      return false\n    }\n    lp += 1\n    rp -= 1\n  }\n  return true\n}\n\nisPalindrome('') // true\nisPalindrome('aabbccbbaa') // true\nisPalindrome('aabbccbbab') // false\n```\n\nThe time and space complexity are:\n\n- O(n) time, where n is the length of the string\n- O(1) space. Constant space for the two pointers.\n\nOr just compare the string forward and backward:\n\n```ts\nfunction isPalindrome(str: string): boolean {\n  return str === str.split('').reverse().join('')\n}\n```\n\nThe time and space complexity:\n\n- O(n) time, where n is the length of the input string\n- O(n) space, where n is the length of the input string\n\nIt's fairly easy in JavaScript. Does it mean that JavaScript treat strings differently than Rust does?\n\n## JavaScript Strings are UTF-16 encoded\n\nWe can find the definition of string primitive value in [ECMAScript Standard](https://tc39.es/ecma262/#sec-terms-and-definitions-string-value):\n\n\u003e primitive value that is a finite ordered sequence of zero or more 16-bit unsigned integer values\n\n\u003e A String value is a member of the String type. Each integer value in the sequence usually represents a single 16-bit unit of UTF-16 text.\n\nIn other word, each JavaScript character is represented in Unicode with two bytes and it's encoded in UTF-16.\n\nLet's have a look at some examples. We can use one or two code units to create a character:\n\n```ts\nconst s1: string = '\\u00E1' // √°\nconst s2: string = '\\u0061\\u0301' // √°\n```\n\nBoth `s1` and `s2` makes up a `√°`. If we check the length of both strings:\n\n```ts\nconsole.log(s1.length) // 1\nconsole.log(s2.length) // 2\n```\n\nThe lengths are different even though they both are representing the same character.\nLet's look inside the string with string indexing to find out what are elements in the strings:\n\n```ts\nconsole.log(s1[0]) // √°\nconsole.log(s1[1]) // undefined\n\nconsole.log(s2[0]) // a\nconsole.log(s2[1]) //  ÃÅ\nconsole.log(s2[2]) //  undefined\n```\n\nWe can see that `s2` is composed with two independent elements, `a` and ` ÃÅ`.\n\nJust by seeing the same character can be represented differently, it's obvious that string indexing in JavaScript is not reliable either.\n\nLet's check for equality:\n\n```ts\nconsole.log(s1 === s2) // false üßê\n```\n\nTo make it even more interesting, there is another way to compose the character `√°`:\n\n```ts\nconst s3: string = 'a\\u0301' // √°\n```\n\nIn `s3`, we substitute the code unit `\\u0061` with its representing character `a`.\nLet's run some checks:\n\n```ts\nconsole.log(s3.length === 2) // true\nconsole.log(s2 === s3) // true üßê\nconsole.log(s1 === s3) // false\n```\n\nSo far what we see is that there are multiple code unit compositions to represent the same character.\nThe equality is defined by the code unit compositions.\n\nIt can be highly inconvenient so JavaScript introduced a string method [`normalize()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize) to return the Unicode Normalization Form of a given string.\nLet's try it with `s1`, `s2`, and `s3`:\n\n```ts\nconsole.log(s1.normalize() === s2.normalize()) // true\nconsole.log(s1.normalize() === s3.normalize()) // true\n```\n\nLet's peek inside the normalized forms of `√°`:\n\n```ts\n// `escape` is deprecated.\nescape(s1.normalize()) // '%E1'\nescape(s2.normalize()) // '%E1'\nescape(s3.normalize()) // '%E1'\n```\n\nNote that [`escape()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape) is been removed from the ECMAScript standard.\n\nThanks to the normalization, handling strings is more predictable now.\n\nJavaScript actually provides an official [Encoding API](https://developer.mozilla.org/en-US/docs/Web/API/Encoding_API).\nWe can use [TextEncoder](https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder) and [TextDecoder](https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder) to handle string encoding and decoding.\n\n```ts\nconst encoder = new TextEncoder()\nconst decoder = new TextDecoder()\n\nconst bytes = encoder.encode('\\u0061\\u0301')\ndecoder.decode(bytes) // '√°'\n```\n\n## To Sum up\n\nString is complicated. Rust offers a robust system to handle strings and a strict complier to encourage us to think about string handling upfront.\nOn the other hand, JavaScript provides convenient APIs to handle simple use cases like ASCII.\nUnder the hood, they both implement Unicode standard and encoding to support written languages internationally.\n\n## Reference\n\n- [ASCII](https://en.wikipedia.org/wiki/ASCII)\n- [Unicode](https://en.wikipedia.org/wiki/Unicode)\n- [UTF-8](https://en.wikipedia.org/wiki/UTF-8)\n- [UTF-16](https://en.wikipedia.org/wiki/UTF-16)\n- [Palindrome](https://en.wikipedia.org/wiki/Palindrome)\n- [The Rust Programming Language](https://doc.rust-lang.org/book/)\n- [Rust's String Internal Representation](https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation)\n- [Rust String method `chars()`](https://doc.rust-lang.org/stable/std/string/struct.String.html#method.chars)\n- [Rust String method `bytes()`](https://doc.rust-lang.org/stable/std/string/struct.String.html#method.bytes)\n- [Rust String method `zip()`](https://doc.rust-lang.org/std/iter/fn.zip.html)\n- [Rust String Trait `DoubleEndedIterator`](https://doc.rust-lang.org/std/iter/trait.DoubleEndedIterator.html)\n- [ECMAScript 2022 Language Specification](https://tc39.es/ecma262/#sec-terms-and-definitions-string-value)\n- [JavaScript `normalize()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n- [JavaScript `escape()`](https://developer.mozlla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape)\n- [JavaScript Encoding API](https://developer.mozilla.org/en-US/docs/Web/API/Encoding_API)\n- [JavaScript TextEncoder](https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder)\n- [JavaScript TextDecoder](https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder)\n- [What every JavaScript developer should know about Unicode](https://dmitripavlutin.com/what-every-javascript-developer-should-know-about-unicode/)\n\n---\n\nüí¨ Comments on [Reddit](https://www.reddit.com/r/rust/comments/rrc0gg/indexing_strings_in_rust_and_typescript_a_case/).\n\n---\n\nHere you have it! Thanks for reading throughüôå\n\nIf you find it useful, please share this article to help more people in their engineering journey.\n\nFeel free to connect with me on [twitter](https://twitter.com/dawchihliou)!\n\nIf you're interested in writing a CLI with TypeScript and implementing a real-world CLI application with Google Lighthouse integration, check out my previous article [\"Writing Your Own TypeScript CLI\"](/articles/writing-your-own-typescript-cli).\n\nIf you're interested in reading more about image optimization to boost your performance score, take a look at [\"Using WebP for Better User Experience\"](/articles/use-webp-for-better-ux).\nThere we discussed one of the modern image formats that greatly reduces the size of your images without sacrificing quality.\n\nIf you're wondering how to test Redux Observable, I wrote an article [\"Writing Better Marble Tests for Redux Observable and TypeScript\"](https://itnext.io/better-marble-test-70c7676a1e2) just for you.\nIt's a comprehensive guide to walk you through the thought process.\n\nHappy coding!\n","code":"var Component=(()=\u003e{var r=Object.create;var t=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var i=a=\u003et(a,\"__esModule\",{value:!0});var u=(a,n)=\u003e()=\u003e(n||a((n={exports:{}}).exports,n),n.exports),N=(a,n)=\u003e{i(a);for(var s in n)t(a,s,{get:n[s],enumerable:!0})},k=(a,n,s)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let c of h(n))!m.call(a,c)\u0026\u0026c!==\"default\"\u0026\u0026t(a,c,{get:()=\u003en[c],enumerable:!(s=d(n,c))||s.enumerable});return a},g=a=\u003ek(i(t(a!=null?r(p(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u((v,l)=\u003e{l.exports=_jsx_runtime});var w={};N(w,{default:()=\u003eb});var e=g(o());function f(a={}){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",code:\"code\",hr:\"hr\",p:\"p\",strong:\"strong\",pre:\"pre\",blockquote:\"blockquote\",h3:\"h3\"},a.components),{wrapper:s}=n,c=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"tldr\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#tldr\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\u{1FAA2} Accessing characters in strings with index is not compilable in Rust.\"}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"guitar\",children:\"\\u{1F3B8}\"}),\" We'll discuss how Rust think about strings.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"robot face\",children:\"\\u{1F916}\"}),\" We'll discuss how JavaScript handles strings.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F9D1}\"}),\"\\u200D\",(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"microscope\",children:\"\\u{1F52C}\"}),\" We'll compare a classic algorithm \",(0,e.jsx)(n.code,{children:\"is_palindrome\"}),\" in Rust and TypeScript.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsx)(n.p,{children:`Text is essential in programming languages.\nString is the Rust's and JavaScript's definition to process text in written languages around the world.\nThrough the simple concept of string indexing, we'll discuss how Rust and JavaScript process strings and how they handle the nuances in strings such as grapheme, or even emojis.`}),`\n`,(0,e.jsxs)(n.p,{children:[\"Let's use a classic algorithm \",(0,e.jsx)(n.code,{children:\"is_palindrome\"}),\" to introduce the concept of string indexing.\"]}),`\n`,(0,e.jsxs)(n.h2,{id:\"is_palindrome-in-rust\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#is_palindrome-in-rust\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"is_palindrome\"}),\" in Rust\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"A \",(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/Palindrome\",children:\"palindrome\"}),`, in a very general way of explaining it, is a string that reads the same forward and backward.\n\"`,(0,e.jsx)(n.strong,{children:\"Ana\"}),'\" is a palindrome, \"',(0,e.jsx)(n.strong,{children:\"A dog! A panic in a pagoda!\"}),'\" is a palindrome, or even \"',(0,e.jsx)(n.strong,{children:\"02/02/2020\"}),'\" is a palindrome.']}),`\n`,(0,e.jsx)(n.p,{children:`For the purpose of this article, we'll use a more narrowed definition to keep the algorithm simple.\nA palindrome here is defined as a \"continuous sequence of lowercase ASCII characters without whitespace\".`}),`\n`,(0,e.jsx)(n.p,{children:`One intuitive approach would be using two pointers.\nOne starts from the beginning of the given string moving toward the end, and the other from the end toward the beginning.\nWhile moving the pointers, compare the pointing characters.\nThe given string is a palindrome if all the comparisons are equal. Like this:`}),`\n`,(0,e.jsx)(n.pre,{className:\"language-rust\",children:(0,e.jsxs)(n.code,{className:\"language-rust code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token comment\",children:[\"// \",(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"cross mark\",children:\"\\u274C\"}),\" It won't compile\"]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-definition function\",children:\"is_palindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"bool\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//        lp       rp\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//        |        |\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//        v \\u2192    \\u2190 v\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:'// str = \"aabbccbbaa\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mut\"}),\" lp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mut\"}),\" rp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"while\"}),\" lp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\" rp \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"lp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"rp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ^^^^^^^ `String` cannot be indexed by `usize`\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    lp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    rp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:`If you try to compile the program, you'll notice that the Rust compiler won't let us access characters by index.\nIt's a very interesting constraint because many languages like JavaScript, Go, and Python offer the feature.`}),`\n`,(0,e.jsxs)(n.p,{children:[\"As we dig a little deeper, there are some string methods from the standard library like \",(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/stable/std/string/struct.String.html#method.chars\",children:(0,e.jsx)(n.code,{children:\"chars()\"})}),` to access the characters in a string.\n`,(0,e.jsx)(n.code,{children:\"chars()\"}),\" returns an iterator over the \",(0,e.jsx)(n.code,{children:\"char\"}),`s of a string slice. So we'll have to iterate through a string slice to access characters by index.\nLike this:`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-rust\",children:(0,e.jsx)(n.code,{className:\"language-rust code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" left \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"as_str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"chars\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"nth\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"lp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"unwrap\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"The simple task of accessing a character in a string has the time complexity of \",(0,e.jsx)(n.code,{children:\"O(n)\"}),\" instead of \",(0,e.jsx)(n.code,{children:\"O(1)\"}),\".\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Why is that?\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"rusts-strings-are-in-unicode-and-utf-8-encoded\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#rusts-strings-are-in-unicode-and-utf-8-encoded\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Rust's Strings Are in Unicode And UTF-8 Encoded\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"We can find the \",(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation\",children:\"internal representaion\"}),\" of Rust's String from the \",(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/book/\",children:\"official Rust book\"}),\".\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsxs)(n.p,{children:[\"A String is a wrapper over a \",(0,e.jsx)(n.code,{children:\"Vec\u003cu8\u003e\"}),\".\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"For strings in \",(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/ASCII\",children:\"ASCII\"}),\", each character is represented by 1 byte encoded in \",(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/UTF-8\",children:\"UTF-8\"}),`.\nHowever, for strings in other written languages, like `,(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/book/ch08-02-strings.html#bytes-and-scalar-values-and-grapheme-clusters-oh-my\",children:'\"\\u0928\\u092E\\u0938\\u094D\\u0924\\u0947\" in the Devanagari script'}),` from the Rust book,\neach character is encoded in UTF-8 with multiple `,(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/Unicode\",children:\"Unicode\"}),\" value (code unit).\"]}),`\n`,(0,e.jsx)(n.p,{children:\"So in the Rust book, it says:\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"Indexing into a string is often a bad idea because it\\u2019s not clear what the return type of the string-indexing operation should be: a byte value, a character, a grapheme cluster, or a string slice.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[`It's one of the reasons why the Rust compiler does not allows the direct access to characters in strings.\nI really recommend you to read more about it in the `,(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/book/ch08-02-strings.html\",children:\"Rust book\"}),`.\nIt's very easy to read and insightful`,(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"clapping hands\",children:\"\\u{1F44F}\"}),\".\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"correcting-is_palindrome\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#correcting-is_palindrome\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Correcting \",(0,e.jsx)(n.code,{children:\"is_palindrome\"})]}),`\n`,(0,e.jsxs)(n.p,{children:[\"We can iterate over \",(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/stable/std/string/struct.String.html#method.bytes\",children:\"bytes\"}),` and compare the first half of the string with the reversed second half.\nIt's a palindrome if they were equal:`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-rust\",children:(0,e.jsxs)(n.code,{className:\"language-rust code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token comment\",children:[\"// \",(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"white heavy check mark\",children:\"\\u2705\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-definition function\",children:\"is_palindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"bool\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" half \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" forward \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"bytes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"take\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"half\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" backward \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"bytes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"rev\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"take\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"half\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    forward\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"eq\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"backward\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-definition function\",children:\"main\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token macro property\",children:\"assert_eq!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"is_palindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token macro property\",children:\"assert_eq!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"is_palindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"aabbccbbaa\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token macro property\",children:\"assert_eq!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"is_palindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"::\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"aabbccbbab\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"The time and space complexity:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"O(n) time, where n is the length of the string.\"}),`\n`,(0,e.jsx)(n.li,{children:\"O(1) space.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"The space complexity is \",(0,e.jsx)(n.code,{children:\"O(1)\"}),\" because each iterator creates a pointer and a counter.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Another approach would be using the \",(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/std/iter/trait.DoubleEndedIterator.html\",children:\"DoubleEndedIterator\"}),\" trait and combining the forward and backward iterators with \",(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/std/iter/fn.zip.html\",children:(0,e.jsx)(n.code,{children:\"zip()\"})}),\":\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-rust\",children:(0,e.jsxs)(n.code,{className:\"language-rust code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"fn\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-definition function\",children:\"is_palindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"-\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"bool\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mut\"}),\" chars \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" string\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"bytes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"while\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Some\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"front\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" back\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" chars\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"next\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"zip\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"chars\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"next_back\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" front \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" back \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"The time and space complexity:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"O(n) time, where n is the length of the string.\"}),`\n`,(0,e.jsx)(n.li,{children:\"O(1) space.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://www.reddit.com/r/programming/comments/rr9dlw/indexing_strings_in_rust_and_typescript_a_case/\",children:\"This approach is suggested on Reddit\"}),`.\nThanks a lot!`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"ispalindrome-in-typescript\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#ispalindrome-in-typescript\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"isPalindrome\"}),\" in TypeScript\"]}),`\n`,(0,e.jsx)(n.p,{children:\"JavaScript allows string index. So we can actually translate the two pointer algorithm that didn't compile in rust.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment\",children:`/*\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment\",children:` *  lp       rp\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment\",children:` *  |        |\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment\",children:` *  v \\u2192    \\u2190 v\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token comment\",children:` * \"aabbccbbaa\"\n`})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\" */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isPalindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"str\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" lp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" rp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" str\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"length \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"while\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"lp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\" rp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"str\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"lp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!==\"}),\" str\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"rp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    lp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    rp \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"isPalindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"isPalindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'aabbccbbaa'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"isPalindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'aabbccbbab'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// false\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"The time and space complexity are:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"O(n) time, where n is the length of the string\"}),`\n`,(0,e.jsx)(n.li,{children:\"O(1) space. Constant space for the two pointers.\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"Or just compare the string forward and backward:\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isPalindrome\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"str\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"boolean\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" str \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" str\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"split\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"reverse\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"join\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:\"The time and space complexity:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"O(n) time, where n is the length of the input string\"}),`\n`,(0,e.jsx)(n.li,{children:\"O(n) space, where n is the length of the input string\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"It's fairly easy in JavaScript. Does it mean that JavaScript treat strings differently than Rust does?\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"javascript-strings-are-utf-16-encoded\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#javascript-strings-are-utf-16-encoded\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"JavaScript Strings are UTF-16 encoded\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"We can find the definition of string primitive value in \",(0,e.jsx)(n.a,{href:\"https://tc39.es/ecma262/#sec-terms-and-definitions-string-value\",children:\"ECMAScript Standard\"}),\":\"]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"primitive value that is a finite ordered sequence of zero or more 16-bit unsigned integer values\"}),`\n`]}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"A String value is a member of the String type. Each integer value in the sequence usually represents a single 16-bit unit of UTF-16 text.\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"In other word, each JavaScript character is represented in Unicode with two bytes and it's encoded in UTF-16.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Let's have a look at some examples. We can use one or two code units to create a character:\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" s1\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\\\u00E1'\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\xE1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" s2\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\\\u0061\\\\u0301'\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\xE1\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Both \",(0,e.jsx)(n.code,{children:\"s1\"}),\" and \",(0,e.jsx)(n.code,{children:\"s2\"}),\" makes up a \",(0,e.jsx)(n.code,{children:\"\\xE1\"}),\". If we check the length of both strings:\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"length\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"length\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 2\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:`The lengths are different even though they both are representing the same character.\nLet's look inside the string with string indexing to find out what are elements in the strings:`}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\xE1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// undefined\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// a\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//  \\u0301\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//  undefined\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"We can see that \",(0,e.jsx)(n.code,{children:\"s2\"}),\" is composed with two independent elements, \",(0,e.jsx)(n.code,{children:\"a\"}),\" and \",(0,e.jsx)(n.code,{children:\" \\u0301\"}),\".\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Just by seeing the same character can be represented differently, it's obvious that string indexing in JavaScript is not reliable either.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Let's check for equality:\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsx)(n.code,{className:\"language-ts code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsxs)(n.span,{className:\"token comment\",children:[\"// false \",(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F9D0}\"})]}),`\n`]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"To make it even more interesting, there is another way to compose the character \",(0,e.jsx)(n.code,{children:\"\\xE1\"}),\":\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsx)(n.code,{className:\"language-ts code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" s3\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'a\\\\u0301'\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\xE1\"}),`\n`]})})}),`\n`,(0,e.jsxs)(n.p,{children:[\"In \",(0,e.jsx)(n.code,{children:\"s3\"}),\", we substitute the code unit \",(0,e.jsx)(n.code,{children:\"\\\\u0061\"}),\" with its representing character \",(0,e.jsx)(n.code,{children:\"a\"}),`.\nLet's run some checks:`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"length \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s2 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsxs)(n.span,{className:\"token comment\",children:[\"// true \",(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F9D0}\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1 \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// false\"}),`\n`]})]})}),`\n`,(0,e.jsx)(n.p,{children:`So far what we see is that there are multiple code unit compositions to represent the same character.\nThe equality is defined by the code unit compositions.`}),`\n`,(0,e.jsxs)(n.p,{children:[\"It can be highly inconvenient so JavaScript introduced a string method \",(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\",children:(0,e.jsx)(n.code,{children:\"normalize()\"})}),` to return the Unicode Normalization Form of a given string.\nLet's try it with `,(0,e.jsx)(n.code,{children:\"s1\"}),\", \",(0,e.jsx)(n.code,{children:\"s2\"}),\", and \",(0,e.jsx)(n.code,{children:\"s3\"}),\":\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// true\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token builtin\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// true\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Let's peek inside the normalized forms of \",(0,e.jsx)(n.code,{children:\"\\xE1\"}),\":\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// `escape` is deprecated.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"escape\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s1\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// '%E1'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"escape\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// '%E1'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"escape\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s3\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"normalize\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// '%E1'\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Note that \",(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape\",children:(0,e.jsx)(n.code,{children:\"escape()\"})}),\" is been removed from the ECMAScript standard.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Thanks to the normalization, handling strings is more predictable now.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"JavaScript actually provides an official \",(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Encoding_API\",children:\"Encoding API\"}),`.\nWe can use `,(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder\",children:\"TextEncoder\"}),\" and \",(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder\",children:\"TextDecoder\"}),\" to handle string encoding and decoding.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"language-ts code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" encoder \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"TextEncoder\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" decoder \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"TextDecoder\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" bytes \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" encoder\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"encode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'\\\\u0061\\\\u0301'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"decoder\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"decode\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"bytes\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// '\\xE1'\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"to-sum-up\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#to-sum-up\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"To Sum up\"]}),`\n`,(0,e.jsx)(n.p,{children:`String is complicated. Rust offers a robust system to handle strings and a strict complier to encourage us to think about string handling upfront.\nOn the other hand, JavaScript provides convenient APIs to handle simple use cases like ASCII.\nUnder the hood, they both implement Unicode standard and encoding to support written languages internationally.`}),`\n`,(0,e.jsxs)(n.h2,{id:\"reference\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#reference\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Reference\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/ASCII\",children:\"ASCII\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/Unicode\",children:\"Unicode\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/UTF-8\",children:\"UTF-8\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/UTF-16\",children:\"UTF-16\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://en.wikipedia.org/wiki/Palindrome\",children:\"Palindrome\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/book/\",children:\"The Rust Programming Language\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://doc.rust-lang.org/book/ch08-02-strings.html#internal-representation\",children:\"Rust's String Internal Representation\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://doc.rust-lang.org/stable/std/string/struct.String.html#method.chars\",children:[\"Rust String method \",(0,e.jsx)(n.code,{children:\"chars()\"})]})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://doc.rust-lang.org/stable/std/string/struct.String.html#method.bytes\",children:[\"Rust String method \",(0,e.jsx)(n.code,{children:\"bytes()\"})]})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://doc.rust-lang.org/std/iter/fn.zip.html\",children:[\"Rust String method \",(0,e.jsx)(n.code,{children:\"zip()\"})]})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://doc.rust-lang.org/std/iter/trait.DoubleEndedIterator.html\",children:[\"Rust String Trait \",(0,e.jsx)(n.code,{children:\"DoubleEndedIterator\"})]})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://tc39.es/ecma262/#sec-terms-and-definitions-string-value\",children:\"ECMAScript 2022 Language Specification\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\",children:[\"JavaScript \",(0,e.jsx)(n.code,{children:\"normalize()\"})]})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsxs)(n.a,{href:\"https://developer.mozlla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape\",children:[\"JavaScript \",(0,e.jsx)(n.code,{children:\"escape()\"})]})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Encoding_API\",children:\"JavaScript Encoding API\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder\",children:\"JavaScript TextEncoder\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder\",children:\"JavaScript TextDecoder\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://dmitripavlutin.com/what-every-javascript-developer-should-know-about-unicode/\",children:\"What every JavaScript developer should know about Unicode\"})}),`\n`]}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"speech balloon\",children:\"\\u{1F4AC}\"}),\" Comments on \",(0,e.jsx)(n.a,{href:\"https://www.reddit.com/r/rust/comments/rrc0gg/indexing_strings_in_rust_and_typescript_a_case/\",children:\"Reddit\"}),\".\"]}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.p,{children:[\"Here you have it! Thanks for reading through\",(0,e.jsx)(n.span,{role:\"img\",\"aria-label\":\"raising hands\",children:\"\\u{1F64C}\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"If you find it useful, please share this article to help more people in their engineering journey.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Feel free to connect with me on \",(0,e.jsx)(n.a,{href:\"https://twitter.com/dawchihliou\",children:\"twitter\"}),\"!\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If you're interested in writing a CLI with TypeScript and implementing a real-world CLI application with Google Lighthouse integration, check out my previous article \",(0,e.jsx)(n.a,{href:\"/articles/writing-your-own-typescript-cli\",children:'\"Writing Your Own TypeScript CLI\"'}),\".\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If you're interested in reading more about image optimization to boost your performance score, take a look at \",(0,e.jsx)(n.a,{href:\"/articles/use-webp-for-better-ux\",children:'\"Using WebP for Better User Experience\"'}),`.\nThere we discussed one of the modern image formats that greatly reduces the size of your images without sacrificing quality.`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"If you're wondering how to test Redux Observable, I wrote an article \",(0,e.jsx)(n.a,{href:\"https://itnext.io/better-marble-test-70c7676a1e2\",children:'\"Writing Better Marble Tests for Redux Observable and TypeScript\"'}),` just for you.\nIt's a comprehensive guide to walk you through the thought process.`]}),`\n`,(0,e.jsx)(n.p,{children:\"Happy coding!\"})]});return s?(0,e.jsx)(s,Object.assign({},a,{children:c})):c}var b=f;return w;})();\n;return Component.default;"},"_id":"articles/indexing-strings-in-rust-and-typescript.mdx","_raw":{"sourceFilePath":"articles/indexing-strings-in-rust-and-typescript.mdx","sourceFileName":"indexing-strings-in-rust-and-typescript.mdx","sourceFileDir":"articles","bodyType":"mdx","flattenedPath":"articles/indexing-strings-in-rust-and-typescript"},"type":"Article","readingTime":{"text":"9 min read","minutes":8.25,"time":495000,"words":1650},"wordCount":1652,"slug":"indexing-strings-in-rust-and-typescript"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"indexing-strings-in-rust-and-typescript"},"buildId":"mz502EJ6053UODAO7ZbyE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>