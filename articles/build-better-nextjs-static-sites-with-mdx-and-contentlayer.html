<!DOCTYPE html><html lang="en"><head><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/svg" sizes="32x32" href="/favicon.svg"/><link rel="icon" type="image/svg" sizes="16x16" href="/favicon.svg"/><link rel="mask-icon" href="/favicon.svg" color="#ffffff"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><meta name="msapplication-TileColor" content="#007cf0"/><meta name="theme-color" content="#ffff"/><title>Building Better Next.js Static Sites with MDX and Contentlayer</title><meta name="description" content="Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how."/><meta name="robots" content="follow, index"/><link rel="canonical" href="https://dawchihliou.github.io/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer"/><meta itemProp="name" content="Building Better Next.js Static Sites with MDX and Contentlayer"/><meta itemProp="description" content="Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how."/><meta itemProp="image" content="https://dawchihliou.github.io/optimized/articles/nextjs-mdx-contentlayer/hero.png"/><meta property="og:title" content="Building Better Next.js Static Sites with MDX and Contentlayer"/><meta property="og:type" content="website"/><meta property="og:url" content="https://dawchihliou.github.io/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer"/><meta property="og:description" content="Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how."/><meta property="og:image" content="https://dawchihliou.github.io/optimized/articles/nextjs-mdx-contentlayer/hero.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="1400"/><meta property="og:image:height" content="600"/><meta property="og:image:alt" content="Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@dawchihliou"/><meta name="twitter:creator" content="@dawchihliou"/><meta name="twitter:title" content="Building Better Next.js Static Sites with MDX and Contentlayer"/><meta name="twitter:description" content="Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how."/><meta name="twitter:image" content="https://dawchihliou.github.io/optimized/articles/nextjs-mdx-contentlayer/hero.webp"/><meta property="article:published_time" content="2022-02-04T00:00:00.000Z"/><meta property="article:section" content="Article Section"/><meta property="article:tag" content="Article Tag"/><meta name="next-head-count" content="34"/><link rel="preload" href="/_next/static/css/f4214c3b71874d65.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f4214c3b71874d65.css" data-n-g=""/><link rel="preload" href="/_next/static/css/54ba867c7255694d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/54ba867c7255694d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-24e2bbc847c2b118.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-010ff0b6bbe5ac8f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-571a343ce648ab47.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-6aa06637217e2cb9.js" defer=""></script><script src="/_next/static/tZ91ouCnryMh0pvVk9zQr/_buildManifest.js" defer=""></script><script src="/_next/static/tZ91ouCnryMh0pvVk9zQr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div id="outer-container"><header><div><div class="bm-overlay" style="position:fixed;z-index:1000;width:100%;height:100%;background:rgba(0, 0, 0, 0.3);opacity:0;-moz-transform:translate3d(100%, 0, 0);-ms-transform:translate3d(100%, 0, 0);-o-transform:translate3d(100%, 0, 0);-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);transition:opacity 0.3s, transform 0s 0.3s"></div><div><div class="bm-burger-button" style="z-index:1000"><button id="react-burger-menu-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer">Open Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-icon" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><div id="" class="bm-menu-wrap" style="position:fixed;right:inherit;z-index:1100;width:300px;height:100%;-moz-transform:translate3d(-100%, 0, 0);-ms-transform:translate3d(-100%, 0, 0);-o-transform:translate3d(-100%, 0, 0);-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);transition:all 0.5s" aria-hidden="true"><div class="bm-menu" style="height:100%;box-sizing:border-box;overflow:auto"><nav class="bm-item-list" style="height:100%"><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/"><button class="Nav_button__YJwKE" tabindex="-1">Home</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/articles"><button class="Nav_button__YJwKE" tabindex="-1">Articles</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/work"><button class="Nav_button__YJwKE" tabindex="-1">Work</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/now"><button class="Nav_button__YJwKE" tabindex="-1">Now</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/expertise"><button class="Nav_button__YJwKE" tabindex="-1">Expertise</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/contact"><button class="Nav_button__YJwKE" tabindex="-1">Contact</button></a><span class="bm-item Nav_pusher__93Gc6" style="display:block" tabindex="-1"></span><span class="bm-item Nav_divider__QD8Pt" style="display:block" tabindex="-1"></span><div class="bm-item Nav_profile__Kf2nU" style="display:block" tabindex="-1"><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Linkedin profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M20.45175,20.45025 L16.89225,20.45025 L16.89225,14.88075 C16.89225,13.5525 16.86975,11.844 15.04275,11.844 C13.191,11.844 12.90825,13.2915 12.90825,14.7855 L12.90825,20.45025 L9.3525,20.45025 L9.3525,8.997 L12.765,8.997 L12.765,10.563 L12.81375,10.563 C13.2885,9.66225 14.4495,8.71275 16.18125,8.71275 C19.78575,8.71275 20.45175,11.08425 20.45175,14.169 L20.45175,20.45025 Z M5.33925,7.4325 C4.1955,7.4325 3.27375,6.50775 3.27375,5.36775 C3.27375,4.2285 4.1955,3.30375 5.33925,3.30375 C6.47775,3.30375 7.4025,4.2285 7.4025,5.36775 C7.4025,6.50775 6.47775,7.4325 5.33925,7.4325 L5.33925,7.4325 Z M7.11975,20.45025 L3.5565,20.45025 L3.5565,8.997 L7.11975,8.997 L7.11975,20.45025 Z M23.00025,0 L1.0005,0 C0.44775,0 0,0.44775 0,0.99975 L0,22.9995 C0,23.55225 0.44775,24 1.0005,24 L23.00025,24 C23.55225,24 24,23.55225 24,22.9995 L24,0.99975 C24,0.44775 23.55225,0 23.00025,0 L23.00025,0 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="Link to Daw-Chih&#x27;s GitHub profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou" aria-label="Link to Daw-Chih&#x27;s Medium profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2.84593838,5.88685595 C2.87575654,5.59224254 2.76340763,5.30104995 2.54341737,5.10276397 L0.302521008,2.4032473 L0.302521008,2 L7.2605042,2 L12.6386555,13.7949836 L17.3669469,2 L24,2 L24,2.4032473 L22.0840336,4.2402628 C21.9188563,4.36617057 21.8369199,4.57310892 21.8711485,4.77792587 L21.8711485,18.2755093 C21.8369199,18.4803262 21.9188563,18.6872645 22.0840336,18.8131723 L23.9551821,20.6501878 L23.9551821,21.0534351 L14.5434174,21.0534351 L14.5434174,20.6501878 L16.4817928,18.7683671 C16.6722689,18.5779447 16.6722689,18.5219382 16.6722689,18.2307041 L16.6722689,7.32062416 L11.2829132,21.0086299 L10.5546219,21.0086299 L4.28011204,7.32062416 L4.28011204,16.4945003 C4.22779746,16.8801958 4.35589372,17.2685069 4.62745097,17.5474239 L7.14845938,20.6053826 L7.14845938,21.0086299 L0,21.0086299 L0,20.6053826 L2.5210084,17.5474239 C2.79058848,17.2680445 2.91121535,16.8771576 2.84593838,16.4945003 L2.84593838,5.88685595 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Hackernoon profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M5.701 0v6.223H8.85V4.654h1.576v7.842H12V4.654h1.574v1.569h3.15V0zm11.024 6.223v3.136h1.574V6.223zm1.574 3.136v4.705h1.576v-1.568h1.574v-1.568h-1.574V9.359zm0 4.705h-1.574v3.137h1.574zm-1.574 3.137h-3.15v1.569H8.85V17.2H5.7V24h11.024zm-11.024 0v-3.137H4.125v3.137zm-1.576-3.137V9.36H2.551v4.705zm0-4.705h1.576V6.223H4.125Z"></path></svg><span hidden="">Link to Daw-Chih&#x27;s Hacker Noon profile</span></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Twitter profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M24,4.3086 C23.117,4.7006 22.168,4.9646 21.172,5.0836 C22.188,4.4746 22.969,3.5096 23.337,2.3596 C22.386,2.9246 21.332,3.3336 20.21,3.5556 C19.312,2.5976 18.032,1.9996 16.616,1.9996 C13.897,1.9996 11.692,4.2046 11.692,6.9236 C11.692,7.3096 11.736,7.6856 11.82,8.0456 C7.728,7.8406 4.099,5.8806 1.671,2.9006 C1.247,3.6286 1.004,4.4736 1.004,5.3766 C1.004,7.0846 1.873,8.5926 3.195,9.4756 C2.388,9.4486 1.628,9.2276 0.964,8.8596 L0.964,8.9206 C0.964,11.3066 2.661,13.2966 4.914,13.7486 C4.501,13.8626 4.065,13.9216 3.617,13.9216 C3.299,13.9216 2.991,13.8906 2.69,13.8336 C3.317,15.7896 5.135,17.2136 7.29,17.2536 C5.604,18.5736 3.481,19.3606 1.175,19.3606 C0.777,19.3606 0.385,19.3376 0,19.2926 C2.179,20.6886 4.767,21.5046 7.548,21.5046 C16.605,21.5046 21.557,14.0016 21.557,7.4946 C21.557,7.2816 21.552,7.0696 21.543,6.8586 C22.505,6.1636 23.34,5.2966 24,4.3086"></path></svg></a></div><div class="DarkmodeSwitch_container__uFGHQ" tabindex="-1"><div class="DarkmodeSwitch_wrap__e71_4"></div></div></nav></div><div><div class="bm-cross-button" style="position:absolute;width:24px;height:24px;right:8px;top:8px"><button id="react-burger-cross-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer" tabindex="-1">Close Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-cross" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div></div></div></header><div class="Menubar_menubar__gvU4b"><a class="styles_anchor__g18qA Menubar_hireMe__zuAig" href="/contact"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>Hire Me</a><div class="DarkmodeSwitch_container__uFGHQ" tabindex="0"><div class="DarkmodeSwitch_wrap__e71_4"></div></div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="See more Daw-Chih&#x27;s work on GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a></div><div id="page-wrap"><article><div class="Article_container__q__L3"><div class="Article_wrap__LZypL"><h1>Building Better Next.js Static Sites with MDX and Contentlayer</h1><div class="Article_info__bOKys"><div class="Article_author__grS8U"><img alt="Daw-Chih Liou" src="/optimized/raw/portrait-sm.webp" loading="lazy"/><p>Daw-Chih Liou</p></div><p>February 4, 2022<!-- --> Â· 11 min read</p></div><img alt="Building Better Next.js Static Sites with MDX and Contentlayer" src="/optimized/articles/nextjs-mdx-contentlayer/hero.webp" width="100%" loading="lazy"/><div class="article-content"><h2 id="tldr"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#tldr"><span class="icon icon-link"></span></a>TL;DR</h2>
<ul>
<li><span role="img" aria-label="dashing away">ğŸ’¨</span> Contentlayer reduces a lot of friction in publishing the content on my static website.</li>
<li><span role="img" aria-label="smiling face with heart-eyes">ğŸ˜</span> MDX with remark and rehype plugins is awesomely convenient and powerful.</li>
<li><span role="img" aria-label="teacup without handle">ğŸµ</span> Next.js jells very well with Contentlayer and MDX</li>
</ul>
<hr/>
<p>This article is also available on</p>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://betterprogramming.pub/building-better-next-js-static-sites-with-mdx-and-contentlayer-9a06ca84e7f7">Better Programming</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/build-faster-nextjs-static-sites-using-mdx-and-contentlayer">Hacker Noon</a></li>
</ul>
<p>Feel free to read it on your favorite platform<span role="img" aria-label="sparkles">âœ¨</span></p>
<hr/>
<p>I fully embraced <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one">Static Site Generation</a> (SSG) for my website to optimize the site speed and scaling in the future.</p>
<p>Recently I&#x27;ve been researching on reducing the effort to create a new article on my website.
There were many touch points in my <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/">Next.js</a> project setup in order to:</p>
<ul>
<li>publish a new article</li>
<li>estimate reading time</li>
<li>update <a class="styles_anchor__g18qA undefined" href="/articles">the list of articles</a></li>
<li>create a new RSS feed</li>
<li>update sitemap</li>
</ul>
<h2 id="what-was-the-problem"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#what-was-the-problem"><span class="icon icon-link"></span></a>What Was The Problem?</h2>
<p>I analyzed a little more and found out the friction was in my MDX usage.
My file structure looked like this:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">my-blog
</span><span class="code-line">â”œâ”€â”€ public
</span><span class="code-line">â”œâ”€â”€ data
</span><span class="code-line">â”‚   â””â”€â”€ blogs.json
</span><span class="code-line">â”œâ”€â”€ components
</span><span class="code-line">â”‚   â””â”€â”€ Blog.tsx
</span><span class="code-line">â””â”€â”€ pages
</span><span class="code-line">    â”œâ”€â”€ blogs
</span><span class="code-line">    â”‚   â”œâ”€â”€ blog-one.mdx
</span><span class="code-line">    â”‚   â”œâ”€â”€ blog-two.mdx
</span><span class="code-line">    â”‚   â””â”€â”€ blog-three.mdx
</span><span class="code-line">    â””â”€â”€ index.tsx
</span></code></pre>
<p>It is the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/advanced-features/using-mdx">standard setup</a> recommended by Next.js.
I was using <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/mdx-js/mdx/tree/main/packages/loader">@mdx-js/loader</a> and <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.npmjs.com/package/@next/mdx">@next/mdx</a> to transform MDX into pages.</p>
<p>Take <code>pages/blogs/blog-one.mdx</code> for example, the content looked like this:</p>
<div class="rehype-code-title">pages/blogs/blog-one.mdx</div><pre class="language-jsx"><code class="language-jsx code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">Blog</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;../../components/Blog&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">const</span> meta <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#x27;Blog One<span role="img" aria-label="rocket">ğŸš€</span>&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">publishedAt</span><span class="token operator">:</span> <span class="token string">&#x27;February 4, 2022&#x27;</span>
</span><span class="code-line">  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Learn how to build a Next.js blog with MDX and Contentlayer!&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">cover</span><span class="token operator">:</span> <span class="token string">&#x27;/optimized/articles/blog-one/hero.webp&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Blog</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>meta<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">description</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>meta<span class="token punctuation">.</span><span class="token property-access">description</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">cover</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>meta<span class="token punctuation">.</span><span class="token property-access">cover</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">    <span class="token attr-name">publishedAt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>meta<span class="token punctuation">.</span><span class="token property-access">publishedAt</span><span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">  <span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Blog</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token maybe-class-name">Hey</span> <span class="token maybe-class-name">There<span role="img" aria-label="waving hand">ğŸ‘‹</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token maybe-class-name">Welcome</span> to <span class="token maybe-class-name">Blog</span> one<span role="img" aria-label="sparkles">âœ¨</span> <span class="token maybe-class-name">Let</span>&#x27;s learn together<span class="token operator">!</span>
</span></code></pre>
<p><code>blog-one.mdx</code> named-exported a meta data.
It was picked up by the the default component that took care of the layout and rendered the meta data.</p>
<p>The <code>&lt;Blog /&gt;</code> component looked like this:</p>
<div class="rehype-code-title">components/Blog.tsx</div><pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">BlogProps</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;./types&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Blog</span><span class="token punctuation">(</span>props<span class="token operator">:</span> <span class="token maybe-class-name">BlogProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>article</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">description</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">        </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">publishedAt</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">cover</span><span class="token punctuation">}</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>article</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>I was treating MDX files as pages.</p>
<p>Because the <code>meta</code> data in each MDX file was trapped in the page, I duplicated all the meta data and aggregated them in <code>data/blogs.json</code>.
I used it to maintain the list of articles on my website, the RSS feed, and the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developers.google.com/search/docs/advanced/sitemaps/overview">sitemap</a> for SEO.</p>
<blockquote>
<p>It would be much better if I could treat the MDX files as data, and generate pages based on the data.</p>
</blockquote>
<p>This way, <strong>I could use the MDX files as data points and page content at the same time</strong>.
Publishing a new article ideally could be much more frictionless.</p>
<p>I came across <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://leerob.io/">Lee Robinson&#x27;s website</a> and found out he was using a alpha library called <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">Contentlayer</a> to solve the problem.</p>
<h2 id="what-is-contentlayer"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#what-is-contentlayer"><span class="icon icon-link"></span></a>What is Contentlayer</h2>
<p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">Contentlayer</a> is an library in its early stage that turns content into data.
It works roughly like this:</p>
<ul>
<li>It takes in headless CMS or local content in YAML, JSON, MDX, or Markdown as source.</li>
<li>It transforms the content into TypeScript types and data files in JSON that includes the original content, meta data, and any derived data we specified.</li>
<li>It aggregates all the data in JSON and exports them as <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nodejs.org/api/esm.html#modules-ecmascript-modules">ESM</a>.</li>
</ul>
<p>For my use case, I can use the aggregated data generated by Contentlayer to replace my previous manual process:</p>
<ul>
<li>I use the generated data to build the new page for an article.</li>
<li>I use the generated data to render <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://dawchihliou.github.io/articles">the list of articles</a>.</li>
<li>I use the generated data to create a new RSS feed.</li>
<li>I use the new file structure to generate a new sitemap.</li>
<li>All automatic!</li>
</ul>
<p>Contentlayer offers easy integration with Next.js.
I&#x27;ll show you how in the next sections.</p>
<h2 id="using-mdx-as-data"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#using-mdx-as-data"><span class="icon icon-link"></span></a>Using MDX as Data</h2>
<p>Let&#x27;s first explore how to use MDX as a data point.</p>
<p>MDX offers <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com/guides/frontmatter/">YAML frontmatter</a> support with custom parsers.
You can express the meta data like this:</p>
<div class="rehype-code-title">data/blogs/blog-one.mdx</div><pre class="language-md"><code class="language-md code-highlight"><span class="code-line"><span class="token front-matter-block"><span class="token punctuation">---</span>
</span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">&#x27;Blog One<span role="img" aria-label="rocket">ğŸš€</span>&#x27;</span>
</span></span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">publishedAt</span><span class="token punctuation">:</span> <span class="token string">&#x27;February 4, 2022&#x27;</span>
</span></span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">&#x27;Learn how to build a Next.js blog with MDX and Contentlayer!&#x27;</span>
</span></span></span><span class="code-line"><span class="token front-matter-block"><span class="token front-matter yaml language-yaml"><span class="token key atrule">cover</span><span class="token punctuation">:</span> <span class="token string">&#x27;/optimized/articles/blog-one/hero.webp&#x27;</span></span>
</span></span><span class="code-line"><span class="token front-matter-block"><span class="token punctuation">---</span></span>
</span><span class="code-line">
</span><span class="code-line">Hey There<span role="img" aria-label="waving hand">ğŸ‘‹</span>
</span><span class="code-line">
</span><span class="code-line">Welcome to Blog One<span role="img" aria-label="sparkles">âœ¨</span> Let&#x27;s learn together!
</span></code></pre>
<p>You can see the meta data in YAML syntax is inside the <code>---</code> block, and the body of the content follows in MDX syntax.
Comparing to the <a class="styles_anchor__g18qA undefined" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#what-was-the-problem">old setup</a> where MDX file were treated as pages, the new MDX file contains only meta data and content.</p>
<p>The next thing we need to do is to generate the blog page that renders the meta data and the content with the layout from <code>&lt;Blog /&gt;</code> component.</p>
<h2 id="integrating-contentlayer-in-nextjs"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#integrating-contentlayer-in-nextjs"><span class="icon icon-link"></span></a>Integrating Contentlayer in Next.js</h2>
<p>Now that we updated the MDX files to contain only data and content, Let&#x27;s move them into the <code>data</code> directory.</p>
<p>The new file structure looks like this:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">my-blog
</span><span class="code-line">â”œâ”€â”€ public
</span><span class="code-line">â”œâ”€â”€ components
</span><span class="code-line">â”‚   â””â”€â”€ Blog.tsx
</span><span class="code-line">â”œâ”€â”€ pages
</span><span class="code-line">â”‚   â”œâ”€â”€ blogs
</span><span class="code-line">â”‚   â”‚   â””â”€â”€ <span class="token punctuation">[</span>slug<span class="token punctuation">]</span>.tsx
</span><span class="code-line">â”‚   â””â”€â”€ index.tsx
</span><span class="code-line">â””â”€â”€ data
</span><span class="code-line">    â””â”€â”€blogs
</span><span class="code-line">       â”œâ”€â”€ blog-one.mdx
</span><span class="code-line">       â”œâ”€â”€ blog-two.mdx
</span><span class="code-line">       â””â”€â”€ blog-three.mdx
</span></code></pre>
<p>Notice that we replaced the MDX files in <code>pages/blogs</code> directory with a <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/routing/dynamic-routes">dynamic route</a> <code>[slug].tsx</code>.
We&#x27;ll use this page to statically generate the blog pages <a class="styles_anchor__g18qA undefined" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#using-contentlayer-data-for-static-site-generation">later</a>.</p>
<h3 id="configuring-contentlayer"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#configuring-contentlayer"><span class="icon icon-link"></span></a>Configuring Contentlayer</h3>
<p>Contentlayer offers seamless integration with Next.js.</p>
<p>To install the dependencies:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> contentlayer next-contentlayer
</span></code></pre>
<p>Contentlayer reads the configuration from <code>contentlayer.config.ts</code>.
Let&#x27;s create one.</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token function">touch</span> contentlayer.config.ts
</span></code></pre>
<p>Inside the <code>contentlayer.config.ts</code>, we need to add instructions to tell Contentlayer how to parse:</p>
<ul>
<li><code>name</code>: namespace</li>
<li><code>filePathPattern</code>: input files</li>
<li><code>bodyType</code>: content body type for parsing</li>
<li><code>fields</code>: meta data fields</li>
<li><code>computedFields</code>: derived meta data fields</li>
</ul>
<div class="rehype-code-title">contentlayer.config.ts</div><pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineDocumentType<span class="token punctuation">,</span> makeSource <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;contentlayer/source-files&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> readingTime <span class="token keyword">from</span> <span class="token string">&#x27;reading-time&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> Blog <span class="token operator">=</span> <span class="token function">defineDocumentType</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  name<span class="token operator">:</span> <span class="token string">&#x27;Blog&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  filePathPattern<span class="token operator">:</span> <span class="token string">&#x27;blogs/*.mdx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  bodyType<span class="token operator">:</span> <span class="token string">&#x27;mdx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  fields<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    title<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    publishedAt<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    description<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    cover<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  computedFields<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    readingTime<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      type<span class="token operator">:</span> <span class="token string">&#x27;json&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">readingTime</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span>body<span class="token punctuation">.</span>raw<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    slug<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      type<span class="token operator">:</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span>doc<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> doc<span class="token punctuation">.</span>_raw<span class="token punctuation">.</span>sourceFileName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;.mdx&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">makeSource</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  contentDirPath<span class="token operator">:</span> <span class="token string">&#x27;data&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  documentTypes<span class="token operator">:</span> <span class="token punctuation">[</span>Blog<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  mdx<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    remarkPlugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    rehypePlugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<p>In the <code>computedFields</code>, we can compute data like <code>readingTime</code> from the content body<span role="img" aria-label="" aria-hidden="true">ğŸ¤©</span>.
I&#x27;m using <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/ngryman/reading-time"><code>reading-time</code></a> for calculating the reading time based on word count.
The <code>slug</code> field is for generating the dynamic route later in the <code>[slug].tsx</code> page.</p>
<p>Under the hood, Contentlayer uses <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/kentcdodds/mdx-bundler"><code>mdx-bundler</code></a> to parse MDX and YAML frontmatter and extract the content and data.
If you&#x27;re interested in the magic behind it, you can read more about <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/jonschlinkert/gray-matter"><code>gray-matter</code></a> and <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/remcohaszing/remark-mdx-frontmatter"><code>remark-mdx-frontmatter</code></a>.
These are the libraries <code>mdx-bundler</code> uses internally.</p>
<p>At the end of the configuration, <code>makeSource</code> will then look for files that match <code>blogs/*.mdx</code> pattern under <code>data</code> directory and generate the blog data in <code>.contentlayer</code> directory at your project root.</p>
<p>Lastly, wrap your Next.js configuration with <code>next-contentlayer</code> to integrate with Next.js&#x27;s live-reload and build process.</p>
<div class="rehype-code-title">next.config.js</div><pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> withContentlayer <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;next-contentlayer&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token function">withContentlayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// ... your Next.js config</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre>
<h3 id="using-contentlayer-data-for-static-site-generation"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#using-contentlayer-data-for-static-site-generation"><span class="icon icon-link"></span></a>Using Contentlayer data for Static Site Generation</h3>
<p>We are ready to use the generated data from Contentlayer and build the static pages<span role="img" aria-label="" aria-hidden="true">ğŸ¤©</span></p>
<p>All we need to do is to use <code>allBlogs</code> from <code>.contentlayer/data</code> to build the dynamic routes with <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/api-reference/data-fetching/get-static-paths"><code>getStaticPaths</code></a> and use <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/api-reference/data-fetching/get-static-props"><code>getStaticProps</code></a> to pass the blog data to the <code>[slug].tsx</code> page.</p>
<div class="rehype-code-title">pages/blogs/[slug].tsx</div><pre class="language-tsx"><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> useMDXComponent <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;next-contentlayer/hooks&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> allBlogs <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;.contentlayer/data&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">Blog</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;.contentlayer/types&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token maybe-class-name">BlogLayout</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;../../../components/Blog&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">BlogProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  blog<span class="token operator">:</span> <span class="token maybe-class-name">Blog</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Blog</span><span class="token punctuation">(</span><span class="token punctuation">{</span> blog <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token maybe-class-name">BlogProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token maybe-class-name">Component</span> <span class="token operator">=</span> <span class="token function">useMDXComponent</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">code</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BlogLayout</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token spread operator">...</span>blog<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">BlogLayout</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    paths<span class="token operator">:</span> allBlogs<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>blog<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> slug<span class="token operator">:</span> blog<span class="token punctuation">.</span><span class="token property-access">slug</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    fallback<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> blog <span class="token operator">=</span> allBlogs<span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>blog<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> blog<span class="token punctuation">.</span><span class="token property-access">slug</span> <span class="token operator">===</span> params<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> props<span class="token operator">:</span> <span class="token punctuation">{</span> blog <span class="token punctuation">}</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>After the project is built, you&#x27;ll see the blogs available at <code>/blogs/blog-one</code>, <code>/blogs/blog-two</code>, and <code>/blogs/blog-three</code><span role="img" aria-label="sparkles">âœ¨</span></p>
<h3 id="bonus-remark--rehype-plugins"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#bonus-remark--rehype-plugins"><span class="icon icon-link"></span></a>Bonus: remark &amp; rehype Plugins</h3>
<p>There are a lot more we can do with MDX by leveraging remark and rehype plugins in the <code>contentlayer.config.ts</code>.</p>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/remarkjs/remark">remark</a> is an awesome plugin ecosystem that transforms markdown.</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rehypejs/rehype">rehype</a> is another powerful plugin ecosystem that transforms HTML.</li>
</ul>
<p>They are two separate ecosystems but we can convert remark to rehype and generate HTML markup.
The transformation looks like this:</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line">MDX ----<span class="token operator">&gt;</span> remark AST ------<span class="token operator">&gt;</span> rehype AST --------<span class="token operator">&gt;</span> HTML
</span><span class="code-line">    parse            convert            stringify
</span></code></pre>
<p>Contentlayer takes care of the flow.
All we need to do is adding the plugins to provide instruction for the transformations.
I&#x27;m using the following plugins:</p>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/remarkjs/remark-gfm"><code>remark-gfm</code></a> to support <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.github.com/gfm/">GitHub Flavored Markdown</a>.</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rehypejs/rehype-slug"><code>rehype-slug</code></a> and <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rehypejs/rehype-autolink-headings"><code>rehype-autolink-headings</code></a> to render heading links.</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/rehype-prism-plus"><code>rehype-prism-plus</code></a> to render syntax highlighting in code blocks.</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rockchalkwushock/rehype-code-titles"><code>rehype-code-titles</code></a> to render code block titles.</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.npmjs.com/package/rehype-accessible-emojis"><code>rehype-accessible-emojis</code></a> to provide accessibility to emojis.</li>
</ul>
<div class="rehype-code-title">contentlayer.config.ts</div><pre class="language-diff"><code class="language-diff code-highlight"><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import remarkGfm from &#x27;remark-gfm&#x27;
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line"> import rehypeSlug from &#x27;rehype-slug&#x27;
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line"> import rehypeAutolinkHeadings from &#x27;rehype-autolink-headings&#x27;
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line"> import rehypeCodeTitles from &#x27;rehype-code-titles&#x27;
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line"> import rehypePrism from &#x27;rehype-prism-plus&#x27;
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line"> import { rehypeAccessibleEmojis } from &#x27;rehype-accessible-emojis&#x27;
</span></span></span><span class="code-line"><span class="token inserted-sign inserted"><span class="token line"></span></span>
</span><span class="code-line">// ...
</span><span class="code-line">
</span><span class="code-line">export default makeSource({
</span><span class="code-line"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> mdx: {
</span></span></span><span class="code-line deleted"><span class="token unchanged"><span class="token line"></span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    remarkPlugins: [],
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    remarkPlugins: [remarkGfm],
</span></span></span><span class="code-line deleted"><span class="token inserted-sign inserted"><span class="token line"></span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    rehypePlugins: [],
</span></span></span><span class="code-line inserted"><span class="token deleted-sign deleted"><span class="token line"></span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    rehypePlugins: [
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">      rehypeSlug,
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">      rehypeCodeTitles,
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">      rehypePrism,
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">      rehypeAutolinkHeadings,
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">      rehypeAccessibleEmojis,
</span></span></span><span class="code-line"><span class="token inserted-sign inserted"><span class="token line"></span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   ],
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span></span><span class="code-line"><span class="token unchanged"><span class="token line"></span></span>})
</span></code></pre>
<h2 id="contentlayer-applications"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#contentlayer-applications"><span class="icon icon-link"></span></a>Contentlayer Applications</h2>
<p>There are more things we can do with the data.</p>
<h3 id="application-1-rss-feed"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#application-1-rss-feed"><span class="icon icon-link"></span></a>Application #1: RSS Feed</h3>
<p>I can now write a script to generate a RSS feed base on the <code>allBlogs</code> data!</p>
<div class="rehype-code-title">scripts/rss.mjs</div><pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> writeFileSync <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;fs&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token constant">RSS</span> <span class="token keyword module">from</span> <span class="token string">&#x27;rss&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> allBlogs <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;.contentlayer/data&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> feed <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RSS</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;My Blogs&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">feed_url</span><span class="token operator">:</span> <span class="token string">&#x27;localhost:3000/rss.xml&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">site_url</span><span class="token operator">:</span> <span class="token string">&#x27;localhost:3000&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">allBlogs<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">blog</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">title</span><span class="token operator">:</span> blog<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">description</span><span class="token operator">:</span> blog<span class="token punctuation">.</span><span class="token property-access">description</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">localhost:3000/blogs/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>blog<span class="token punctuation">.</span><span class="token property-access">slug</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</span><span class="code-line">  <span class="token literal-property property">date</span><span class="token operator">:</span> blog<span class="token punctuation">.</span><span class="token property-access">publishedAt</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  feed<span class="token punctuation">.</span><span class="token method function property-access">item</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&#x27;./public/rss.xml&#x27;</span><span class="token punctuation">,</span> feed<span class="token punctuation">.</span><span class="token method function property-access">xml</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">indent</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre>
<h3 id="application-2-xml-sitemap"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#application-2-xml-sitemap"><span class="icon icon-link"></span></a>Application #2: XML Sitemap</h3>
<p>It&#x27;s easier to write a script for sitemap generation.
All we need is the file structure in the <code>data</code> and <code>page</code> directories.</p>
<div class="rehype-code-title">scripts/sitemap.mjs</div><pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> writeFileSync <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;fs&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> globby <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;globby&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports">prettier</span> <span class="token keyword module">from</span> <span class="token string">&#x27;prettier&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token function">globby</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token string">&#x27;pages/*.tsx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token string">&#x27;data/**/*.mdx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token string">&#x27;!pages/_*.tsx&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> urlTags <span class="token operator">=</span> pages
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
</span><span class="code-line">    file
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;pages&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;data/content&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;.tsx&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token string">&#x27;.mdx&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>path <span class="token operator">===</span> <span class="token string">&#x27;/index&#x27;</span> <span class="token operator">?</span> <span class="token string">&#x27;/&#x27;</span> <span class="token operator">:</span> path<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;url&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">          &lt;loc&gt;localhost:3000</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/loc&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      &lt;/url&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">    </span><span class="token template-punctuation string">`</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> sitemap <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">      </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>urlTags<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string">  &lt;/urlset&gt;
</span></span></span><span class="code-line"><span class="token template-string"><span class="token string"></span><span class="token template-punctuation string">`</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> prettierConfig <span class="token operator">=</span> <span class="token keyword control-flow">await</span> prettier<span class="token punctuation">.</span><span class="token method function property-access">resolveConfig</span><span class="token punctuation">(</span><span class="token string">&#x27;./prettierrc&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> formatted <span class="token operator">=</span> prettier<span class="token punctuation">.</span><span class="token method function property-access">format</span><span class="token punctuation">(</span>sitemap<span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token spread operator">...</span>prettierConfig<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&#x27;html&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&#x27;public/sitemap.xml&#x27;</span><span class="token punctuation">,</span> formatted<span class="token punctuation">)</span>
</span></code></pre>
<p>Run both scripts after building the project and automatically generate a new RSS feed and sitemap.</p>
<div class="rehype-code-title">package.json</div><pre class="language-diff"><code class="language-diff code-highlight"><span class="code-line">&quot;scripts&quot;: {
</span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &quot;sitemap&quot;: &quot;node scripts/sitemap.mjs&quot;,
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">    &quot;rss&quot;: &quot;node scripts/rss.mjs&quot;,
</span></span></span><span class="code-line inserted"><span class="token inserted-sign inserted"><span class="token line"></span><span class="token prefix inserted">+</span><span class="token line">    &quot;postbuild&quot;: &quot;yarn sitemap &amp;&amp; yarn rss&quot;,
</span></span></span><span class="code-line"><span class="token inserted-sign inserted"><span class="token line"></span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> },
</span></span></span></code></pre>
<h2 id="final-thoughts"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#final-thoughts"><span class="icon icon-link"></span></a>Final Thoughts</h2>
<p>Building Static sites with Next.js becomes so effortless with MDX and Contentlayer.</p>
<p>MDX combines with remark and rehype ecosystem enriches the possibility of building consistent pages with Markdown.
Contentlayer makes data and content in MDX files available to consume in Next.js projects.</p>
<p>If you&#x27;re exploring ways to build your own static sites, checkout the libraries mentioned earlier.
It not only reduces the time to market, but also is a lot of fun to build!<span role="img" aria-label="unicorn face">ğŸ¦„</span></p>
<h2 id="references"><a class="styles_anchor__g18qA anchor" href="/articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer#references"><span class="icon icon-link"></span></a>References</h2>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">GitHub: Contentlayer</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/dylang/node-rss">GitHub: rss</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/remarkjs/remark">GitHub: remark</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rehypejs/rehype">GitHub: rehype</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rehypejs/rehype-slug">GitHub: rehype-slug</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rehypejs/rehype-autolink-headings">GitHub: rehype-autolink-headings</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/rehype-prism-plus">GitHub: rehype-prism-plus</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/rockchalkwushock/rehype-code-titles">GitHub: rehype-code-titles</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/mdx-js/mdx/tree/main/packages/loader">GitHub: @mdx-js/loader</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/ngryman/reading-time">GitHub: reading-time</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/remarkjs/remark-gfm">GitHub: remark-gfm</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/kentcdodds/mdx-bundler">GitHub: mdx-bundler</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/jonschlinkert/gray-matter">GitHub: gray-matter</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/remcohaszing/remark-mdx-frontmatter">GitHub: remark-mdx-frontmatter</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/dylang/node-rss">GitHub: rss</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/sindresorhus/globby">GitHub: globby</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.npmjs.com/package/@next/mdx">npm: @next/mdx</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.npmjs.com/package/rehype-accessible-emojis">npm: rehype-accessible-emojis</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://leerob.io/">Website: Lee Robinson&#x27;s portfolio</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com/">Website: MDX</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/advanced-features/using-mdx">Website: Using MDX with Next.js</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/">Website: Next.js</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/routing/dynamic-routes">Website: Next.js Dynamic Routes</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/api-reference/data-fetching/get-static-paths">Website: Next.js getStaticPaths</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/api-reference/data-fetching/get-static-props">Website: Next.js getStaticProps</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com/guides/frontmatter/">Website: Frontmatter</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/URI_fragment">Website: URI Fragment</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developers.google.com/search/docs/advanced/sitemaps/overview">Website: Learn about sitemaps</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nodejs.org/api/esm.html#modules-ecmascript-modules">Website: ESMAScript modules</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.github.com/gfm">Website: GitHub Flavored Markdown Spec</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Website: Abstract Syntax Tree</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one">Website: What is a Static Site Generator? And 3 ways to find the best one</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://prettier.io/">Website: Prettier</a></li>
</ul>
<hr/>
<p><span role="img" aria-label="speech balloon">ğŸ’¬</span> See comments on <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.reddit.com/r/learnjavascript/comments/smz0fs/building_better_nextjs_static_sites_with_mdx_and/?utm_source=share&amp;utm_medium=web2x&amp;context=3">Reddit</a>.</p>
<hr/>
<p>Here you have it! Thanks for reading through<span role="img" aria-label="raising hands">ğŸ™Œ</span></p>
<p>If you find it useful, please share this article to help more people in their engineering journey.</p>
<p>Feel free to connect with me on <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">twitter</a>!</p>
<p>In my previous article <a class="styles_anchor__g18qA undefined" href="/articles/from-frontend-developer-to-principal-software-engineer">&quot;From Frontend Developer to Principal Software Engineer&quot;</a>, I shared 50+ books and online resources that helped me in my engineering journey.</p>
<p>If you&#x27;re interested in implementing Binary Trees in Rust, my previous article <a class="styles_anchor__g18qA undefined" href="/articles/binary-tree-insertion-in-rust">&quot;Binary Tree Insertion in Rust&quot;</a> shared my struggle when I was implementing a Binary Tree.
It took me some time to have a grasp on Rust&#x27;s ownership.</p>
<p>If you&#x27;re interested in Unicode in Rust and JavaScript, I wrote an article <a class="styles_anchor__g18qA undefined" href="/articles/indexing-strings-in-rust-and-typescript">&quot;Indexing Strings in Rust and TypeScript: A Case Study of String&quot;</a>.
There we discussed how Rust and JavaScript handle strings with a classic algorithm.</p>
<p>Happy coding!</p></div><article class="Author_wrap__s8DeE"><img src="/optimized/raw/portrait-sm.webp" alt="Daw-Chih Liou" class="Author_avatar__j6KIn" loading="lazy"/><div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://dawchihliou.github.io">Daw-Chih Liou</a><p>Daw-Chih is a software engineer, UX advocate, and creator who is dedicated to Web engineering. His background in Human Centered Computing has led him to work with startups and public companies across North America, Asia, and Europe. He is passionate about meeting business trajectory with user journey and utilizing engineering architecture and performance monitoring to provide optimal user experience.</p></div></article></div></div></article><footer class="Footer_footer__1IwEk"><div class="Footer_wrap__FVCTX"><div class="Footer_resources__fG_vu"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">ğŸ’š</span>This site is built with</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org">Next.js</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://react-icons.github.io/react-icons">React Icons</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com">MDX</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://unifiedjs.com">unified</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">Contentlayer</a></div><div class="Footer_contact__9GJn6"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">ğŸ¦„</span>Where to find me</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Linkedin</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou">GitHub</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">Twitter</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou">Medium</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou">Hacker Noon</a><a class="styles_anchor__g18qA undefined" href="/rss.xml">RSS Feed <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div><div class="Footer_sitemap__92ono"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">ğŸ—º</span>Sitemap</p><a class="styles_anchor__g18qA undefined" href="/">Home</a><a class="styles_anchor__g18qA undefined" href="/articles">Articles</a><a class="styles_anchor__g18qA undefined" href="/work">Work</a><a class="styles_anchor__g18qA undefined" href="/now">Now</a><a class="styles_anchor__g18qA undefined" href="/expertise">Expertise</a><a class="styles_anchor__g18qA undefined" href="/contact">Contact</a></div></div><div class="Footer_copyright__vZZRL">Â© <!-- -->2023<!-- --> <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Daw-Chih Liou</a></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Building Better Next.js Static Sites with MDX and Contentlayer","publishedAt":"February 4, 2022","description":"Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how.","cover":"/optimized/articles/nextjs-mdx-contentlayer/hero.webp","category":"Frontend","coverWidth":"1400","coverHeight":"600","body":{"raw":"\n## TL;DR\n\n- ğŸ’¨ Contentlayer reduces a lot of friction in publishing the content on my static website.\n- ğŸ˜ MDX with remark and rehype plugins is awesomely convenient and powerful.\n- ğŸµ Next.js jells very well with Contentlayer and MDX\n\n---\n\nThis article is also available on\n\n- [Better Programming](https://betterprogramming.pub/building-better-next-js-static-sites-with-mdx-and-contentlayer-9a06ca84e7f7)\n- [Hacker Noon](https://hackernoon.com/build-faster-nextjs-static-sites-using-mdx-and-contentlayer)\n\nFeel free to read it on your favorite platformâœ¨\n\n---\n\nI fully embraced [Static Site Generation](https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one) (SSG) for my website to optimize the site speed and scaling in the future.\n\nRecently I've been researching on reducing the effort to create a new article on my website.\nThere were many touch points in my [Next.js](https://nextjs.org/) project setup in order to:\n\n- publish a new article\n- estimate reading time\n- update [the list of articles](/articles)\n- create a new RSS feed\n- update sitemap\n\n## What Was The Problem?\n\nI analyzed a little more and found out the friction was in my MDX usage.\nMy file structure looked like this:\n\n```bash\nmy-blog\nâ”œâ”€â”€ public\nâ”œâ”€â”€ data\nâ”‚   â””â”€â”€ blogs.json\nâ”œâ”€â”€ components\nâ”‚   â””â”€â”€ Blog.tsx\nâ””â”€â”€ pages\n    â”œâ”€â”€ blogs\n    â”‚   â”œâ”€â”€ blog-one.mdx\n    â”‚   â”œâ”€â”€ blog-two.mdx\n    â”‚   â””â”€â”€ blog-three.mdx\n    â””â”€â”€ index.tsx\n```\n\nIt is the [standard setup](https://nextjs.org/docs/advanced-features/using-mdx) recommended by Next.js.\nI was using [@mdx-js/loader](https://github.com/mdx-js/mdx/tree/main/packages/loader) and [@next/mdx](https://www.npmjs.com/package/@next/mdx) to transform MDX into pages.\n\nTake `pages/blogs/blog-one.mdx` for example, the content looked like this:\n\n```jsx:pages/blogs/blog-one.mdx\nimport Blog from '../../components/Blog'\n\nexport const meta = {\n  title: 'Blog OneğŸš€',\n  publishedAt: 'February 4, 2022'\n  description: \"Learn how to build a Next.js blog with MDX and Contentlayer!\",\n  cover: '/optimized/articles/blog-one/hero.webp',\n}\n\nexport default ({ children }) =\u003e (\n  \u003cBlog\n    title={meta.title}\n    description={meta.description}\n    cover={meta.cover}\n    publishedAt={meta.publishedAt}\n  \u003e\n    {children}\n  \u003c/Blog\u003e\n)\n\nHey ThereğŸ‘‹\n\nWelcome to Blog oneâœ¨ Let's learn together!\n```\n\n`blog-one.mdx` named-exported a meta data.\nIt was picked up by the the default component that took care of the layout and rendered the meta data.\n\nThe `\u003cBlog /\u003e` component looked like this:\n\n```tsx:components/Blog.tsx\nimport { BlogProps } from './types'\n\nexport default function Blog(props: BlogProps) {\n  return (\n    \u003carticle\u003e\n      \u003ch1\u003e{props.title}\u003c/h1\u003e\n      \u003ch2\u003e{props.description}\u003c/h2\u003e\n      \u003cp\u003e\n        {props.publishedAt}\n      \u003c/p\u003e\n      \u003cimg alt={props.title} src={props.cover} width=\"100%\" loading=\"lazy\" /\u003e\n      {props.children}\n    \u003c/article\u003e\n  )\n}\n```\n\nI was treating MDX files as pages.\n\nBecause the `meta` data in each MDX file was trapped in the page, I duplicated all the meta data and aggregated them in `data/blogs.json`.\nI used it to maintain the list of articles on my website, the RSS feed, and the [sitemap](https://developers.google.com/search/docs/advanced/sitemaps/overview) for SEO.\n\n\u003e It would be much better if I could treat the MDX files as data, and generate pages based on the data.\n\nThis way, **I could use the MDX files as data points and page content at the same time**.\nPublishing a new article ideally could be much more frictionless.\n\nI came across [Lee Robinson's website](https://leerob.io/) and found out he was using a alpha library called [Contentlayer](https://github.com/contentlayerdev/contentlayer) to solve the problem.\n\n## What is Contentlayer\n\n[Contentlayer](https://github.com/contentlayerdev/contentlayer) is an library in its early stage that turns content into data.\nIt works roughly like this:\n\n- It takes in headless CMS or local content in YAML, JSON, MDX, or Markdown as source.\n- It transforms the content into TypeScript types and data files in JSON that includes the original content, meta data, and any derived data we specified.\n- It aggregates all the data in JSON and exports them as [ESM](https://nodejs.org/api/esm.html#modules-ecmascript-modules).\n\nFor my use case, I can use the aggregated data generated by Contentlayer to replace my previous manual process:\n\n- I use the generated data to build the new page for an article.\n- I use the generated data to render [the list of articles](https://dawchihliou.github.io/articles).\n- I use the generated data to create a new RSS feed.\n- I use the new file structure to generate a new sitemap.\n- All automatic!\n\nContentlayer offers easy integration with Next.js.\nI'll show you how in the next sections.\n\n## Using MDX as Data\n\nLet's first explore how to use MDX as a data point.\n\nMDX offers [YAML frontmatter](https://mdxjs.com/guides/frontmatter/) support with custom parsers.\nYou can express the meta data like this:\n\n```md:data/blogs/blog-one.mdx\n---\ntitle: 'Blog OneğŸš€'\npublishedAt: 'February 4, 2022'\ndescription: 'Learn how to build a Next.js blog with MDX and Contentlayer!'\ncover: '/optimized/articles/blog-one/hero.webp'\n---\n\nHey ThereğŸ‘‹\n\nWelcome to Blog Oneâœ¨ Let's learn together!\n```\n\nYou can see the meta data in YAML syntax is inside the `---` block, and the body of the content follows in MDX syntax.\nComparing to the [old setup](#what-was-the-problem) where MDX file were treated as pages, the new MDX file contains only meta data and content.\n\nThe next thing we need to do is to generate the blog page that renders the meta data and the content with the layout from `\u003cBlog /\u003e` component.\n\n## Integrating Contentlayer in Next.js\n\nNow that we updated the MDX files to contain only data and content, Let's move them into the `data` directory.\n\nThe new file structure looks like this:\n\n```bash\nmy-blog\nâ”œâ”€â”€ public\nâ”œâ”€â”€ components\nâ”‚   â””â”€â”€ Blog.tsx\nâ”œâ”€â”€ pages\nâ”‚   â”œâ”€â”€ blogs\nâ”‚   â”‚   â””â”€â”€ [slug].tsx\nâ”‚   â””â”€â”€ index.tsx\nâ””â”€â”€ data\n    â””â”€â”€blogs\n       â”œâ”€â”€ blog-one.mdx\n       â”œâ”€â”€ blog-two.mdx\n       â””â”€â”€ blog-three.mdx\n```\n\nNotice that we replaced the MDX files in `pages/blogs` directory with a [dynamic route](https://nextjs.org/docs/routing/dynamic-routes) `[slug].tsx`.\nWe'll use this page to statically generate the blog pages [later](#using-contentlayer-data-for-static-site-generation).\n\n### Configuring Contentlayer\n\nContentlayer offers seamless integration with Next.js.\n\nTo install the dependencies:\n\n```bash\nyarn add contentlayer next-contentlayer\n```\n\nContentlayer reads the configuration from `contentlayer.config.ts`.\nLet's create one.\n\n```bash\ntouch contentlayer.config.ts\n```\n\nInside the `contentlayer.config.ts`, we need to add instructions to tell Contentlayer how to parse:\n\n- `name`: namespace\n- `filePathPattern`: input files\n- `bodyType`: content body type for parsing\n- `fields`: meta data fields\n- `computedFields`: derived meta data fields\n\n```ts:contentlayer.config.ts\nimport { defineDocumentType, makeSource } from 'contentlayer/source-files'\nimport readingTime from 'reading-time'\n\nexport const Blog = defineDocumentType(() =\u003e ({\n  name: 'Blog',\n  filePathPattern: 'blogs/*.mdx',\n  bodyType: 'mdx',\n  fields: {\n    title: { type: 'string', required: true },\n    publishedAt: { type: 'string', required: true },\n    description: { type: 'string', required: true },\n    cover: { type: 'string', required: true },\n  },\n  computedFields: {\n    readingTime: {\n      type: 'json',\n      resolve: (doc) =\u003e readingTime(doc.body.raw)\n    },\n    slug: {\n      type: 'string',\n      resolve: (doc) =\u003e doc._raw.sourceFileName.replace('.mdx', ''),\n    },\n  },\n}))\n\nexport default makeSource({\n  contentDirPath: 'data',\n  documentTypes: [Blog],\n  mdx: {\n    remarkPlugins: [],\n    rehypePlugins: [],\n  },\n})\n```\n\nIn the `computedFields`, we can compute data like `readingTime` from the content bodyğŸ¤©.\nI'm using [`reading-time`](https://github.com/ngryman/reading-time) for calculating the reading time based on word count.\nThe `slug` field is for generating the dynamic route later in the `[slug].tsx` page.\n\nUnder the hood, Contentlayer uses [`mdx-bundler`](https://github.com/kentcdodds/mdx-bundler) to parse MDX and YAML frontmatter and extract the content and data.\nIf you're interested in the magic behind it, you can read more about [`gray-matter`](https://github.com/jonschlinkert/gray-matter) and [`remark-mdx-frontmatter`](https://github.com/remcohaszing/remark-mdx-frontmatter).\nThese are the libraries `mdx-bundler` uses internally.\n\nAt the end of the configuration, `makeSource` will then look for files that match `blogs/*.mdx` pattern under `data` directory and generate the blog data in `.contentlayer` directory at your project root.\n\nLastly, wrap your Next.js configuration with `next-contentlayer` to integrate with Next.js's live-reload and build process.\n\n```js:next.config.js\nconst { withContentlayer } = require('next-contentlayer')\n\nmodule.exports = withContentlayer()({\n  // ... your Next.js config\n})\n```\n\n### Using Contentlayer data for Static Site Generation\n\nWe are ready to use the generated data from Contentlayer and build the static pagesğŸ¤©\n\nAll we need to do is to use `allBlogs` from `.contentlayer/data` to build the dynamic routes with [`getStaticPaths`](https://nextjs.org/docs/api-reference/data-fetching/get-static-paths) and use [`getStaticProps`](https://nextjs.org/docs/api-reference/data-fetching/get-static-props) to pass the blog data to the `[slug].tsx` page.\n\n```tsx:pages/blogs/[slug].tsx\nimport { useMDXComponent } from 'next-contentlayer/hooks'\nimport { allBlogs } from '.contentlayer/data'\nimport type { Blog } from '.contentlayer/types'\nimport BlogLayout from '../../../components/Blog'\n\ntype BlogProps = {\n  blog: Blog\n}\n\nexport default function Blog({ blog }: BlogProps) {\n  const Component = useMDXComponent(post.body.code)\n\n  return (\n    \u003cBlogLayout {...blog}\u003e\n      \u003cComponent /\u003e\n    \u003c/BlogLayout\u003e\n  )\n}\n\nexport async function getStaticPaths() {\n  return {\n    paths: allBlogs.map((blog) =\u003e ({ params: { slug: blog.slug } })),\n    fallback: false,\n  }\n}\n\nexport async function getStaticProps({ params }) {\n  const blog = allBlogs.find((blog) =\u003e blog.slug === params.slug)\n  return { props: { blog } }\n}\n```\n\nAfter the project is built, you'll see the blogs available at `/blogs/blog-one`, `/blogs/blog-two`, and `/blogs/blog-three`âœ¨\n\n### Bonus: remark \u0026 rehype Plugins\n\nThere are a lot more we can do with MDX by leveraging remark and rehype plugins in the `contentlayer.config.ts`.\n\n- [remark](https://github.com/remarkjs/remark) is an awesome plugin ecosystem that transforms markdown.\n- [rehype](https://github.com/rehypejs/rehype) is another powerful plugin ecosystem that transforms HTML.\n\nThey are two separate ecosystems but we can convert remark to rehype and generate HTML markup.\nThe transformation looks like this:\n\n```bash\nMDX ----\u003e remark AST ------\u003e rehype AST --------\u003e HTML\n    parse            convert            stringify\n```\n\nContentlayer takes care of the flow.\nAll we need to do is adding the plugins to provide instruction for the transformations.\nI'm using the following plugins:\n\n- [`remark-gfm`](https://github.com/remarkjs/remark-gfm) to support [GitHub Flavored Markdown](https://github.github.com/gfm/).\n- [`rehype-slug`](https://github.com/rehypejs/rehype-slug) and [`rehype-autolink-headings`](https://github.com/rehypejs/rehype-autolink-headings) to render heading links.\n- [`rehype-prism-plus`](https://github.com/timlrx/rehype-prism-plus) to render syntax highlighting in code blocks.\n- [`rehype-code-titles`](https://github.com/rockchalkwushock/rehype-code-titles) to render code block titles.\n- [`rehype-accessible-emojis`](https://www.npmjs.com/package/rehype-accessible-emojis) to provide accessibility to emojis.\n\n```diff:contentlayer.config.ts\n+ import remarkGfm from 'remark-gfm'\n+ import rehypeSlug from 'rehype-slug'\n+ import rehypeAutolinkHeadings from 'rehype-autolink-headings'\n+ import rehypeCodeTitles from 'rehype-code-titles'\n+ import rehypePrism from 'rehype-prism-plus'\n+ import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis'\n\n// ...\n\nexport default makeSource({\n  mdx: {\n-    remarkPlugins: [],\n+    remarkPlugins: [remarkGfm],\n-    rehypePlugins: [],\n+    rehypePlugins: [\n+      rehypeSlug,\n+      rehypeCodeTitles,\n+      rehypePrism,\n+      rehypeAutolinkHeadings,\n+      rehypeAccessibleEmojis,\n    ],\n  },\n})\n```\n\n## Contentlayer Applications\n\nThere are more things we can do with the data.\n\n### Application #1: RSS Feed\n\nI can now write a script to generate a RSS feed base on the `allBlogs` data!\n\n```js:scripts/rss.mjs\nimport { writeFileSync } from 'fs'\nimport RSS from 'rss'\nimport { allBlogs } from '.contentlayer/data'\n\nconst feed = new RSS({\n  title: \"My Blogs\",\n  feed_url: 'localhost:3000/rss.xml',\n  site_url: 'localhost:3000',\n})\n\nallBlogs.map((blog) =\u003e ({\n  title: blog.title,\n  description: blog.description,\n  url: `localhost:3000/blogs/${blog.slug}`\n  date: blog.publishedAt,\n})).forEach((item) =\u003e {\n  feed.item(item)\n})\n\nwriteFileSync('./public/rss.xml', feed.xml({ indent: true }))\n```\n\n### Application #2: XML Sitemap\n\nIt's easier to write a script for sitemap generation.\nAll we need is the file structure in the `data` and `page` directories.\n\n```js:scripts/sitemap.mjs\nimport { writeFileSync } from 'fs'\nimport { globby } from 'globby'\nimport prettier from 'prettier'\n\nconst pages = await globby([\n  'pages/*.tsx',\n  'data/**/*.mdx',\n  '!pages/_*.tsx',\n])\n\nconst urlTags = pages\n  .map((file) =\u003e\n    file\n      .replace('pages', '')\n      .replace('data/content', '')\n      .replace('.tsx', '')\n      .replace('.mdx', '')\n  )\n  .map((path) =\u003e (path === '/index' ? '/' : path))\n  .map(\n    (path) =\u003e `\n      \u003curl\u003e\n          \u003cloc\u003elocalhost:3000${path}\u003c/loc\u003e\n      \u003c/url\u003e\n    `\n  )\n  .join('')\n\nconst sitemap = `\n  \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n  \u003curlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n      ${urlTags}\n  \u003c/urlset\u003e\n`\n\nconst prettierConfig = await prettier.resolveConfig('./prettierrc')\nconst formatted = prettier.format(sitemap, {\n  ...prettierConfig,\n  parser: 'html',\n})\n\nwriteFileSync('public/sitemap.xml', formatted)\n```\n\nRun both scripts after building the project and automatically generate a new RSS feed and sitemap.\n\n```diff:package.json\n\"scripts\": {\n+    \"sitemap\": \"node scripts/sitemap.mjs\",\n+    \"rss\": \"node scripts/rss.mjs\",\n+    \"postbuild\": \"yarn sitemap \u0026\u0026 yarn rss\",\n  },\n```\n\n## Final Thoughts\n\nBuilding Static sites with Next.js becomes so effortless with MDX and Contentlayer.\n\nMDX combines with remark and rehype ecosystem enriches the possibility of building consistent pages with Markdown.\nContentlayer makes data and content in MDX files available to consume in Next.js projects.\n\nIf you're exploring ways to build your own static sites, checkout the libraries mentioned earlier.\nIt not only reduces the time to market, but also is a lot of fun to build!ğŸ¦„\n\n## References\n\n- [GitHub: Contentlayer](https://github.com/contentlayerdev/contentlayer)\n- [GitHub: rss](https://github.com/dylang/node-rss)\n- [GitHub: remark](https://github.com/remarkjs/remark)\n- [GitHub: rehype](https://github.com/rehypejs/rehype)\n- [GitHub: rehype-slug](https://github.com/rehypejs/rehype-slug)\n- [GitHub: rehype-autolink-headings](https://github.com/rehypejs/rehype-autolink-headings)\n- [GitHub: rehype-prism-plus](https://github.com/timlrx/rehype-prism-plus)\n- [GitHub: rehype-code-titles](https://github.com/rockchalkwushock/rehype-code-titles)\n- [GitHub: @mdx-js/loader](https://github.com/mdx-js/mdx/tree/main/packages/loader)\n- [GitHub: reading-time](https://github.com/ngryman/reading-time)\n- [GitHub: remark-gfm](https://github.com/remarkjs/remark-gfm)\n- [GitHub: mdx-bundler](https://github.com/kentcdodds/mdx-bundler)\n- [GitHub: gray-matter](https://github.com/jonschlinkert/gray-matter)\n- [GitHub: remark-mdx-frontmatter](https://github.com/remcohaszing/remark-mdx-frontmatter)\n- [GitHub: rss](https://github.com/dylang/node-rss)\n- [GitHub: globby](https://github.com/sindresorhus/globby)\n- [npm: @next/mdx](https://www.npmjs.com/package/@next/mdx)\n- [npm: rehype-accessible-emojis](https://www.npmjs.com/package/rehype-accessible-emojis)\n- [Website: Lee Robinson's portfolio](https://leerob.io/)\n- [Website: MDX](https://mdxjs.com/)\n- [Website: Using MDX with Next.js](https://nextjs.org/docs/advanced-features/using-mdx)\n- [Website: Next.js](https://nextjs.org/)\n- [Website: Next.js Dynamic Routes](https://nextjs.org/docs/routing/dynamic-routes)\n- [Website: Next.js getStaticPaths](https://nextjs.org/docs/api-reference/data-fetching/get-static-paths)\n- [Website: Next.js getStaticProps](https://nextjs.org/docs/api-reference/data-fetching/get-static-props)\n- [Website: Frontmatter](https://mdxjs.com/guides/frontmatter/)\n- [Website: URI Fragment](https://en.wikipedia.org/wiki/URI_fragment)\n- [Website: Learn about sitemaps](https://developers.google.com/search/docs/advanced/sitemaps/overview)\n- [Website: ESMAScript modules](https://nodejs.org/api/esm.html#modules-ecmascript-modules)\n- [Website: GitHub Flavored Markdown Spec](https://github.github.com/gfm)\n- [Website: Abstract Syntax Tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)\n- [Website: What is a Static Site Generator? And 3 ways to find the best one](https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one)\n- [Website: Prettier](https://prettier.io/)\n\n---\n\nğŸ’¬ See comments on [Reddit](https://www.reddit.com/r/learnjavascript/comments/smz0fs/building_better_nextjs_static_sites_with_mdx_and/?utm_source=share\u0026utm_medium=web2x\u0026context=3).\n\n---\n\nHere you have it! Thanks for reading throughğŸ™Œ\n\nIf you find it useful, please share this article to help more people in their engineering journey.\n\nFeel free to connect with me on [twitter](https://twitter.com/dawchihliou)!\n\nIn my previous article [\"From Frontend Developer to Principal Software Engineer\"](/articles/from-frontend-developer-to-principal-software-engineer), I shared 50+ books and online resources that helped me in my engineering journey.\n\nIf you're interested in implementing Binary Trees in Rust, my previous article [\"Binary Tree Insertion in Rust\"](/articles/binary-tree-insertion-in-rust) shared my struggle when I was implementing a Binary Tree.\nIt took me some time to have a grasp on Rust's ownership.\n\nIf you're interested in Unicode in Rust and JavaScript, I wrote an article [\"Indexing Strings in Rust and TypeScript: A Case Study of String\"](/articles/indexing-strings-in-rust-and-typescript).\nThere we discussed how Rust and JavaScript handle strings with a classic algorithm.\n\nHappy coding!\n","code":"var Component=(()=\u003e{var p=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var k=(a,e)=\u003e()=\u003e(e||a((e={exports:{}}).exports,e),e.exports),g=(a,e)=\u003e{for(var s in e)l(a,s,{get:e[s],enumerable:!0})},i=(a,e,s,t)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let c of m(e))!N.call(a,c)\u0026\u0026c!==s\u0026\u0026l(a,c,{get:()=\u003ee[c],enumerable:!(t=h(e,c))||t.enumerable});return a};var y=(a,e,s)=\u003e(s=a!=null?p(u(a)):{},i(e||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=\u003ei(l({},\"__esModule\",{value:!0}),a);var o=k((S,r)=\u003e{r.exports=_jsx_runtime});var j={};g(j,{default:()=\u003ex,frontmatter:()=\u003eb});var n=y(o()),b={title:\"Building Better Next.js Static Sites with MDX and Contentlayer\",publishedAt:\"February 4, 2022\",description:\"Recently I have been researching on reducing the effort to create a new article on my static website. I analyzed more and found out the friction was in my MDX usage with Next.js. After shifting to Contentlayer, publishing content becomes so effortless. I will show you how.\",cover:\"/optimized/articles/nextjs-mdx-contentlayer/hero.webp\",category:\"Frontend\",coverWidth:\"1400\",coverHeight:\"600\"};function d(a){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",hr:\"hr\",p:\"p\",pre:\"pre\",code:\"code\",div:\"div\",blockquote:\"blockquote\",strong:\"strong\",h3:\"h3\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"tldr\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#tldr\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"dashing away\",children:\"\\u{1F4A8}\"}),\" Contentlayer reduces a lot of friction in publishing the content on my static website.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"smiling face with heart-eyes\",children:\"\\u{1F60D}\"}),\" MDX with remark and rehype plugins is awesomely convenient and powerful.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"teacup without handle\",children:\"\\u{1F375}\"}),\" Next.js jells very well with Contentlayer and MDX\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"This article is also available on\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://betterprogramming.pub/building-better-next-js-static-sites-with-mdx-and-contentlayer-9a06ca84e7f7\",children:\"Better Programming\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://hackernoon.com/build-faster-nextjs-static-sites-using-mdx-and-contentlayer\",children:\"Hacker Noon\"})}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Feel free to read it on your favorite platform\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"})]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"I fully embraced \",(0,n.jsx)(e.a,{href:\"https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one\",children:\"Static Site Generation\"}),\" (SSG) for my website to optimize the site speed and scaling in the future.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`Recently I've been researching on reducing the effort to create a new article on my website.\nThere were many touch points in my `,(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"Next.js\"}),\" project setup in order to:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"publish a new article\"}),`\n`,(0,n.jsx)(e.li,{children:\"estimate reading time\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"update \",(0,n.jsx)(e.a,{href:\"/articles\",children:\"the list of articles\"})]}),`\n`,(0,n.jsx)(e.li,{children:\"create a new RSS feed\"}),`\n`,(0,n.jsx)(e.li,{children:\"update sitemap\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-was-the-problem\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#what-was-the-problem\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What Was The Problem?\"]}),`\n`,(0,n.jsx)(e.p,{children:`I analyzed a little more and found out the friction was in my MDX usage.\nMy file structure looked like this:`}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`my-blog\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 public\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 data\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 blogs.json\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 components\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 Blog.tsx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 pages\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u251C\\u2500\\u2500 blogs\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2502   \\u251C\\u2500\\u2500 blog-one.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2502   \\u251C\\u2500\\u2500 blog-two.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2502   \\u2514\\u2500\\u2500 blog-three.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2514\\u2500\\u2500 index.tsx\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"It is the \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/advanced-features/using-mdx\",children:\"standard setup\"}),` recommended by Next.js.\nI was using `,(0,n.jsx)(e.a,{href:\"https://github.com/mdx-js/mdx/tree/main/packages/loader\",children:\"@mdx-js/loader\"}),\" and \",(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/@next/mdx\",children:\"@next/mdx\"}),\" to transform MDX into pages.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Take \",(0,n.jsx)(e.code,{children:\"pages/blogs/blog-one.mdx\"}),\" for example, the content looked like this:\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"pages/blogs/blog-one.mdx\"}),(0,n.jsx)(e.pre,{className:\"language-jsx\",children:(0,n.jsxs)(e.code,{className:\"language-jsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../../components/Blog'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" meta \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string\",children:[\"'Blog One\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"rocket\",children:\"\\u{1F680}\"}),\"'\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'February 4, 2022'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Learn how to build a Next.js blog with MDX and Contentlayer!\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/optimized/articles/blog-one/hero.webp'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" children \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Blog\"})]}),`\n`]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"title\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"description\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"cover\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"publishedAt\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"meta\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"children\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Blog\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Hey\"}),\" \",(0,n.jsxs)(e.span,{className:\"token maybe-class-name\",children:[\"There\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"waving hand\",children:\"\\u{1F44B}\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Welcome\"}),\" to \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"}),\" one\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Let\"}),\"'s learn together\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:\"blog-one.mdx\"}),` named-exported a meta data.\nIt was picked up by the the default component that took care of the layout and rendered the meta data.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The \",(0,n.jsx)(e.code,{children:\"\u003cBlog /\u003e\"}),\" component looked like this:\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"components/Blog.tsx\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./types'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Blog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"article\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"h1\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"h2\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"h2\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"p\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"        \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"p\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),\"img\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"alt\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"src\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"width\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"100%\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"loading\"}),(0,n.jsxs)(e.span,{className:\"token attr-value\",children:[(0,n.jsx)(e.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'}),\"lazy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"props\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"children\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"article\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"I was treating MDX files as pages.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Because the \",(0,n.jsx)(e.code,{children:\"meta\"}),\" data in each MDX file was trapped in the page, I duplicated all the meta data and aggregated them in \",(0,n.jsx)(e.code,{children:\"data/blogs.json\"}),`.\nI used it to maintain the list of articles on my website, the RSS feed, and the `,(0,n.jsx)(e.a,{href:\"https://developers.google.com/search/docs/advanced/sitemaps/overview\",children:\"sitemap\"}),\" for SEO.\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"It would be much better if I could treat the MDX files as data, and generate pages based on the data.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This way, \",(0,n.jsx)(e.strong,{children:\"I could use the MDX files as data points and page content at the same time\"}),`.\nPublishing a new article ideally could be much more frictionless.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"I came across \",(0,n.jsx)(e.a,{href:\"https://leerob.io/\",children:\"Lee Robinson's website\"}),\" and found out he was using a alpha library called \",(0,n.jsx)(e.a,{href:\"https://github.com/contentlayerdev/contentlayer\",children:\"Contentlayer\"}),\" to solve the problem.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-is-contentlayer\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#what-is-contentlayer\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What is Contentlayer\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/contentlayerdev/contentlayer\",children:\"Contentlayer\"}),` is an library in its early stage that turns content into data.\nIt works roughly like this:`]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"It takes in headless CMS or local content in YAML, JSON, MDX, or Markdown as source.\"}),`\n`,(0,n.jsx)(e.li,{children:\"It transforms the content into TypeScript types and data files in JSON that includes the original content, meta data, and any derived data we specified.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"It aggregates all the data in JSON and exports them as \",(0,n.jsx)(e.a,{href:\"https://nodejs.org/api/esm.html#modules-ecmascript-modules\",children:\"ESM\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"For my use case, I can use the aggregated data generated by Contentlayer to replace my previous manual process:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"I use the generated data to build the new page for an article.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"I use the generated data to render \",(0,n.jsx)(e.a,{href:\"https://dawchihliou.github.io/articles\",children:\"the list of articles\"}),\".\"]}),`\n`,(0,n.jsx)(e.li,{children:\"I use the generated data to create a new RSS feed.\"}),`\n`,(0,n.jsx)(e.li,{children:\"I use the new file structure to generate a new sitemap.\"}),`\n`,(0,n.jsx)(e.li,{children:\"All automatic!\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:`Contentlayer offers easy integration with Next.js.\nI'll show you how in the next sections.`}),`\n`,(0,n.jsxs)(e.h2,{id:\"using-mdx-as-data\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#using-mdx-as-data\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Using MDX as Data\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's first explore how to use MDX as a data point.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"MDX offers \",(0,n.jsx)(e.a,{href:\"https://mdxjs.com/guides/frontmatter/\",children:\"YAML frontmatter\"}),` support with custom parsers.\nYou can express the meta data like this:`]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"data/blogs/blog-one.mdx\"}),(0,n.jsx)(e.pre,{className:\"language-md\",children:(0,n.jsxs)(e.code,{className:\"language-md code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token front-matter-block\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"---\"}),`\n`]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token string\",children:[\"'Blog One\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"rocket\",children:\"\\u{1F680}\"}),\"'\"]}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'February 4, 2022'\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Learn how to build a Next.js blog with MDX and Contentlayer!'\"}),`\n`]})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token front-matter-block\",children:[(0,n.jsxs)(e.span,{className:\"token front-matter yaml language-yaml\",children:[(0,n.jsx)(e.span,{className:\"token key atrule\",children:\"cover\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/optimized/articles/blog-one/hero.webp'\"})]}),`\n`]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token front-matter-block\",children:(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"---\"})}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Hey There\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"waving hand\",children:\"\\u{1F44B}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Welcome to Blog One\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"}),` Let's learn together!\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can see the meta data in YAML syntax is inside the \",(0,n.jsx)(e.code,{children:\"---\"}),` block, and the body of the content follows in MDX syntax.\nComparing to the `,(0,n.jsx)(e.a,{href:\"#what-was-the-problem\",children:\"old setup\"}),\" where MDX file were treated as pages, the new MDX file contains only meta data and content.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The next thing we need to do is to generate the blog page that renders the meta data and the content with the layout from \",(0,n.jsx)(e.code,{children:\"\u003cBlog /\u003e\"}),\" component.\"]}),`\n`,(0,n.jsxs)(e.h2,{id:\"integrating-contentlayer-in-nextjs\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#integrating-contentlayer-in-nextjs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Integrating Contentlayer in Next.js\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Now that we updated the MDX files to contain only data and content, Let's move them into the \",(0,n.jsx)(e.code,{children:\"data\"}),\" directory.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The new file structure looks like this:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`my-blog\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 public\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 components\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 Blog.tsx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u251C\\u2500\\u2500 pages\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u251C\\u2500\\u2500 blogs\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"\\u2502   \\u2502   \\u2514\\u2500\\u2500 \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"slug\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`.tsx\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2502   \\u2514\\u2500\\u2500 index.tsx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\\u2514\\u2500\\u2500 data\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    \\u2514\\u2500\\u2500blogs\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`       \\u251C\\u2500\\u2500 blog-one.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`       \\u251C\\u2500\\u2500 blog-two.mdx\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`       \\u2514\\u2500\\u2500 blog-three.mdx\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Notice that we replaced the MDX files in \",(0,n.jsx)(e.code,{children:\"pages/blogs\"}),\" directory with a \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/routing/dynamic-routes\",children:\"dynamic route\"}),\" \",(0,n.jsx)(e.code,{children:\"[slug].tsx\"}),`.\nWe'll use this page to statically generate the blog pages `,(0,n.jsx)(e.a,{href:\"#using-contentlayer-data-for-static-site-generation\",children:\"later\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"configuring-contentlayer\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#configuring-contentlayer\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Configuring Contentlayer\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Contentlayer offers seamless integration with Next.js.\"}),`\n`,(0,n.jsx)(e.p,{children:\"To install the dependencies:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` contentlayer next-contentlayer\n`]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Contentlayer reads the configuration from \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),`.\nLet's create one.`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"touch\"}),` contentlayer.config.ts\n`]})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Inside the \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),\", we need to add instructions to tell Contentlayer how to parse:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"name\"}),\": namespace\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"filePathPattern\"}),\": input files\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"bodyType\"}),\": content body type for parsing\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"fields\"}),\": meta data fields\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"computedFields\"}),\": derived meta data fields\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"contentlayer.config.ts\"}),(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" defineDocumentType\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" makeSource \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'contentlayer/source-files'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" readingTime \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'reading-time'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" Blog \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"defineDocumentType\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  name\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Blog'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  filePathPattern\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'blogs/*.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  bodyType\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  fields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    publishedAt\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    description\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    cover\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" required\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  computedFields\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    readingTime\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'json'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function-variable function\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"readingTime\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"body\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"raw\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    slug\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token function-variable function\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" doc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"_raw\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"sourceFileName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"makeSource\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  contentDirPath\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'data'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  documentTypes\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"Blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  mdx\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    remarkPlugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    rehypePlugins\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"In the \",(0,n.jsx)(e.code,{children:\"computedFields\"}),\", we can compute data like \",(0,n.jsx)(e.code,{children:\"readingTime\"}),\" from the content body\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F929}\"}),`.\nI'm using `,(0,n.jsx)(e.a,{href:\"https://github.com/ngryman/reading-time\",children:(0,n.jsx)(e.code,{children:\"reading-time\"})}),` for calculating the reading time based on word count.\nThe `,(0,n.jsx)(e.code,{children:\"slug\"}),\" field is for generating the dynamic route later in the \",(0,n.jsx)(e.code,{children:\"[slug].tsx\"}),\" page.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Under the hood, Contentlayer uses \",(0,n.jsx)(e.a,{href:\"https://github.com/kentcdodds/mdx-bundler\",children:(0,n.jsx)(e.code,{children:\"mdx-bundler\"})}),` to parse MDX and YAML frontmatter and extract the content and data.\nIf you're interested in the magic behind it, you can read more about `,(0,n.jsx)(e.a,{href:\"https://github.com/jonschlinkert/gray-matter\",children:(0,n.jsx)(e.code,{children:\"gray-matter\"})}),\" and \",(0,n.jsx)(e.a,{href:\"https://github.com/remcohaszing/remark-mdx-frontmatter\",children:(0,n.jsx)(e.code,{children:\"remark-mdx-frontmatter\"})}),`.\nThese are the libraries `,(0,n.jsx)(e.code,{children:\"mdx-bundler\"}),\" uses internally.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"At the end of the configuration, \",(0,n.jsx)(e.code,{children:\"makeSource\"}),\" will then look for files that match \",(0,n.jsx)(e.code,{children:\"blogs/*.mdx\"}),\" pattern under \",(0,n.jsx)(e.code,{children:\"data\"}),\" directory and generate the blog data in \",(0,n.jsx)(e.code,{children:\".contentlayer\"}),\" directory at your project root.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Lastly, wrap your Next.js configuration with \",(0,n.jsx)(e.code,{children:\"next-contentlayer\"}),\" to integrate with Next.js's live-reload and build process.\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"next.config.js\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" withContentlayer \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'next-contentlayer'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"withContentlayer\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// ... your Next.js config\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"using-contentlayer-data-for-static-site-generation\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#using-contentlayer-data-for-static-site-generation\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Using Contentlayer data for Static Site Generation\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We are ready to use the generated data from Contentlayer and build the static pages\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F929}\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"All we need to do is to use \",(0,n.jsx)(e.code,{children:\"allBlogs\"}),\" from \",(0,n.jsx)(e.code,{children:\".contentlayer/data\"}),\" to build the dynamic routes with \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-paths\",children:(0,n.jsx)(e.code,{children:\"getStaticPaths\"})}),\" and use \",(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-props\",children:(0,n.jsx)(e.code,{children:\"getStaticProps\"})}),\" to pass the blog data to the \",(0,n.jsx)(e.code,{children:\"[slug].tsx\"}),\" page.\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"pages/blogs/[slug].tsx\"}),(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" useMDXComponent \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'next-contentlayer/hooks'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" allBlogs \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.contentlayer/data'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.contentlayer/types'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogLayout\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'../../../components/Blog'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BlogProps\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  blog\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Blog\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"Blog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" blog \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"BlogProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Component\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"useMDXComponent\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"post\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"body\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"code\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BlogLayout\"})]}),\" \",(0,n.jsxs)(e.span,{className:\"token spread\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Component\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(e.span,{className:\"token class-name\",children:\"BlogLayout\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getStaticPaths\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    paths\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" allBlogs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" params\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" slug\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    fallback\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getStaticProps\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" params \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" blog \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" allBlogs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" params\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" props\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" blog \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"After the project is built, you'll see the blogs available at \",(0,n.jsx)(e.code,{children:\"/blogs/blog-one\"}),\", \",(0,n.jsx)(e.code,{children:\"/blogs/blog-two\"}),\", and \",(0,n.jsx)(e.code,{children:\"/blogs/blog-three\"}),(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"sparkles\",children:\"\\u2728\"})]}),`\n`,(0,n.jsxs)(e.h3,{id:\"bonus-remark--rehype-plugins\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#bonus-remark--rehype-plugins\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Bonus: remark \u0026 rehype Plugins\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"There are a lot more we can do with MDX by leveraging remark and rehype plugins in the \",(0,n.jsx)(e.code,{children:\"contentlayer.config.ts\"}),\".\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark\",children:\"remark\"}),\" is an awesome plugin ecosystem that transforms markdown.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype\",children:\"rehype\"}),\" is another powerful plugin ecosystem that transforms HTML.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:`They are two separate ecosystems but we can convert remark to rehype and generate HTML markup.\nThe transformation looks like this:`}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"MDX ----\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" remark AST ------\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" rehype AST --------\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),` HTML\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    parse            convert            stringify\n`})]})}),`\n`,(0,n.jsx)(e.p,{children:`Contentlayer takes care of the flow.\nAll we need to do is adding the plugins to provide instruction for the transformations.\nI'm using the following plugins:`}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark-gfm\",children:(0,n.jsx)(e.code,{children:\"remark-gfm\"})}),\" to support \",(0,n.jsx)(e.a,{href:\"https://github.github.com/gfm/\",children:\"GitHub Flavored Markdown\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-slug\",children:(0,n.jsx)(e.code,{children:\"rehype-slug\"})}),\" and \",(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-autolink-headings\",children:(0,n.jsx)(e.code,{children:\"rehype-autolink-headings\"})}),\" to render heading links.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/timlrx/rehype-prism-plus\",children:(0,n.jsx)(e.code,{children:\"rehype-prism-plus\"})}),\" to render syntax highlighting in code blocks.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/rockchalkwushock/rehype-code-titles\",children:(0,n.jsx)(e.code,{children:\"rehype-code-titles\"})}),\" to render code block titles.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/rehype-accessible-emojis\",children:(0,n.jsx)(e.code,{children:\"rehype-accessible-emojis\"})}),\" to provide accessibility to emojis.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"contentlayer.config.ts\"}),(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import remarkGfm from 'remark-gfm'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypeSlug from 'rehype-slug'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypeAutolinkHeadings from 'rehype-autolink-headings'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypeCodeTitles from 'rehype-code-titles'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import rehypePrism from 'rehype-prism-plus'\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:` import { rehypeAccessibleEmojis } from 'rehype-accessible-emojis'\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`// ...\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`export default makeSource({\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:` mdx: {\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token unchanged\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    remarkPlugins: [],\n`})]})]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    remarkPlugins: [remarkGfm],\n`})]})]}),(0,n.jsxs)(e.span,{className:\"code-line deleted\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token deleted-sign deleted\",children:[(0,n.jsx)(e.span,{className:\"token prefix deleted\",children:\"-\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    rehypePlugins: [],\n`})]})]}),(0,n.jsxs)(e.span,{className:\"code-line inserted\",children:[(0,n.jsx)(e.span,{className:\"token deleted-sign deleted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    rehypePlugins: [\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeSlug,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeCodeTitles,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypePrism,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeAutolinkHeadings,\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`      rehypeAccessibleEmojis,\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:`   ],\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:` },\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token unchanged\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),`})\n`]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"contentlayer-applications\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#contentlayer-applications\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Contentlayer Applications\"]}),`\n`,(0,n.jsx)(e.p,{children:\"There are more things we can do with the data.\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"application-1-rss-feed\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#application-1-rss-feed\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Application #1: RSS Feed\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"I can now write a script to generate a RSS feed base on the \",(0,n.jsx)(e.code,{children:\"allBlogs\"}),\" data!\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"scripts/rss.mjs\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" writeFileSync \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'fs'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"RSS\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'rss'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" allBlogs \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'.contentlayer/data'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" feed \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"RSS\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"My Blogs\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"feed_url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'localhost:3000/rss.xml'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"site_url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'localhost:3000'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"allBlogs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"blog\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"description\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"url\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"localhost:3000/blogs/\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"slug\"}),(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"date\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" blog\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"publishedAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"item\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  feed\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"item\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"item\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"writeFileSync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'./public/rss.xml'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" feed\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"xml\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"indent\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.h3,{id:\"application-2-xml-sitemap\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#application-2-xml-sitemap\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Application #2: XML Sitemap\"]}),`\n`,(0,n.jsxs)(e.p,{children:[`It's easier to write a script for sitemap generation.\nAll we need is the file structure in the `,(0,n.jsx)(e.code,{children:\"data\"}),\" and \",(0,n.jsx)(e.code,{children:\"page\"}),\" directories.\"]}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"scripts/sitemap.mjs\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" writeFileSync \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'fs'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsxs)(e.span,{className:\"token imports\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" globby \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'globby'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"prettier\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'prettier'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" pages \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"globby\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'pages/*.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'data/**/*.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'!pages/_*.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" urlTags \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` pages\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"file\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    file\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'pages'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'data/content'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.tsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'.mdx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"path \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/index'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'/'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      \u003curl\u003e\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"          \u003cloc\u003elocalhost:3000\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"path\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:`\u003c/loc\u003e\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`      \u003c/url\u003e\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"    \"}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"join\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" sitemap \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})]}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  \u003curlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\u003e\n`})})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\",children:\"      \"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"urlTags\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:`\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line\",children:(0,n.jsx)(e.span,{className:\"token template-string\",children:(0,n.jsx)(e.span,{className:\"token string\",children:`  \u003c/urlset\u003e\n`})})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token string\"}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" prettierConfig \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"await\"}),\" prettier\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"resolveConfig\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'./prettierrc'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" formatted \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" prettier\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token method function property-access\",children:\"format\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"sitemap\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"prettierConfig\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"parser\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'html'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"writeFileSync\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'public/sitemap.xml'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" formatted\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"Run both scripts after building the project and automatically generate a new RSS feed and sitemap.\"}),`\n`,(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"package.json\"}),(0,n.jsx)(e.pre,{className:\"language-diff\",children:(0,n.jsxs)(e.code,{className:\"language-diff code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`\"scripts\": {\n`}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    \"sitemap\": \"node scripts/sitemap.mjs\",\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    \"rss\": \"node scripts/rss.mjs\",\n`})]})}),(0,n.jsx)(e.span,{className:\"code-line inserted\",children:(0,n.jsxs)(e.span,{className:\"token inserted-sign inserted\",children:[(0,n.jsx)(e.span,{className:\"token line\"}),(0,n.jsx)(e.span,{className:\"token prefix inserted\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token line\",children:`    \"postbuild\": \"yarn sitemap \u0026\u0026 yarn rss\",\n`})]})}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token inserted-sign inserted\",children:(0,n.jsx)(e.span,{className:\"token line\"})}),(0,n.jsxs)(e.span,{className:\"token unchanged\",children:[(0,n.jsx)(e.span,{className:\"token prefix unchanged\",children:\" \"}),(0,n.jsx)(e.span,{className:\"token line\",children:` },\n`})]})]})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"final-thoughts\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#final-thoughts\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Final Thoughts\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Building Static sites with Next.js becomes so effortless with MDX and Contentlayer.\"}),`\n`,(0,n.jsx)(e.p,{children:`MDX combines with remark and rehype ecosystem enriches the possibility of building consistent pages with Markdown.\nContentlayer makes data and content in MDX files available to consume in Next.js projects.`}),`\n`,(0,n.jsxs)(e.p,{children:[`If you're exploring ways to build your own static sites, checkout the libraries mentioned earlier.\nIt not only reduces the time to market, but also is a lot of fun to build!`,(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"unicorn face\",children:\"\\u{1F984}\"})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"references\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#references\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"References\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/contentlayerdev/contentlayer\",children:\"GitHub: Contentlayer\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/dylang/node-rss\",children:\"GitHub: rss\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark\",children:\"GitHub: remark\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype\",children:\"GitHub: rehype\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-slug\",children:\"GitHub: rehype-slug\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rehypejs/rehype-autolink-headings\",children:\"GitHub: rehype-autolink-headings\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/timlrx/rehype-prism-plus\",children:\"GitHub: rehype-prism-plus\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/rockchalkwushock/rehype-code-titles\",children:\"GitHub: rehype-code-titles\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/mdx-js/mdx/tree/main/packages/loader\",children:\"GitHub: @mdx-js/loader\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/ngryman/reading-time\",children:\"GitHub: reading-time\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/remarkjs/remark-gfm\",children:\"GitHub: remark-gfm\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/kentcdodds/mdx-bundler\",children:\"GitHub: mdx-bundler\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/jonschlinkert/gray-matter\",children:\"GitHub: gray-matter\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/remcohaszing/remark-mdx-frontmatter\",children:\"GitHub: remark-mdx-frontmatter\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/dylang/node-rss\",children:\"GitHub: rss\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/sindresorhus/globby\",children:\"GitHub: globby\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/@next/mdx\",children:\"npm: @next/mdx\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/rehype-accessible-emojis\",children:\"npm: rehype-accessible-emojis\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://leerob.io/\",children:\"Website: Lee Robinson's portfolio\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://mdxjs.com/\",children:\"Website: MDX\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/advanced-features/using-mdx\",children:\"Website: Using MDX with Next.js\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/\",children:\"Website: Next.js\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/routing/dynamic-routes\",children:\"Website: Next.js Dynamic Routes\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-paths\",children:\"Website: Next.js getStaticPaths\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nextjs.org/docs/api-reference/data-fetching/get-static-props\",children:\"Website: Next.js getStaticProps\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://mdxjs.com/guides/frontmatter/\",children:\"Website: Frontmatter\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/URI_fragment\",children:\"Website: URI Fragment\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developers.google.com/search/docs/advanced/sitemaps/overview\",children:\"Website: Learn about sitemaps\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://nodejs.org/api/esm.html#modules-ecmascript-modules\",children:\"Website: ESMAScript modules\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.github.com/gfm\",children:\"Website: GitHub Flavored Markdown Spec\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\",children:\"Website: Abstract Syntax Tree\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.netlify.com/blog/2020/04/14/what-is-a-static-site-generator-and-3-ways-to-find-the-best-one\",children:\"Website: What is a Static Site Generator? And 3 ways to find the best one\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://prettier.io/\",children:\"Website: Prettier\"})}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"speech balloon\",children:\"\\u{1F4AC}\"}),\" See comments on \",(0,n.jsx)(e.a,{href:\"https://www.reddit.com/r/learnjavascript/comments/smz0fs/building_better_nextjs_static_sites_with_mdx_and/?utm_source=share\u0026utm_medium=web2x\u0026context=3\",children:\"Reddit\"}),\".\"]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"Here you have it! Thanks for reading through\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"raising hands\",children:\"\\u{1F64C}\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"If you find it useful, please share this article to help more people in their engineering journey.\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Feel free to connect with me on \",(0,n.jsx)(e.a,{href:\"https://twitter.com/dawchihliou\",children:\"twitter\"}),\"!\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"In my previous article \",(0,n.jsx)(e.a,{href:\"/articles/from-frontend-developer-to-principal-software-engineer\",children:'\"From Frontend Developer to Principal Software Engineer\"'}),\", I shared 50+ books and online resources that helped me in my engineering journey.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you're interested in implementing Binary Trees in Rust, my previous article \",(0,n.jsx)(e.a,{href:\"/articles/binary-tree-insertion-in-rust\",children:'\"Binary Tree Insertion in Rust\"'}),` shared my struggle when I was implementing a Binary Tree.\nIt took me some time to have a grasp on Rust's ownership.`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you're interested in Unicode in Rust and JavaScript, I wrote an article \",(0,n.jsx)(e.a,{href:\"/articles/indexing-strings-in-rust-and-typescript\",children:'\"Indexing Strings in Rust and TypeScript: A Case Study of String\"'}),`.\nThere we discussed how Rust and JavaScript handle strings with a classic algorithm.`]}),`\n`,(0,n.jsx)(e.p,{children:\"Happy coding!\"})]})}function w(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(d,a)})):d(a)}var x=w;return f(j);})();\n;return Component;"},"_id":"articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer.mdx","_raw":{"sourceFilePath":"articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer.mdx","sourceFileName":"build-better-nextjs-static-sites-with-mdx-and-contentlayer.mdx","sourceFileDir":"articles","contentType":"mdx","flattenedPath":"articles/build-better-nextjs-static-sites-with-mdx-and-contentlayer"},"type":"Article","readingTime":{"text":"11 min read","minutes":10.665,"time":639900,"words":2133},"wordCount":2135,"slug":"build-better-nextjs-static-sites-with-mdx-and-contentlayer"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"build-better-nextjs-static-sites-with-mdx-and-contentlayer"},"buildId":"tZ91ouCnryMh0pvVk9zQr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>