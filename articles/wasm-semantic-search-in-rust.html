<!DOCTYPE html><html lang="en"><head><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/svg" sizes="32x32" href="/favicon.svg"/><link rel="icon" type="image/svg" sizes="16x16" href="/favicon.svg"/><link rel="mask-icon" href="/favicon.svg" color="#ffffff"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><meta name="msapplication-TileColor" content="#007cf0"/><meta name="theme-color" content="#ffff"/><title>WASM Semantic Search in Rust</title><meta name="description" content="Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust."/><meta name="robots" content="follow, index"/><link rel="canonical" href="https://dawchihliou.github.io/articles/wasm-semantic-search-in-rust"/><meta itemProp="name" content="WASM Semantic Search in Rust"/><meta itemProp="description" content="Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust."/><meta itemProp="image" content="https://dawchihliou.github.io/optimized/articles/wasm-semantic-search/hero.png"/><meta property="og:title" content="WASM Semantic Search in Rust"/><meta property="og:type" content="website"/><meta property="og:url" content="https://dawchihliou.github.io/articles/wasm-semantic-search-in-rust"/><meta property="og:description" content="Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust."/><meta property="og:image" content="https://dawchihliou.github.io/optimized/articles/wasm-semantic-search/hero.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:width" content="1400"/><meta property="og:image:height" content="700"/><meta property="og:image:alt" content="Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@dawchihliou"/><meta name="twitter:creator" content="@dawchihliou"/><meta name="twitter:title" content="WASM Semantic Search in Rust"/><meta name="twitter:description" content="Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust."/><meta name="twitter:image" content="https://dawchihliou.github.io/optimized/articles/wasm-semantic-search/hero.webp"/><meta property="article:published_time" content="2023-03-10T00:00:00.000Z"/><meta property="article:section" content="Article Section"/><meta property="article:tag" content="Article Tag"/><meta name="next-head-count" content="34"/><link rel="preload" href="/_next/static/css/f4214c3b71874d65.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f4214c3b71874d65.css" data-n-g=""/><link rel="preload" href="/_next/static/css/54ba867c7255694d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/54ba867c7255694d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-58359fbd59695650.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-010ff0b6bbe5ac8f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-571a343ce648ab47.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bslug%5D-6aa06637217e2cb9.js" defer=""></script><script src="/_next/static/k4PsEQoHa5TXNOL0ZP_qx/_buildManifest.js" defer=""></script><script src="/_next/static/k4PsEQoHa5TXNOL0ZP_qx/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div id="outer-container"><header><div><div class="bm-overlay" style="position:fixed;z-index:1000;width:100%;height:100%;background:rgba(0, 0, 0, 0.3);opacity:0;-moz-transform:translate3d(100%, 0, 0);-ms-transform:translate3d(100%, 0, 0);-o-transform:translate3d(100%, 0, 0);-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);transition:opacity 0.3s, transform 0s 0.3s"></div><div><div class="bm-burger-button" style="z-index:1000"><button id="react-burger-menu-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer">Open Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-icon" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div></div><div id="" class="bm-menu-wrap" style="position:fixed;right:inherit;z-index:1100;width:300px;height:100%;-moz-transform:translate3d(-100%, 0, 0);-ms-transform:translate3d(-100%, 0, 0);-o-transform:translate3d(-100%, 0, 0);-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);transition:all 0.5s" aria-hidden="true"><div class="bm-menu" style="height:100%;box-sizing:border-box;overflow:auto"><nav class="bm-item-list" style="height:100%"><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/"><button class="Nav_button__YJwKE" tabindex="-1">Home</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/articles"><button class="Nav_button__YJwKE" tabindex="-1">Articles</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/work"><button class="Nav_button__YJwKE" tabindex="-1">Work</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/now"><button class="Nav_button__YJwKE" tabindex="-1">Now</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/expertise"><button class="Nav_button__YJwKE" tabindex="-1">Expertise</button></a><a class="styles_anchor__g18qA bm-item Nav_link__ZgDoZ" style="display:block" tabindex="-1" href="/contact"><button class="Nav_button__YJwKE" tabindex="-1">Contact</button></a><span class="bm-item Nav_pusher__93Gc6" style="display:block" tabindex="-1"></span><span class="bm-item Nav_divider__QD8Pt" style="display:block" tabindex="-1"></span><div class="bm-item Nav_profile__Kf2nU" style="display:block" tabindex="-1"><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Linkedin profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M20.45175,20.45025 L16.89225,20.45025 L16.89225,14.88075 C16.89225,13.5525 16.86975,11.844 15.04275,11.844 C13.191,11.844 12.90825,13.2915 12.90825,14.7855 L12.90825,20.45025 L9.3525,20.45025 L9.3525,8.997 L12.765,8.997 L12.765,10.563 L12.81375,10.563 C13.2885,9.66225 14.4495,8.71275 16.18125,8.71275 C19.78575,8.71275 20.45175,11.08425 20.45175,14.169 L20.45175,20.45025 Z M5.33925,7.4325 C4.1955,7.4325 3.27375,6.50775 3.27375,5.36775 C3.27375,4.2285 4.1955,3.30375 5.33925,3.30375 C6.47775,3.30375 7.4025,4.2285 7.4025,5.36775 C7.4025,6.50775 6.47775,7.4325 5.33925,7.4325 L5.33925,7.4325 Z M7.11975,20.45025 L3.5565,20.45025 L3.5565,8.997 L7.11975,8.997 L7.11975,20.45025 Z M23.00025,0 L1.0005,0 C0.44775,0 0,0.44775 0,0.99975 L0,22.9995 C0,23.55225 0.44775,24 1.0005,24 L23.00025,24 C23.55225,24 24,23.55225 24,22.9995 L24,0.99975 C24,0.44775 23.55225,0 23.00025,0 L23.00025,0 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="Link to Daw-Chih&#x27;s GitHub profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou" aria-label="Link to Daw-Chih&#x27;s Medium profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2.84593838,5.88685595 C2.87575654,5.59224254 2.76340763,5.30104995 2.54341737,5.10276397 L0.302521008,2.4032473 L0.302521008,2 L7.2605042,2 L12.6386555,13.7949836 L17.3669469,2 L24,2 L24,2.4032473 L22.0840336,4.2402628 C21.9188563,4.36617057 21.8369199,4.57310892 21.8711485,4.77792587 L21.8711485,18.2755093 C21.8369199,18.4803262 21.9188563,18.6872645 22.0840336,18.8131723 L23.9551821,20.6501878 L23.9551821,21.0534351 L14.5434174,21.0534351 L14.5434174,20.6501878 L16.4817928,18.7683671 C16.6722689,18.5779447 16.6722689,18.5219382 16.6722689,18.2307041 L16.6722689,7.32062416 L11.2829132,21.0086299 L10.5546219,21.0086299 L4.28011204,7.32062416 L4.28011204,16.4945003 C4.22779746,16.8801958 4.35589372,17.2685069 4.62745097,17.5474239 L7.14845938,20.6053826 L7.14845938,21.0086299 L0,21.0086299 L0,20.6053826 L2.5210084,17.5474239 C2.79058848,17.2680445 2.91121535,16.8771576 2.84593838,16.4945003 L2.84593838,5.88685595 Z"></path></svg></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Hackernoon profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M5.701 0v6.223H8.85V4.654h1.576v7.842H12V4.654h1.574v1.569h3.15V0zm11.024 6.223v3.136h1.574V6.223zm1.574 3.136v4.705h1.576v-1.568h1.574v-1.568h-1.574V9.359zm0 4.705h-1.574v3.137h1.574zm-1.574 3.137h-3.15v1.569H8.85V17.2H5.7V24h11.024zm-11.024 0v-3.137H4.125v3.137zm-1.576-3.137V9.36H2.551v4.705zm0-4.705h1.576V6.223H4.125Z"></path></svg><span hidden="">Link to Daw-Chih&#x27;s Hacker Noon profile</span></a><a class="styles_anchor__g18qA Nav_iconLink__z5y5Q" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou" aria-label="Link to Daw-Chih&#x27;s Twitter profile" tabindex="-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M24,4.3086 C23.117,4.7006 22.168,4.9646 21.172,5.0836 C22.188,4.4746 22.969,3.5096 23.337,2.3596 C22.386,2.9246 21.332,3.3336 20.21,3.5556 C19.312,2.5976 18.032,1.9996 16.616,1.9996 C13.897,1.9996 11.692,4.2046 11.692,6.9236 C11.692,7.3096 11.736,7.6856 11.82,8.0456 C7.728,7.8406 4.099,5.8806 1.671,2.9006 C1.247,3.6286 1.004,4.4736 1.004,5.3766 C1.004,7.0846 1.873,8.5926 3.195,9.4756 C2.388,9.4486 1.628,9.2276 0.964,8.8596 L0.964,8.9206 C0.964,11.3066 2.661,13.2966 4.914,13.7486 C4.501,13.8626 4.065,13.9216 3.617,13.9216 C3.299,13.9216 2.991,13.8906 2.69,13.8336 C3.317,15.7896 5.135,17.2136 7.29,17.2536 C5.604,18.5736 3.481,19.3606 1.175,19.3606 C0.777,19.3606 0.385,19.3376 0,19.2926 C2.179,20.6886 4.767,21.5046 7.548,21.5046 C16.605,21.5046 21.557,14.0016 21.557,7.4946 C21.557,7.2816 21.552,7.0696 21.543,6.8586 C22.505,6.1636 23.34,5.2966 24,4.3086"></path></svg></a></div><div class="DarkmodeSwitch_container__uFGHQ" tabindex="-1"><div class="DarkmodeSwitch_wrap__e71_4"></div></div></nav></div><div><div class="bm-cross-button" style="position:absolute;width:24px;height:24px;right:8px;top:8px"><button id="react-burger-cross-btn" style="position:absolute;left:0;top:0;z-index:1;width:100%;height:100%;margin:0;padding:0;border:none;font-size:0;background:transparent;cursor:pointer" tabindex="-1">Close Menu</button><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="bm-cross" style="width:100%;height:100%" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div></div></div></header><div class="Menubar_menubar__gvU4b"><a class="styles_anchor__g18qA Menubar_hireMe__zuAig" href="/contact"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>Hire Me</a><div class="DarkmodeSwitch_container__uFGHQ" tabindex="0"><div class="DarkmodeSwitch_wrap__e71_4"></div></div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou" aria-label="See more Daw-Chih&#x27;s work on GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"></path></svg></a></div><div id="page-wrap"><article><div class="Article_container__q__L3"><div class="Article_wrap__LZypL"><h1>WASM Semantic Search in Rust</h1><div class="Article_info__bOKys"><div class="Article_author__grS8U"><img alt="Daw-Chih Liou" src="/optimized/raw/portrait-sm.webp" loading="lazy"/><p>Daw-Chih Liou</p></div><p>March 10, 2023<!-- --> · 8 min read</p></div><img alt="WASM Semantic Search in Rust" src="/optimized/articles/wasm-semantic-search/hero.webp" width="100%" loading="lazy"/><div class="article-content"><h2 id="in-this-article"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#in-this-article"><span class="icon icon-link"></span></a>In this article</h2>
<ul>
<li><span role="img" aria-label="left-pointing magnifying glass">🔍</span> We&#x27;ll learn what semantic search is.</li>
<li><span role="img" aria-label="party popper">🎉</span> We&#x27;ll discuss how semantic search impacts the user experience</li>
<li><span role="img" aria-label="crab">🦀</span> We&#x27;ll see the use case of a new npm library called Voy, a WASM vector similarity search engine written in Rust.</li>
</ul>
<p>Let&#x27;s go.</p>
<hr/>
<h2 id="what-is-semantic-search"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#what-is-semantic-search"><span class="icon icon-link"></span></a>What Is Semantic Search?</h2>
<p>Semantic search is a type of search that focuses on meanings. You can search with human language or vague concepts, and the search result will give you similar data points in the database based on the semantics of your search query.</p>
<p>It almost feels like semantic search engines &quot;understand&quot; the meaning of your questions. You can ask any question in your natural language like &quot;Which Marvel movie to watch after Shang-Chi?&quot;. The engines understand the meaning and why you ask that question and it returns the most relevant results back to you.</p>
<p>In fact, semantic search engines commonly use pre-trained <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Neural_network">Neural Networks</a> models to understand the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Semantic_search">search intent and contextual meanings</a>, and generate a computational representation of the search queries and database. We often refer to the representation as &quot;vector embeddings&quot; or &quot;embeddings&quot;. The engine will then classify the embeddings and find the nearest neighbors of the search query embeddings. The nearest neighbors are the data points that are the most relevant to what you&#x27;re looking for.</p>
<p>To illustrate how semantic search works:</p>
<img src="https://1.bp.blogspot.com/-Rsymb9XvPOE/Xx8rfRnmTHI/AAAAAAAAGRQ/U2n_bBNXS4IBstYrx2IalrFXufLUvmn2gCLcBGAsYHQ/s1600/ScaNN%2Btom%2Bexport.gif" alt="See https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html" width="100%" class="rounded centered" loading="lazy"/>
<blockquote>
<p>The image originated from Google Research&#x27;s blog &quot;<a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html">Announcing ScaNN: Efficient Vector Similarity Search</a>&quot;.</p>
</blockquote>
<h2 id="who-uses-semantic-search"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#who-uses-semantic-search"><span class="icon icon-link"></span></a>Who Uses Semantic Search?</h2>
<p>Semantic search is everywhere. It&#x27;s so valuable because it has a big impact on user experience:</p>
<ul>
<li>Users are able to search and access digital content in a more human way.</li>
<li>Search engines are able to provide more relevant and helpful content to the users and make <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://searchengineland.com/semantic-search-entity-based-search-388221">SEO strategy</a> around keywords irrelevant.</li>
<li>Search can be <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://cloud.google.com/blog/topics/developers-practitioners/find-anything-blazingly-fast-googles-vector-search-technology">blazingly fast</a> for big data.</li>
<li>Search isn&#x27;t limited to text anymore. We can create embeddings from different types of digital content, like images and videos.</li>
</ul>
<p>Some examples of the major companies that integrated semantic search:</p>
<ul>
<li>Google: <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Google_Hummingbird">Hummingbird</a></li>
<li>Amazon: <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.amazon.science/publications/semantic-product-search">Semantic product search</a></li>
<li>Spotify: <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://engineering.atspotify.com/2022/03/introducing-natural-language-search-for-podcast-episodes/">Natural Language Search</a></li>
<li>Meta: <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/">Facebook AI Similarity Search</a></li>
<li>Redis: <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://redis.com/blog/build-intelligent-apps-redis-vector-similarity-search/">Redis Vector Similarity Search</a></li>
</ul>
<h2 id="introducing-voy"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#introducing-voy"><span class="icon icon-link"></span></a>Introducing Voy</h2>
<p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/tantaraio/voy">Voy</a> is an open source semantic search engine in <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://webassembly.org">WebAssembly</a> (WASM). I created it to empower more projects to build semantic features and create better user experience for people around the world. Voy follows several design principles:</p>
<ul>
<li><span role="img" aria-label="" aria-hidden="true">🤏</span> <strong>Tiny</strong>: Reduce overhead for limited devices, such as mobile browsers with slow network or IoT.</li>
<li><span role="img" aria-label="" aria-hidden="true">⚡</span>️ <strong>Fast</strong>: Create the best search experience for the users.</li>
<li><span role="img" aria-label="deciduous tree">🌳</span> <strong>Tree Shackable</strong>: Optimize bundle size and enable asynchronous capabilities for modern Web API, such as <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers</a>.</li>
<li><span role="img" aria-label="battery">🔋</span> <strong>Resumable</strong>: Generate portable embeddings index anywhere, anytime.</li>
<li><span role="img" aria-label="cloud">☁️</span> <strong>Edgy</strong>: Run semantic search on CDN edge servers.</li>
</ul>
<p>It&#x27;s available on npm. You can simply install it with your favorite package manager and start using it.</p>
<pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line"><span class="token comment"># with npm</span>
</span><span class="code-line"><span class="token function">npm</span> i voy-search
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># with Yarn</span>
</span><span class="code-line"><span class="token function">yarn</span> <span class="token function">add</span> voy-search
</span><span class="code-line">
</span><span class="code-line"><span class="token comment"># with pnpm</span>
</span><span class="code-line"><span class="token function">pnpm</span> <span class="token function">add</span> voy-search
</span></code></pre>
<p>To demonstrate what it looks like:</p>
<img src="/articles/wasm-semantic-search/voy.gif" alt="PNG and WebP comparison" width="100%" class="rounded centered" loading="lazy"/>
<blockquote>
<p>You can find the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/tantaraio/voy">Voy&#x27;s repository on GitHub</a>! Feel free to try it out.</p>
<p>The repository includes an <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/tantaraio/voy/tree/main/example">example</a> where you can see how to load the WASM module with <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://webpack.js.org">Webpack 5</a>.</p>
</blockquote>
<p>Let&#x27;s break it down a bit to see what it did. First, the demo was loading the WASM module asynchronously. After loading, it started indexing the following phrases:</p>
<ul>
<li>&quot;This is a very happy Person&quot;</li>
<li>&quot;That is a Happy Dog&quot;</li>
<li>&quot;Today is a sunny day&quot;</li>
</ul>
<p>Indexing is where we transforms the phrases into embeddings and organize them in a embedding space. Once the index was ready, the demo performed a similarity search with the phrase &quot;That is a happy Person&quot;. Finally we saw the search result returns &quot;This is a very happy Person&quot; as the top result.</p>
<p>We can reason about the credibility of the result because &quot;This is a happy Person&quot; does have the highest semantic similarity to &quot;This is a very happy Person&quot;.</p>
<h2 id="how-does-voy-work"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#how-does-voy-work"><span class="icon icon-link"></span></a>How does Voy Work?</h2>
<p>Voy takes care of two things:</p>
<ul>
<li>Indexing resources.</li>
<li>Retrieving nearest neighbors from the index.</li>
</ul>
<h3 id="index-resources"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#index-resources"><span class="icon icon-link"></span></a>Index Resources</h3>
<blockquote>
<p>To demonstrate, we&#x27;ll use &quot;text&quot; as our resource.</p>
</blockquote>
<p>The embeddings are organized and stored in a <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/K-d_tree">k-d tree</a> under the hood. k-d tree is a data structure for organizing data in a k-dimensional space. It is very useful for our vector embeddings index because the embeddings are fixed floating arrays.</p>
<p>As of now, packaging an embeddings transformers into WASM is still under development. So Voy relies on other libraries like <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/visheratin/web-ai">Web AI</a> to generate embeddings.</p>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// Dynamically import Voy</span>
</span><span class="code-line"><span class="token keyword">const</span> voy <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;voy&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> phrases <span class="token operator">=</span> <span class="token punctuation">[</span>
</span><span class="code-line">  <span class="token string">&#x27;That is a very happy Person&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token string">&#x27;That is a Happy Dog&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token string">&#x27;Today is a sunny day&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">]</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Use web-ai to create text embeddings</span>
</span><span class="code-line"><span class="token keyword">const</span> model <span class="token operator">=</span> <span class="token keyword">await</span><span class="token punctuation">(</span><span class="token keyword">await</span> TextModel<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&#x27;gtr-t5-quant&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>model
</span><span class="code-line"><span class="token keyword">const</span> processed <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>phrases<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> model<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Index embeddings with Voy</span>
</span><span class="code-line"><span class="token keyword">const</span> data <span class="token operator">=</span> processed<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> result <span class="token punctuation">}</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  id<span class="token operator">:</span> <span class="token function">String</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  title<span class="token operator">:</span> phrases<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/path/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// link to your resource for the search result</span>
</span><span class="code-line">  embeddings<span class="token operator">:</span> result<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> index <span class="token operator">=</span> voy<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">{</span> embeddings<span class="token operator">:</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// index is a serialized k-d tree</span>
</span></code></pre>
<p>As you can see, after executing <strong>voy.index()</strong>, it returns a serialized index. It allows Voy to deserialize the index when executing searches without being in the same environment. For example, the index can be created in build time and ship the serialized index to the client to perform searches. It is referred as the <strong>resumability</strong>.</p>
<h3 id="retrieve-nearest-neighbors"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#retrieve-nearest-neighbors"><span class="icon icon-link"></span></a>Retrieve Nearest Neighbors</h3>
<pre class="language-ts"><code class="language-ts code-highlight"><span class="code-line"><span class="token comment">// Create query embeddings</span>
</span><span class="code-line"><span class="token keyword">const</span> query <span class="token operator">=</span> <span class="token keyword">await</span> model<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">&#x27;That is a happy Person&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Search with Voy and return the 1 result</span>
</span><span class="code-line"><span class="token keyword">const</span> nearests <span class="token operator">=</span> voy<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> query<span class="token punctuation">.</span>result<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Display vector similarity search result</span>
</span><span class="code-line">nearests<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><span role="img" aria-label="" aria-hidden="true">🕸️</span> voy similarity search result <span role="img" aria-label="backhand index pointing right">👉</span> &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token comment">// That is a very happy Person</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre>
<p>Internally, Voy uses Squared <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean distance</a> to calculate the nearest neighbors. There&#x27;re a few ways to calculate the distance between points. Here the points are the nodes of the embeddings object in the k-d tree. The common formulas are:</p>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean distance</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Taxicab_geometry">Manhattan distance</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Cosine_similarity">Cosine similarity</a></li>
</ul>
<img src="/optimized/articles/wasm-semantic-search/distance-matrics.webp" alt="Common distance metrics: Euclidean distance, Manhattan distance, and Cosine similarity" width="100%" class="rounded centered" loading="lazy"/>
<h2 id="final-thoughts"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#final-thoughts"><span class="icon icon-link"></span></a>Final Thoughts</h2>
<p>Voy is created to make semantic accessible for developers to build, ship, and create user value. It still has a few more steps to be a self-sufficient semantic search engine. If you&#x27;re interested, you can follow Voy&#x27;s <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/orgs/tantaraio/projects/2/views/1">public roadmap</a>.</p>
<p>If you believe in Voy&#x27;s mission and would like to support the project, please check out the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/tantaraio/voy">sponsor section</a> on the GitHub repository.</p>
<p>If you are interested in some of the open source embeddings transformers, here are some of the projects I experimented with:</p>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/spotify/annoy">spotify/annoy</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/facebookresearch/faiss">facebookresearch/faiss</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/google-research/bert">google-research/bert</a></li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/UKPLab/sentence-transformers">UKPLab/sentence-transformers</a> with the <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://huggingface.co/sentence-transformers/all-MiniLM-L12-v2">all-MiniLM-L12-v2</a> model</li>
</ul>
<h2 id="references"><a class="styles_anchor__g18qA anchor" href="/articles/wasm-semantic-search-in-rust#references"><span class="icon icon-link"></span></a>References</h2>
<ul>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html">Announcing ScaNN: Efficient Vector Similarity Search</a> - Google Research</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://redis.com/blog/build-intelligent-apps-redis-vector-similarity-search/">Build Intelligent Apps with New Redis Vector Similarity Search</a> - Redis</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Cosine_similarity">Cosine similarity</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean distance</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/facebookresearch/faiss">facebookresearch/faiss</a> - GitHub</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/">Faiss: A library for efficient similarity search</a> - Engineering at Meta</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://cloud.google.com/blog/topics/developers-practitioners/find-anything-blazingly-fast-googles-vector-search-technology">Find anything blazingly fast with Google&#x27;s vector search technology</a> - Google Cloud</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Google_Hummingbird">Google Hummingbird</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/google-research/bert">google-research/bert</a> - GitHub</li>
<li><a class="styles_anchor__g18qA undefined" href="/articles/i-built-a-snappy-full-text-search-with-webassembly-rust-nextjs-and-xor-filters">I Built A Snappy Static Full-text Search with WebAssembly, Rust, Next.js, and Xor Filters</a> - Daw-Chih Liou</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://engineering.atspotify.com/2022/03/introducing-natural-language-search-for-podcast-episodes/">Introducing Natural Language Search for Podcast Episodes</a> - Spotify</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/K-d_tree">k-d tree</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Taxicab_geometry">Manhattan distance</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Nearest_neighbor_search">Nearest neighbor search</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Neural_network">Neural network</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.amazon.science/publications/semantic-product-search">Semantic product search</a> - Amazon Science</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Semantic_search">Semantic search</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://huggingface.co/sentence-transformers/all-MiniLM-L12-v2">sentence-transformers/all-MiniLM-L12-v2</a> - Hugging Face</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Similarity_search">Similarity search</a> - Wikipedia</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/spotify/annoy">spotify/annoy</a> - GitHub</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/tantaraio/voy">tantaraio/voy</a> - GitHub</li>
<li>[UKPLab/sentence-transformers] - GitHub</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/visheratin/web-ai">visheratin/web-ai</a> - GitHub</li>
<li><a class="styles_anchor__g18qA undefined" href="/articles/i-built-a-snappy-full-text-search-with-webassembly-rust-nextjs-and-xor-filters">Voy Roadmap</a> - GitHub Projects</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://searchengineland.com/semantic-search-entity-based-search-388221">What is semantic search: A deep dive into entity-based search</a> - Search Engine Land</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://webassembly.org">WebAssembly</a> - W3C Community Group</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers">Web Workers API</a> - mdn web docs</li>
<li><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://webpack.js.org">Webpack</a> - OpenJS Foundation</li>
</ul>
<hr/>
<p>Here you have it! Thanks for reading through<span role="img" aria-label="raising hands">🙌</span>
If you find this article useful, please share it to help more people in their engineering journey.</p>
<p><span role="img" aria-label="bird">🐦</span> Feel free to connect with me on <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">twitter</a>!</p>
<p><span role="img" aria-label="" aria-hidden="true">⏭️</span> Ready for the next article? <span role="img" aria-label="backhand index pointing right">👉</span> <a class="styles_anchor__g18qA undefined" href="/articles/lean-docker-images-for-nextjs"><strong>Lean Docker Images for Next.JS</strong></a></p>
<p>Happy coding!</p></div><article class="Author_wrap__s8DeE"><img src="/optimized/raw/portrait-sm.webp" alt="Daw-Chih Liou" class="Author_avatar__j6KIn" loading="lazy"/><div><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://dawchihliou.github.io">Daw-Chih Liou</a><p>Daw-Chih is a software engineer, UX advocate, and creator who is dedicated to Web engineering. His background in Human Centered Computing has led him to work with startups and public companies across North America, Asia, and Europe. He is passionate about meeting business trajectory with user journey and utilizing engineering architecture and performance monitoring to provide optimal user experience.</p></div></article></div></div></article><footer class="Footer_footer__1IwEk"><div class="Footer_wrap__FVCTX"><div class="Footer_resources__fG_vu"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">💚</span>This site is built with</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://nextjs.org">Next.js</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://react-icons.github.io/react-icons">React Icons</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://mdxjs.com">MDX</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://unifiedjs.com">unified</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/contentlayerdev/contentlayer">Contentlayer</a></div><div class="Footer_contact__9GJn6"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">🦄</span>Where to find me</p><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Linkedin</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://github.com/DawChihLiou">GitHub</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dawchihliou">Twitter</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://medium.com/@dawchihliou">Medium</a><a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://hackernoon.com/u/dawchihliou">Hacker Noon</a><a class="styles_anchor__g18qA undefined" href="/rss.xml">RSS Feed <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div><div class="Footer_sitemap__92ono"><p><span role="img" aria-label="build with love" class="Footer_emoji__u15jg">🗺</span>Sitemap</p><a class="styles_anchor__g18qA undefined" href="/">Home</a><a class="styles_anchor__g18qA undefined" href="/articles">Articles</a><a class="styles_anchor__g18qA undefined" href="/work">Work</a><a class="styles_anchor__g18qA undefined" href="/now">Now</a><a class="styles_anchor__g18qA undefined" href="/expertise">Expertise</a><a class="styles_anchor__g18qA undefined" href="/contact">Contact</a></div></div><div class="Footer_copyright__vZZRL">© <!-- -->2023<!-- --> <a class="styles_anchor__g18qA undefined" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/dawchihliou">Daw-Chih Liou</a></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"WASM Semantic Search in Rust","publishedAt":"March 10, 2023","description":"Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust.","cover":"/optimized/articles/wasm-semantic-search/hero.webp","category":"Cloud","coverWidth":"1400","coverHeight":"700","body":{"raw":"\n## In this article\n\n- 🔍 We'll learn what semantic search is.\n- 🎉 We'll discuss how semantic search impacts the user experience\n- 🦀 We'll see the use case of a new npm library called Voy, a WASM vector similarity search engine written in Rust.\n\nLet's go.\n\n---\n\n## What Is Semantic Search?\n\nSemantic search is a type of search that focuses on meanings. You can search with human language or vague concepts, and the search result will give you similar data points in the database based on the semantics of your search query.\n\nIt almost feels like semantic search engines \"understand\" the meaning of your questions. You can ask any question in your natural language like \"Which Marvel movie to watch after Shang-Chi?\". The engines understand the meaning and why you ask that question and it returns the most relevant results back to you.\n\nIn fact, semantic search engines commonly use pre-trained [Neural Networks][8] models to understand the [search intent and contextual meanings][3], and generate a computational representation of the search queries and database. We often refer to the representation as \"vector embeddings\" or \"embeddings\". The engine will then classify the embeddings and find the nearest neighbors of the search query embeddings. The nearest neighbors are the data points that are the most relevant to what you're looking for.\n\nTo illustrate how semantic search works:\n\n\u003cimg\n  src=\"https://1.bp.blogspot.com/-Rsymb9XvPOE/Xx8rfRnmTHI/AAAAAAAAGRQ/U2n_bBNXS4IBstYrx2IalrFXufLUvmn2gCLcBGAsYHQ/s1600/ScaNN%2Btom%2Bexport.gif\"\n  alt=\"See https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\n\u003e The image originated from Google Research's blog \"[Announcing ScaNN: Efficient Vector Similarity Search][10]\".\n\n## Who Uses Semantic Search?\n\nSemantic search is everywhere. It's so valuable because it has a big impact on user experience:\n\n- Users are able to search and access digital content in a more human way.\n- Search engines are able to provide more relevant and helpful content to the users and make [SEO strategy][2] around keywords irrelevant.\n- Search can be [blazingly fast][5] for big data.\n- Search isn't limited to text anymore. We can create embeddings from different types of digital content, like images and videos.\n\nSome examples of the major companies that integrated semantic search:\n\n- Google: [Hummingbird][1]\n- Amazon: [Semantic product search][15]\n- Spotify: [Natural Language Search][19]\n- Meta: [Facebook AI Similarity Search][11]\n- Redis: [Redis Vector Similarity Search][4]\n\n## Introducing Voy\n\n[Voy][13] is an open source semantic search engine in [WebAssembly][20] (WASM). I created it to empower more projects to build semantic features and create better user experience for people around the world. Voy follows several design principles:\n\n- 🤏 **Tiny**: Reduce overhead for limited devices, such as mobile browsers with slow network or IoT.\n- ⚡️ **Fast**: Create the best search experience for the users.\n- 🌳 **Tree Shackable**: Optimize bundle size and enable asynchronous capabilities for modern Web API, such as [Web Workers][22].\n- 🔋 **Resumable**: Generate portable embeddings index anywhere, anytime.\n- ☁️ **Edgy**: Run semantic search on CDN edge servers.\n\nIt's available on npm. You can simply install it with your favorite package manager and start using it.\n\n```bash\n# with npm\nnpm i voy-search\n\n# with Yarn\nyarn add voy-search\n\n# with pnpm\npnpm add voy-search\n```\n\nTo demonstrate what it looks like:\n\n\u003cimg\n  src=\"/articles/wasm-semantic-search/voy.gif\"\n  alt=\"PNG and WebP comparison\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\n\u003e You can find the [Voy's repository on GitHub][13]! Feel free to try it out.\n\u003e\n\u003e The repository includes an [example](https://github.com/tantaraio/voy/tree/main/example) where you can see how to load the WASM module with [Webpack 5][21].\n\nLet's break it down a bit to see what it did. First, the demo was loading the WASM module asynchronously. After loading, it started indexing the following phrases:\n\n- \"This is a very happy Person\"\n- \"That is a Happy Dog\"\n- \"Today is a sunny day\"\n\nIndexing is where we transforms the phrases into embeddings and organize them in a embedding space. Once the index was ready, the demo performed a similarity search with the phrase \"That is a happy Person\". Finally we saw the search result returns \"This is a very happy Person\" as the top result.\n\nWe can reason about the credibility of the result because \"This is a happy Person\" does have the highest semantic similarity to \"This is a very happy Person\".\n\n## How does Voy Work?\n\nVoy takes care of two things:\n\n- Indexing resources.\n- Retrieving nearest neighbors from the index.\n\n### Index Resources\n\n\u003e To demonstrate, we'll use \"text\" as our resource.\n\nThe embeddings are organized and stored in a [k-d tree][18] under the hood. k-d tree is a data structure for organizing data in a k-dimensional space. It is very useful for our vector embeddings index because the embeddings are fixed floating arrays.\n\nAs of now, packaging an embeddings transformers into WASM is still under development. So Voy relies on other libraries like [Web AI][23] to generate embeddings.\n\n```ts\n// Dynamically import Voy\nconst voy = await import('voy')\n\nconst phrases = [\n  'That is a very happy Person',\n  'That is a Happy Dog',\n  'Today is a sunny day',\n]\n\n// Use web-ai to create text embeddings\nconst model = await(await TextModel.create('gtr-t5-quant')).model\nconst processed = await Promise.all(phrases.map((q) =\u003e model.process(q)))\n\n// Index embeddings with Voy\nconst data = processed.map(({ result }, i) =\u003e ({\n  id: String(i),\n  title: phrases[i],\n  url: `/path/${i}`, // link to your resource for the search result\n  embeddings: result,\n}))\nconst index = voy.index({ embeddings: data }) // index is a serialized k-d tree\n```\n\nAs you can see, after executing **voy.index()**, it returns a serialized index. It allows Voy to deserialize the index when executing searches without being in the same environment. For example, the index can be created in build time and ship the serialized index to the client to perform searches. It is referred as the **resumability**.\n\n### Retrieve Nearest Neighbors\n\n```ts\n// Create query embeddings\nconst query = await model.process('That is a happy Person')\n\n// Search with Voy and return the 1 result\nconst nearests = voy.search(index, query.result, 1)\n\n// Display vector similarity search result\nnearests.forEach(\n  (result) =\u003e log(`🕸️ voy similarity search result 👉 \"${result.title}\"`) // That is a very happy Person\n)\n```\n\nInternally, Voy uses Squared [Euclidean distance][9] to calculate the nearest neighbors. There're a few ways to calculate the distance between points. Here the points are the nodes of the embeddings object in the k-d tree. The common formulas are:\n\n- [Euclidean distance][9]\n- [Manhattan distance][16]\n- [Cosine similarity][17]\n\n\u003cimg\n  src=\"/optimized/articles/wasm-semantic-search/distance-matrics.webp\"\n  alt=\"Common distance metrics: Euclidean distance, Manhattan distance, and Cosine similarity\"\n  width=\"100%\"\n  className=\"rounded centered\"\n  loading=\"lazy\"\n/\u003e\n\n## Final Thoughts\n\nVoy is created to make semantic accessible for developers to build, ship, and create user value. It still has a few more steps to be a self-sufficient semantic search engine. If you're interested, you can follow Voy's [public roadmap][24].\n\nIf you believe in Voy's mission and would like to support the project, please check out the [sponsor section][13] on the GitHub repository.\n\nIf you are interested in some of the open source embeddings transformers, here are some of the projects I experimented with:\n\n- [spotify/annoy][12]\n- [facebookresearch/faiss][26]\n- [google-research/bert][25]\n- [UKPLab/sentence-transformers][27] with the [all-MiniLM-L12-v2][28] model\n\n## References\n\n- [Announcing ScaNN: Efficient Vector Similarity Search][10] - Google Research\n- [Build Intelligent Apps with New Redis Vector Similarity Search][4] - Redis\n- [Cosine similarity][17] - Wikipedia\n- [Euclidean distance][9] - Wikipedia\n- [facebookresearch/faiss][26] - GitHub\n- [Faiss: A library for efficient similarity search][11] - Engineering at Meta\n- [Find anything blazingly fast with Google's vector search technology][5] - Google Cloud\n- [Google Hummingbird][1] - Wikipedia\n- [google-research/bert][25] - GitHub\n- [I Built A Snappy Static Full-text Search with WebAssembly, Rust, Next.js, and Xor Filters][14] - Daw-Chih Liou\n- [Introducing Natural Language Search for Podcast Episodes][19] - Spotify\n- [k-d tree][18] - Wikipedia\n- [Manhattan distance][16] - Wikipedia\n- [Nearest neighbor search][7] - Wikipedia\n- [Neural network][8] - Wikipedia\n- [Semantic product search][15] - Amazon Science\n- [Semantic search][3] - Wikipedia\n- [sentence-transformers/all-MiniLM-L12-v2][28] - Hugging Face\n- [Similarity search][6] - Wikipedia\n- [spotify/annoy][12] - GitHub\n- [tantaraio/voy][13] - GitHub\n- [UKPLab/sentence-transformers] - GitHub\n- [visheratin/web-ai][23] - GitHub\n- [Voy Roadmap][14] - GitHub Projects\n- [What is semantic search: A deep dive into entity-based search][2] - Search Engine Land\n- [WebAssembly][20] - W3C Community Group\n- [Web Workers API][22] - mdn web docs\n- [Webpack][21] - OpenJS Foundation\n\n[1]: https://en.wikipedia.org/wiki/Google_Hummingbird\n[2]: https://searchengineland.com/semantic-search-entity-based-search-388221\n[3]: https://en.wikipedia.org/wiki/Semantic_search\n[4]: https://redis.com/blog/build-intelligent-apps-redis-vector-similarity-search/\n[5]: https://cloud.google.com/blog/topics/developers-practitioners/find-anything-blazingly-fast-googles-vector-search-technology\n[6]: https://en.wikipedia.org/wiki/Similarity_search\n[7]: https://en.wikipedia.org/wiki/Nearest_neighbor_search\n[8]: https://en.wikipedia.org/wiki/Neural_network\n[9]: https://en.wikipedia.org/wiki/Euclidean_distance\n[10]: https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html\n[11]: https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/\n[12]: https://github.com/spotify/annoy\n[13]: https://github.com/tantaraio/voy\n[14]: /articles/i-built-a-snappy-full-text-search-with-webassembly-rust-nextjs-and-xor-filters\n[15]: https://www.amazon.science/publications/semantic-product-search\n[16]: https://en.wikipedia.org/wiki/Taxicab_geometry\n[17]: https://en.wikipedia.org/wiki/Cosine_similarity\n[18]: https://en.wikipedia.org/wiki/K-d_tree\n[19]: https://engineering.atspotify.com/2022/03/introducing-natural-language-search-for-podcast-episodes/\n[20]: https://webassembly.org\n[21]: https://webpack.js.org\n[22]: https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\n[23]: https://github.com/visheratin/web-ai\n[24]: https://github.com/orgs/tantaraio/projects/2/views/1\n[25]: https://github.com/google-research/bert\n[26]: https://github.com/facebookresearch/faiss\n[27]: https://github.com/UKPLab/sentence-transformers\n[28]: https://huggingface.co/sentence-transformers/all-MiniLM-L12-v2\n\n---\n\nHere you have it! Thanks for reading through🙌\nIf you find this article useful, please share it to help more people in their engineering journey.\n\n🐦 Feel free to connect with me on [twitter](https://twitter.com/dawchihliou)!\n\n⏭️ Ready for the next article? 👉 [**Lean Docker Images for Next.JS**](/articles/lean-docker-images-for-nextjs)\n\nHappy coding!\n","code":"var Component=(()=\u003e{var d=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var k=(a,e)=\u003e()=\u003e(e||a((e={exports:{}}).exports,e),e.exports),N=(a,e)=\u003e{for(var i in e)t(a,i,{get:e[i],enumerable:!0})},c=(a,e,i,r)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!g.call(a,s)\u0026\u0026s!==i\u0026\u0026t(a,s,{get:()=\u003ee[s],enumerable:!(r=p(e,s))||r.enumerable});return a};var f=(a,e,i)=\u003e(i=a!=null?d(u(a)):{},c(e||!a||!a.__esModule?t(i,\"default\",{value:a,enumerable:!0}):i,a)),b=a=\u003ec(t({},\"__esModule\",{value:!0}),a);var o=k((W,l)=\u003e{l.exports=_jsx_runtime});var x={};N(x,{default:()=\u003ev,frontmatter:()=\u003ey});var n=f(o()),y={title:\"WASM Semantic Search in Rust\",publishedAt:\"March 10, 2023\",description:\"Introducing Voy, a portable WebAssembly semantic search engine with vector similarity search in Rust.\",cover:\"/optimized/articles/wasm-semantic-search/hero.webp\",category:\"Cloud\",coverWidth:\"1400\",coverHeight:\"700\"};function h(a){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",p:\"p\",hr:\"hr\",blockquote:\"blockquote\",strong:\"strong\",pre:\"pre\",code:\"code\",h3:\"h3\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"in-this-article\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#in-this-article\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"In this article\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"left-pointing magnifying glass\",children:\"\\u{1F50D}\"}),\" We'll learn what semantic search is.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"party popper\",children:\"\\u{1F389}\"}),\" We'll discuss how semantic search impacts the user experience\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"crab\",children:\"\\u{1F980}\"}),\" We'll see the use case of a new npm library called Voy, a WASM vector similarity search engine written in Rust.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's go.\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.h2,{id:\"what-is-semantic-search\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#what-is-semantic-search\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"What Is Semantic Search?\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Semantic search is a type of search that focuses on meanings. You can search with human language or vague concepts, and the search result will give you similar data points in the database based on the semantics of your search query.\"}),`\n`,(0,n.jsx)(e.p,{children:'It almost feels like semantic search engines \"understand\" the meaning of your questions. You can ask any question in your natural language like \"Which Marvel movie to watch after Shang-Chi?\". The engines understand the meaning and why you ask that question and it returns the most relevant results back to you.'}),`\n`,(0,n.jsxs)(e.p,{children:[\"In fact, semantic search engines commonly use pre-trained \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Neural_network\",children:\"Neural Networks\"}),\" models to understand the \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Semantic_search\",children:\"search intent and contextual meanings\"}),`, and generate a computational representation of the search queries and database. We often refer to the representation as \"vector embeddings\" or \"embeddings\". The engine will then classify the embeddings and find the nearest neighbors of the search query embeddings. The nearest neighbors are the data points that are the most relevant to what you're looking for.`]}),`\n`,(0,n.jsx)(e.p,{children:\"To illustrate how semantic search works:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"https://1.bp.blogspot.com/-Rsymb9XvPOE/Xx8rfRnmTHI/AAAAAAAAGRQ/U2n_bBNXS4IBstYrx2IalrFXufLUvmn2gCLcBGAsYHQ/s1600/ScaNN%2Btom%2Bexport.gif\",alt:\"See https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[`The image originated from Google Research's blog \"`,(0,n.jsx)(e.a,{href:\"https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html\",children:\"Announcing ScaNN: Efficient Vector Similarity Search\"}),'\".']}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"who-uses-semantic-search\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#who-uses-semantic-search\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Who Uses Semantic Search?\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Semantic search is everywhere. It's so valuable because it has a big impact on user experience:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Users are able to search and access digital content in a more human way.\"}),`\n`,(0,n.jsxs)(e.li,{children:[\"Search engines are able to provide more relevant and helpful content to the users and make \",(0,n.jsx)(e.a,{href:\"https://searchengineland.com/semantic-search-entity-based-search-388221\",children:\"SEO strategy\"}),\" around keywords irrelevant.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Search can be \",(0,n.jsx)(e.a,{href:\"https://cloud.google.com/blog/topics/developers-practitioners/find-anything-blazingly-fast-googles-vector-search-technology\",children:\"blazingly fast\"}),\" for big data.\"]}),`\n`,(0,n.jsx)(e.li,{children:\"Search isn't limited to text anymore. We can create embeddings from different types of digital content, like images and videos.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Some examples of the major companies that integrated semantic search:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"Google: \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Google_Hummingbird\",children:\"Hummingbird\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Amazon: \",(0,n.jsx)(e.a,{href:\"https://www.amazon.science/publications/semantic-product-search\",children:\"Semantic product search\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Spotify: \",(0,n.jsx)(e.a,{href:\"https://engineering.atspotify.com/2022/03/introducing-natural-language-search-for-podcast-episodes/\",children:\"Natural Language Search\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Meta: \",(0,n.jsx)(e.a,{href:\"https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/\",children:\"Facebook AI Similarity Search\"})]}),`\n`,(0,n.jsxs)(e.li,{children:[\"Redis: \",(0,n.jsx)(e.a,{href:\"https://redis.com/blog/build-intelligent-apps-redis-vector-similarity-search/\",children:\"Redis Vector Similarity Search\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"introducing-voy\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#introducing-voy\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Introducing Voy\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/tantaraio/voy\",children:\"Voy\"}),\" is an open source semantic search engine in \",(0,n.jsx)(e.a,{href:\"https://webassembly.org\",children:\"WebAssembly\"}),\" (WASM). I created it to empower more projects to build semantic features and create better user experience for people around the world. Voy follows several design principles:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F90F}\"}),\" \",(0,n.jsx)(e.strong,{children:\"Tiny\"}),\": Reduce overhead for limited devices, such as mobile browsers with slow network or IoT.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u26A1\"}),\"\\uFE0F \",(0,n.jsx)(e.strong,{children:\"Fast\"}),\": Create the best search experience for the users.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"deciduous tree\",children:\"\\u{1F333}\"}),\" \",(0,n.jsx)(e.strong,{children:\"Tree Shackable\"}),\": Optimize bundle size and enable asynchronous capabilities for modern Web API, such as \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\",children:\"Web Workers\"}),\".\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"battery\",children:\"\\u{1F50B}\"}),\" \",(0,n.jsx)(e.strong,{children:\"Resumable\"}),\": Generate portable embeddings index anywhere, anytime.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"cloud\",children:\"\\u2601\\uFE0F\"}),\" \",(0,n.jsx)(e.strong,{children:\"Edgy\"}),\": Run semantic search on CDN edge servers.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"It's available on npm. You can simply install it with your favorite package manager and start using it.\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsxs)(e.code,{className:\"language-bash code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# with npm\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"npm\"}),` i voy-search\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# with Yarn\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"yarn\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` voy-search\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# with pnpm\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"pnpm\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"add\"}),` voy-search\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"To demonstrate what it looks like:\"}),`\n`,(0,n.jsx)(\"img\",{src:\"/articles/wasm-semantic-search/voy.gif\",alt:\"PNG and WebP comparison\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"You can find the \",(0,n.jsx)(e.a,{href:\"https://github.com/tantaraio/voy\",children:\"Voy's repository on GitHub\"}),\"! Feel free to try it out.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The repository includes an \",(0,n.jsx)(e.a,{href:\"https://github.com/tantaraio/voy/tree/main/example\",children:\"example\"}),\" where you can see how to load the WASM module with \",(0,n.jsx)(e.a,{href:\"https://webpack.js.org\",children:\"Webpack 5\"}),\".\"]}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's break it down a bit to see what it did. First, the demo was loading the WASM module asynchronously. After loading, it started indexing the following phrases:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:'\"This is a very happy Person\"'}),`\n`,(0,n.jsx)(e.li,{children:'\"That is a Happy Dog\"'}),`\n`,(0,n.jsx)(e.li,{children:'\"Today is a sunny day\"'}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:'Indexing is where we transforms the phrases into embeddings and organize them in a embedding space. Once the index was ready, the demo performed a similarity search with the phrase \"That is a happy Person\". Finally we saw the search result returns \"This is a very happy Person\" as the top result.'}),`\n`,(0,n.jsx)(e.p,{children:'We can reason about the credibility of the result because \"This is a happy Person\" does have the highest semantic similarity to \"This is a very happy Person\".'}),`\n`,(0,n.jsxs)(e.h2,{id:\"how-does-voy-work\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#how-does-voy-work\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"How does Voy Work?\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Voy takes care of two things:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"Indexing resources.\"}),`\n`,(0,n.jsx)(e.li,{children:\"Retrieving nearest neighbors from the index.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"index-resources\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#index-resources\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Index Resources\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:`To demonstrate, we'll use \"text\" as our resource.`}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"The embeddings are organized and stored in a \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/K-d_tree\",children:\"k-d tree\"}),\" under the hood. k-d tree is a data structure for organizing data in a k-dimensional space. It is very useful for our vector embeddings index because the embeddings are fixed floating arrays.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"As of now, packaging an embeddings transformers into WASM is still under development. So Voy relies on other libraries like \",(0,n.jsx)(e.a,{href:\"https://github.com/visheratin/web-ai\",children:\"Web AI\"}),\" to generate embeddings.\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Dynamically import Voy\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voy \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'voy'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" phrases \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'That is a very happy Person'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'That is a Happy Dog'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'Today is a sunny day'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Use web-ai to create text embeddings\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" model \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" TextModel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"create\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'gtr-t5-quant'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),`model\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" processed \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"Promise\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"all\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"phrases\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"q\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" model\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"process\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"q\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Index embeddings with Voy\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" processed\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" result \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" i\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"String\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  title\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" phrases\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  url\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"/path/\"}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"i\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// link to your resource for the search result\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  embeddings\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" index \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"index\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" embeddings\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" data \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// index is a serialized k-d tree\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"As you can see, after executing \",(0,n.jsx)(e.strong,{children:\"voy.index()\"}),\", it returns a serialized index. It allows Voy to deserialize the index when executing searches without being in the same environment. For example, the index can be created in build time and ship the serialized index to the client to perform searches. It is referred as the \",(0,n.jsx)(e.strong,{children:\"resumability\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"retrieve-nearest-neighbors\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#retrieve-nearest-neighbors\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Retrieve Nearest Neighbors\"]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-ts\",children:(0,n.jsxs)(e.code,{className:\"language-ts code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Create query embeddings\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" query \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"await\"}),\" model\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"process\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'That is a happy Person'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Search with Voy and return the 1 result\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" nearests \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voy\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"search\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"index\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" query\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Display vector similarity search result\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"nearests\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token template-string\",children:[(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,n.jsxs)(e.span,{className:\"token string\",children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u{1F578}\\uFE0F\"}),\" voy similarity search result \",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"backhand index pointing right\",children:\"\\u{1F449}\"}),' \"']}),(0,n.jsxs)(e.span,{className:\"token interpolation\",children:[(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"result\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"title\",(0,n.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,n.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// That is a very happy Person\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Internally, Voy uses Squared \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Euclidean_distance\",children:\"Euclidean distance\"}),\" to calculate the nearest neighbors. There're a few ways to calculate the distance between points. Here the points are the nodes of the embeddings object in the k-d tree. The common formulas are:\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Euclidean_distance\",children:\"Euclidean distance\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Taxicab_geometry\",children:\"Manhattan distance\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Cosine_similarity\",children:\"Cosine similarity\"})}),`\n`]}),`\n`,(0,n.jsx)(\"img\",{src:\"/optimized/articles/wasm-semantic-search/distance-matrics.webp\",alt:\"Common distance metrics: Euclidean distance, Manhattan distance, and Cosine similarity\",width:\"100%\",className:\"rounded centered\",loading:\"lazy\"}),`\n`,(0,n.jsxs)(e.h2,{id:\"final-thoughts\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#final-thoughts\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Final Thoughts\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Voy is created to make semantic accessible for developers to build, ship, and create user value. It still has a few more steps to be a self-sufficient semantic search engine. If you're interested, you can follow Voy's \",(0,n.jsx)(e.a,{href:\"https://github.com/orgs/tantaraio/projects/2/views/1\",children:\"public roadmap\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you believe in Voy's mission and would like to support the project, please check out the \",(0,n.jsx)(e.a,{href:\"https://github.com/tantaraio/voy\",children:\"sponsor section\"}),\" on the GitHub repository.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"If you are interested in some of the open source embeddings transformers, here are some of the projects I experimented with:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/spotify/annoy\",children:\"spotify/annoy\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/facebookresearch/faiss\",children:\"facebookresearch/faiss\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/google-research/bert\",children:\"google-research/bert\"})}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/UKPLab/sentence-transformers\",children:\"UKPLab/sentence-transformers\"}),\" with the \",(0,n.jsx)(e.a,{href:\"https://huggingface.co/sentence-transformers/all-MiniLM-L12-v2\",children:\"all-MiniLM-L12-v2\"}),\" model\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"references\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#references\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"References\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://ai.googleblog.com/2020/07/announcing-scann-efficient-vector.html\",children:\"Announcing ScaNN: Efficient Vector Similarity Search\"}),\" - Google Research\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://redis.com/blog/build-intelligent-apps-redis-vector-similarity-search/\",children:\"Build Intelligent Apps with New Redis Vector Similarity Search\"}),\" - Redis\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Cosine_similarity\",children:\"Cosine similarity\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Euclidean_distance\",children:\"Euclidean distance\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/facebookresearch/faiss\",children:\"facebookresearch/faiss\"}),\" - GitHub\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/\",children:\"Faiss: A library for efficient similarity search\"}),\" - Engineering at Meta\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://cloud.google.com/blog/topics/developers-practitioners/find-anything-blazingly-fast-googles-vector-search-technology\",children:\"Find anything blazingly fast with Google's vector search technology\"}),\" - Google Cloud\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Google_Hummingbird\",children:\"Google Hummingbird\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/google-research/bert\",children:\"google-research/bert\"}),\" - GitHub\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"/articles/i-built-a-snappy-full-text-search-with-webassembly-rust-nextjs-and-xor-filters\",children:\"I Built A Snappy Static Full-text Search with WebAssembly, Rust, Next.js, and Xor Filters\"}),\" - Daw-Chih Liou\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://engineering.atspotify.com/2022/03/introducing-natural-language-search-for-podcast-episodes/\",children:\"Introducing Natural Language Search for Podcast Episodes\"}),\" - Spotify\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/K-d_tree\",children:\"k-d tree\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Taxicab_geometry\",children:\"Manhattan distance\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Nearest_neighbor_search\",children:\"Nearest neighbor search\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Neural_network\",children:\"Neural network\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://www.amazon.science/publications/semantic-product-search\",children:\"Semantic product search\"}),\" - Amazon Science\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Semantic_search\",children:\"Semantic search\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://huggingface.co/sentence-transformers/all-MiniLM-L12-v2\",children:\"sentence-transformers/all-MiniLM-L12-v2\"}),\" - Hugging Face\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Similarity_search\",children:\"Similarity search\"}),\" - Wikipedia\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/spotify/annoy\",children:\"spotify/annoy\"}),\" - GitHub\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/tantaraio/voy\",children:\"tantaraio/voy\"}),\" - GitHub\"]}),`\n`,(0,n.jsx)(e.li,{children:\"[UKPLab/sentence-transformers] - GitHub\"}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://github.com/visheratin/web-ai\",children:\"visheratin/web-ai\"}),\" - GitHub\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"/articles/i-built-a-snappy-full-text-search-with-webassembly-rust-nextjs-and-xor-filters\",children:\"Voy Roadmap\"}),\" - GitHub Projects\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://searchengineland.com/semantic-search-entity-based-search-388221\",children:\"What is semantic search: A deep dive into entity-based search\"}),\" - Search Engine Land\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://webassembly.org\",children:\"WebAssembly\"}),\" - W3C Community Group\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers\",children:\"Web Workers API\"}),\" - mdn web docs\"]}),`\n`,(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://webpack.js.org\",children:\"Webpack\"}),\" - OpenJS Foundation\"]}),`\n`]}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsxs)(e.p,{children:[\"Here you have it! Thanks for reading through\",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"raising hands\",children:\"\\u{1F64C}\"}),`\nIf you find this article useful, please share it to help more people in their engineering journey.`]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"bird\",children:\"\\u{1F426}\"}),\" Feel free to connect with me on \",(0,n.jsx)(e.a,{href:\"https://twitter.com/dawchihliou\",children:\"twitter\"}),\"!\"]}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"\",\"aria-hidden\":!0,children:\"\\u23ED\\uFE0F\"}),\" Ready for the next article? \",(0,n.jsx)(e.span,{role:\"img\",\"aria-label\":\"backhand index pointing right\",children:\"\\u{1F449}\"}),\" \",(0,n.jsx)(e.a,{href:\"/articles/lean-docker-images-for-nextjs\",children:(0,n.jsx)(e.strong,{children:\"Lean Docker Images for Next.JS\"})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Happy coding!\"})]})}function w(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(h,a)})):h(a)}var v=w;return b(x);})();\n;return Component;"},"_id":"articles/wasm-semantic-search-in-rust.mdx","_raw":{"sourceFilePath":"articles/wasm-semantic-search-in-rust.mdx","sourceFileName":"wasm-semantic-search-in-rust.mdx","sourceFileDir":"articles","contentType":"mdx","flattenedPath":"articles/wasm-semantic-search-in-rust"},"type":"Article","readingTime":{"text":"8 min read","minutes":7.365,"time":441900,"words":1473},"wordCount":1475,"slug":"wasm-semantic-search-in-rust"}},"__N_SSG":true},"page":"/articles/[slug]","query":{"slug":"wasm-semantic-search-in-rust"},"buildId":"k4PsEQoHa5TXNOL0ZP_qx","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>